<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<link rel="alternate" type="application/rss+xml" href="/Mon_Web_Dev_Wiki/blog/rss.xml" title="Mon wiki de dÃ©veloppement web RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/Mon_Web_Dev_Wiki/blog/atom.xml" title="Mon wiki de dÃ©veloppement web Atom Feed"><title data-react-helmet="true">CrÃ©ez un serveur Express simple | Mon wiki de dÃ©veloppement web</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://gylgyl2000.github.io/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Construisez_une_API_securisee_pour_une_application_d_avis_gastronomiques/Passez_au_Full_stack_avec_Node_js_Express_et_MongoDB/Creez_un_serveur_Express_simple"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="CrÃ©ez un serveur Express simple | Mon wiki de dÃ©veloppement web"><meta data-react-helmet="true" name="description" content="Tirez le maximum de ce cours"><meta data-react-helmet="true" property="og:description" content="Tirez le maximum de ce cours"><link data-react-helmet="true" rel="icon" href="https://monwikidevweb.la-loutre.fr/img/river-otter-silhouette.svg"><link data-react-helmet="true" rel="canonical" href="https://gylgyl2000.github.io/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Construisez_une_API_securisee_pour_une_application_d_avis_gastronomiques/Passez_au_Full_stack_avec_Node_js_Express_et_MongoDB/Creez_un_serveur_Express_simple"><link data-react-helmet="true" rel="alternate" href="https://gylgyl2000.github.io/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Construisez_une_API_securisee_pour_une_application_d_avis_gastronomiques/Passez_au_Full_stack_avec_Node_js_Express_et_MongoDB/Creez_un_serveur_Express_simple" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://gylgyl2000.github.io/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Construisez_une_API_securisee_pour_une_application_d_avis_gastronomiques/Passez_au_Full_stack_avec_Node_js_Express_et_MongoDB/Creez_un_serveur_Express_simple" hreflang="x-default"><link rel="stylesheet" href="/Mon_Web_Dev_Wiki/assets/css/styles.63c1cfd2.css">
<link rel="preload" href="/Mon_Web_Dev_Wiki/assets/js/runtime~main.5674b794.js" as="script">
<link rel="preload" href="/Mon_Web_Dev_Wiki/assets/js/main.faca9600.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Mon_Web_Dev_Wiki/"><div class="navbar__logo"><img src="https://monwikidevweb.la-loutre.fr/img/river-otter-silhouette.svg" alt="Otter" class="themedImage_1VuW themedImage--light_3UqQ"><img src="https://monwikidevweb.la-loutre.fr/img/river-otter-silhouette.svg" alt="Otter" class="themedImage_1VuW themedImage--dark_hz6m"></div><b class="navbar__title">Mon Wiki Dev Web par LaLoutre</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/Mon_Web_Dev_Wiki/docs/menu">Menu</a><a class="navbar__item navbar__link" href="/Mon_Web_Dev_Wiki/docs/Outils/menu">Outils</a><a class="navbar__item navbar__link" href="/Mon_Web_Dev_Wiki/docs/Aide-memoire/menu">Aide-mÃ©moire</a><a class="navbar__item navbar__link" href="/Mon_Web_Dev_Wiki/docs/Algorithmes/menu">Algorithmes</a><a class="navbar__item navbar__link" href="/Mon_Web_Dev_Wiki/docs/Lexique/">Lexique</a><a href="https://github.com/gylgyl2000/Mon_Web_Dev_Wiki" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link github"></a><div class="toggle_71bT toggle_3Zt9 toggleDisabled_3cF-"><div class="toggleTrack_32Fl" role="button" tabindex="-1"><div class="toggleTrackCheck_3lV7"><span class="toggleIcon_O4iE">ğŸŒœ</span></div><div class="toggleTrackX_S2yS"><span class="toggleIcon_O4iE">ğŸŒ</span></div><div class="toggleTrackThumb_xI_Z"></div></div><input type="checkbox" class="toggleScreenReader_28Tw" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_35hR" type="button"></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Mon_Web_Dev_Wiki/docs/OpenClassrooms/menu">OpenClassrooms</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Prenez_en_main_votre_formation_de_developpeur_web/mission">Prenez en main votre formation de dÃ©veloppeur web</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Transformez_une_maquette_en_site_web_avec_HTML_&amp;_CSS/mission">Transformez une maquette en site web avec HTML &amp; CSS</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Dynamisez_une_page_web_avec_des_animations_CSS/mission">Dynamisez une page web avec des animations CSS</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Optimisez_un_site_web_existant/mission">Optimisez un site web existant</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Construisez_un_site_e-commerce/ancienne_mission">Construisez un site e-commerce</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_2fq0" href="/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Construisez_une_API_securisee_pour_une_application_d_avis_gastronomiques/mission">Construisez une API sÃ©curisÃ©e pour une application d&#x27;avis gastronomiques</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Construisez_une_API_securisee_pour_une_application_d_avis_gastronomiques/mission">Mission</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" tabindex="0" href="/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Construisez_une_API_securisee_pour_une_application_d_avis_gastronomiques/Adoptez_les_API_REST_pour_vos_projets_web/Introduction_du_cours">Adoptez les API REST pour vos projets web</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_2fq0" tabindex="0" href="/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Construisez_une_API_securisee_pour_une_application_d_avis_gastronomiques/Passez_au_Full_stack_avec_Node_js_Express_et_MongoDB/Introduction_du_cours">Passez au Full stack avec Node.js, Express et MongoDB</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Construisez_une_API_securisee_pour_une_application_d_avis_gastronomiques/Passez_au_Full_stack_avec_Node_js_Express_et_MongoDB/Introduction_du_cours">Introduction du cours</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Construisez_une_API_securisee_pour_une_application_d_avis_gastronomiques/Passez_au_Full_stack_avec_Node_js_Express_et_MongoDB/Creez_un_serveur_Express_simple">CrÃ©ez un serveur Express simple</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Construisez_une_API_securisee_pour_une_application_d_avis_gastronomiques/Passez_au_Full_stack_avec_Node_js_Express_et_MongoDB/Creez_une_API_RESTful">CrÃ©ez une API RESTful</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Construisez_une_API_securisee_pour_une_application_d_avis_gastronomiques/Passez_au_Full_stack_avec_Node_js_Express_et_MongoDB/Mettez_en_place_un_systÃ¨me_d_authentification_sur_votre_application">Mettez en place un systÃ¨me d&#x27;authentification sur votre application</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Construisez_une_API_securisee_pour_une_application_d_avis_gastronomiques/Passez_au_Full_stack_avec_Node_js_Express_et_MongoDB/Ajoutez_une_gestion_des_fichiers_utilisateur_sur_l_application">Ajoutez une gestion des fichiers utilisateur sur l&#x27;application</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" tabindex="0" href="/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Construisez_une_API_securisee_pour_une_application_d_avis_gastronomiques/Securisez_vos_applications_web_avec_l_OWASP/Introduction_du_cours">SÃ©curisez vos applications web avec l&#x27;OWASP</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Creez_un_reseau_social_d_entreprise/mission">CrÃ©ez un rÃ©seau social dâ€™entreprise</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Definissez_votre_projet_professionnel_et_preparez_vos_outils_de_candidature/mission">DÃ©finissez votre projet professionnel et prÃ©parez vos outils de candidature</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Candidatez/mission">Candidatez</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_1CGd"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_3E-R"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>CrÃ©ez un serveur Express simple</h1></header><h2 class="anchor anchorWithStickyNavbar_31ik" id="tirez-le-maximum-de-ce-cours">Tirez le maximum de ce cours<a class="hash-link" href="#tirez-le-maximum-de-ce-cours" title="Direct link to heading">â€‹</a></h2><p><a href="https://openclassrooms.com/fr/courses/6390246-passez-au-full-stack-avec-node-js-express-et-mongodb/6521356-tirez-le-maximum-de-ce-cours" target="_blank" rel="noopener noreferrer">Tirez le maximum de ce cours - Passez au Full stack avec Node.js, Express et MongoDB - OpenClassrooms</a></p><div data-testid="general-observer" class="mdx-embed"><div style="height:0;width:100%"></div></div><br><p>Bienvenue dans ce cours sur Node, Express, et MongoDBÂ !</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>Je suis <strong>William Alexander</strong>, <strong>DÃ©veloppeur full stack</strong> depuis de nombreuses annÃ©es, et je suis ravi de vous accompagner tout au
long de votre apprentissage du dÃ©veloppement back-end avec Javascript.</p></div></div><p>Ce cours est destinÃ© aux dÃ©veloppeurs ayant dÃ©jÃ  des connaissances en JavaScript. GÃ©nÃ©ralement, on commence l&#x27;apprentissage de
JavaScript par toute la partieÂ <strong>front-end</strong> : la crÃ©ation de pages Web dynamiques, avec manipulations du DOM et interactions
utilisateur par exemple.</p><p>L&#x27;objectif de ce cours est de vous aider Ã  appliquer vos connaissances JavaScript sur des technologiesÂ <strong>back-end</strong>Â (Node, Express et
MongoDB) afin de crÃ©er des serveurs complets permettant d&#x27;interagir avec des bases de donnÃ©es.</p><p>Tout cela dans l&#x27;idÃ©e de devenir un dÃ©veloppeurÂ <strong>full stack</strong>, autrement dit un dÃ©veloppeur capable de crÃ©er tous les Ã©lÃ©ments
nÃ©cessaires Ã  une application Web complÃ¨te : back-endÂ <em>et</em> front-end.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>Si vous souhaitez en apprendre plus sur le dÃ©veloppement Web,Â allez dÃ©couvrir notre parcours deÂ <a href="https://openclassrooms.com/fr/paths/48-developpeur-web-junior" target="_blank" rel="noopener noreferrer">DÃ©veloppeur Web Junior</a>Â !</p></div></div><p>Parlons maintenant de la structure de ce cours afin que vous puissiez en tirer parti au maximum en toute autonomie !</p><p>Chaque chapitre de ce cours commence par une <strong>vidÃ©o</strong>, oÃ¹ je donne un aperÃ§u deÂ ce qui sera abordÃ© dans le chapitre, ainsi que
quelques explications.</p><p>Ensuite, dans le <strong>texte</strong> du cours,Â je vous explique les concepts du chapitre en dÃ©tail, et je vous guide dans la mise en pratique
de ces concepts. Vous y trouverez Ã©galement desÂ <strong>screencasts</strong>, c&#x27;est-Ã -dire des enregistrements vidÃ©o de mon Ã©cran, pour vous
montrer ce que je vous explique dans le chapitre.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>Je vous encourage Ã  suivre ce coursÂ <strong>en codant</strong>. Le dÃ©veloppement Ã©tant un mÃ©tierÂ <strong>pratique</strong>, pratiquer en apprenant est la
meilleure faÃ§on de comprendre et de retenir !</p></div></div><p>Ã€ la fin de chaque partie du cours, unÂ <strong>quiz</strong> vous permettra de vÃ©rifier vos nouvelles connaissances et d&#x27;identifier les chapitres
Ã  revoir si nÃ©cessaire.</p><p>Vous Ãªtes prÃªt ? Alors je vous propose de me rejoindre dÃ¨s maintenant dans le prochain chapitre !</p><hr><h2 class="anchor anchorWithStickyNavbar_31ik" id="configurez-votre-environnement-de-dÃ©veloppement">Configurez votre environnement de dÃ©veloppement<a class="hash-link" href="#configurez-votre-environnement-de-dÃ©veloppement" title="Direct link to heading">â€‹</a></h2><p><a href="https://openclassrooms.com/fr/courses/6390246-passez-au-full-stack-avec-node-js-express-et-mongodb/6466206-configurez-votre-environnement-de-developpement" target="_blank" rel="noopener noreferrer">Configurez votre environnement de dÃ©veloppement - Passez au Full stack avec Node.js, Express et MongoDB - OpenClassrooms</a></p><div data-testid="general-observer" class="mdx-embed"><div style="height:0;width:100%"></div></div><br><p>Avant de pouvoir commencer Ã  coder, vous devrez installer quelques outils. CommenÃ§ons par installer le <em>runtime</em> de Node.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="installez-node">Installez Node<a class="hash-link" href="#installez-node" title="Direct link to heading">â€‹</a></h3><p>AccÃ©dez Ã Â <a href="https://nodejs.org/en/" target="_blank" rel="noopener noreferrer">NodeJS.org</a>Â pour tÃ©lÃ©charger puis installer la derniÃ¨re version de Node. Cela a pour effet
d&#x27;installer le <em>runtime</em> JavaScript de Node,Â ce qui vous permet par lÃ  mÃªme d&#x27;exÃ©cuter les serveurs Node. Cela installe Ã©galement
<strong>Node Package Manager</strong> ouÂ <code>npm</code>, outil prÃ©cieux pour l&#x27;installation des packages nÃ©cessaires Ã  la crÃ©ation de vos projets.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="installez-angular">Installez Angular<a class="hash-link" href="#installez-angular" title="Direct link to heading">â€‹</a></h3><p>Il vous faudra Ã©galement la <strong>CLIÂ Angular</strong> pour pouvoirÂ faire tournerÂ le serveur de dÃ©veloppement sur lequel sera exÃ©cutÃ© le code
du front-end. Pour l&#x27;installer, exÃ©cutez la commande suivante Ã  partir deÂ votre consoleÂ :</p><div class="codeBlockContainer_K1bP language-sh theme-code-block"><div class="codeBlockContent_hGly sh"><pre tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">npm install -g @angular/cli</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>!</h5></div><div class="admonition-content"><p>Les utilisateurs Mac devront peut-Ãªtre ajouterÂ <code>sudo</code>Â pour que cela fonctionne. Pour plus d&#x27;informations sur l&#x27;utilisation deÂ <code>npm</code>
sur MacOS, reportez-vous Ã  la page <a href="https://docs.npmjs.com/resolving-eacces-permissions-errors-when-installing-packages-globally" target="_blank" rel="noopener noreferrer"><em>Resolving EACCES permissions errors when installing packages globally</em></a>,
issue de la documentation deÂ <code>npm</code>.</p></div></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="clonez-lapplication-front-end">Clonez l&#x27;application front-end<a class="hash-link" href="#clonez-lapplication-front-end" title="Direct link to heading">â€‹</a></h3><p>Il est maintenant temps de crÃ©er votre rÃ©pertoire de travail pour ce cours : vous pouvez le nommerÂ <code>go-fullstack</code> par exemple.</p><p>Une fois le rÃ©pertoire crÃ©Ã©,Â il vous faudra cloner <a href="https://github.com/OpenClassrooms-Student-Center/go-fullstack-fr-frontend.git" target="_blank" rel="noopener noreferrer">le code pour l&#x27;application front-end</a>
dans un sous-rÃ©pertoire appelÃ© <code>frontend</code>. Ã€ partir de votre rÃ©pertoire de travail, entrez la commande ci-dessous :</p><div class="codeBlockContainer_K1bP language-sh theme-code-block"><div class="codeBlockContent_hGly sh"><pre tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">git cloneÂ https://github.com/OpenClassrooms-Student-Center/go-fullstack-fr-frontend.git frontend</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Vous pouvez ensuite procÃ©der comme suit :</p><div class="codeBlockContainer_K1bP language-sh theme-code-block"><div class="codeBlockContent_hGly sh"><pre tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">cd frontend</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm install</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ng serve</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Cela installera toutes les dÃ©pendances requises par l&#x27;application front-end et lancera le serveur de dÃ©veloppement. DÃ©sormais,Â si
vous accÃ©dez Ã Â <a href="http://localhost:4200" target="_blank" rel="noopener noreferrer">http://localhost:4200</a>, vous devriez voir l&#x27;interface suivante (en supposant que vous avez
bien suivi les Ã©tapes ci-dessus) :</p><figure><img src="https://user.oc-static.com/upload/2019/09/29/15697612456291_Screenshot%202019-09-29%20at%2014.47.04.png" alt="Page d&#x27;accueil de l&#x27;application front-end"><figcaption>Page d&#x27;accueil de l&#x27;application front-end</figcaption></figure><p>N&#x27;hÃ©sitez pas Ã  explorer le contenu pour avoir un aperÃ§u de ce que nous allons crÃ©er.Â Ã‡a ne reprÃ©sente pas encore beaucoup, mais
c&#x27;est lÃ  que vous intervenez !</p><p>La derniÃ¨re Ã©tape consiste Ã  crÃ©er un second sous-rÃ©pertoire dans votre rÃ©pertoire de travail, appelÃ©Â <code>backend</code>. C&#x27;est lÃ  que vous
crÃ©erez l&#x27;application Express.</p><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>!</h5></div><div class="admonition-content"><p>Veillez Ã  avoir toujours un terminal qui exÃ©cuteÂ <code>ng serve</code>Â lorsque vous travaillez sur ce cours. De cette faÃ§on, vous pourrez
toujours testerÂ votre code en temps rÃ©el !</p></div></div><hr><h2 class="anchor anchorWithStickyNavbar_31ik" id="dÃ©marrez-votre-serveur-node">DÃ©marrez votre serveur Node<a class="hash-link" href="#dÃ©marrez-votre-serveur-node" title="Direct link to heading">â€‹</a></h2><p><a href="https://openclassrooms.com/fr/courses/6390246-passez-au-full-stack-avec-node-js-express-et-mongodb/6466231-demarrez-votre-serveur-node" target="_blank" rel="noopener noreferrer">DÃ©marrez votre serveur Node - Passez au Full stack avec Node.js, Express et MongoDB - OpenClassrooms</a></p><div data-testid="general-observer" class="mdx-embed"><div style="height:0;width:100%"></div></div><br><h3 class="anchor anchorWithStickyNavbar_31ik" id="quest-ce-quenode-">Qu&#x27;est-ce queÂ Node ?<a class="hash-link" href="#quest-ce-quenode-" title="Direct link to heading">â€‹</a></h3><p>Avant de nous lancer dans l&#x27;Ã©criture du code, qu&#x27;est-ce queÂ Node ? Qu&#x27;est-ce qu&#x27;Express ? Y-a-t-il une diffÃ©rence ?</p><p><strong>Node</strong>Â est leÂ <em><strong>runtime</strong></em> qui permet d&#x27;Ã©crire toutes nos tÃ¢ches cÃ´tÃ© serveur, en JavaScript, telles que la logique mÃ©tier, la
persistance des donnÃ©es et la sÃ©curitÃ©. Node ajoute Ã©galement des fonctionnalitÃ©s que le JavaScript du navigateur standard ne
possÃ¨de pas, comme par exemple l&#x27;accÃ¨s au systÃ¨me de fichiers local.</p><p><strong>Express</strong>Â est, pour faire court, unÂ <strong>framework</strong>Â reposant sur Node qui facilite la crÃ©ation et la gestion des serveursÂ Node,
comme vous le verrez Ã  mesure que nous progresserons dans ce cours.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="initialisez-votre-projet">Initialisez votre projet<a class="hash-link" href="#initialisez-votre-projet" title="Direct link to heading">â€‹</a></h3><p>Ã€ partir de votre dossierÂ <code>backend</code>,Â exÃ©cutez la commande de terminalÂ <code>npm init</code>Â pour initialiser votre projet. Vous pouvez utiliser
les options par dÃ©faut ou les modifierÂ si vous le souhaitez. Cependant, votre point d&#x27;entrÃ©e doit ÃªtreÂ <code>server.js</code>. Vous le crÃ©erez
bientÃ´t.</p><div data-testid="general-observer" class="mdx-embed"><div style="height:0;width:100%"></div></div><br><p>Ce processus gÃ©nÃ¨re un fichierÂ <code>package.json</code>Â vierge,Â dans lequel seront enregistrÃ©sÂ les dÃ©tails de tous les packagesÂ <code>npm</code>Â que nous
utiliserons pour ce projet.</p><p>Ã€ ce stade, vous pouvez initialiser unÂ dÃ©pÃ´t Git en exÃ©cutantÂ <code>git init</code>Â depuisÂ votre dossierÂ <code>backend</code>. N&#x27;oubliez pas de crÃ©er un
fichierÂ <code>.gitignore</code>Â contenant la ligneÂ <code>node_modules</code>Â afin de ne pas envoyer ce dossier (qui deviendra volumineux) vers votre dÃ©pÃ´t
distant.</p><p>CrÃ©ez un fichierÂ <code>server.js</code>Â Ã  l&#x27;intÃ©rieur de votre dossierÂ <code>backend</code>. Il contiendra votre premier serveur Node.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="dÃ©marrez-un-serveur-basique">DÃ©marrez un serveur basique<a class="hash-link" href="#dÃ©marrez-un-serveur-basique" title="Direct link to heading">â€‹</a></h3><div data-testid="general-observer" class="mdx-embed"><div style="height:0;width:100%"></div></div><br><p>Pour crÃ©er un serveurÂ NodeÂ dans votre fichierÂ <code>server.js</code>, il vous faudra le code suivant :</p><div class="codeBlockContainer_K1bP language-javascript theme-code-block"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> http </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;http&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> server </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> http</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">createServer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">req</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> res</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">end</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;VoilÃ  la rÃ©ponse du serveur !&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">server</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">listen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">process</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">env</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">PORT</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Ici,Â vous importez le package HTTP natif deÂ NodeÂ et l&#x27;utilisez pour crÃ©er un serveur, en passant une fonction qui sera exÃ©cutÃ©e Ã 
chaque appel effectuÃ© vers ce serveur. Cette fonction reÃ§oit les objetsÂ <code>request</code>Â etÂ <code>response</code>Â en tant qu&#x27;arguments. Dans cet
exemple, vous utilisez la mÃ©thodeÂ <code>end</code>Â de la rÃ©ponse pour renvoyer une rÃ©ponse de typeÂ <code>string</code>Â Ã  l&#x27;appelant.</p><p>Dans la derniÃ¨re ligne, vous configurez le serveur pour qu&#x27;il Ã©coute :</p><ul><li>soit la variable d&#x27;environnement du port grÃ¢ce Ã Â <code>process.env.PORT</code>Â : si la plateforme de dÃ©ploiement propose un port par dÃ©faut,
c&#x27;est celui-ci qu&#x27;on Ã©coutera ;</li><li>soit le port 3000, ce qui nous servira dans le cas de notre plateforme de dÃ©veloppement.</li></ul><p>DÃ©marrez le serveur en exÃ©cutantÂ <code>node server</code>Â Ã  partir de la ligne de commande. Pour vÃ©rifier qu&#x27;il envoie la rÃ©ponse correcte,
utilisez une fenÃªtre de navigateur pour accÃ©der Ã Â <a href="http://localhost:3000" target="_blank" rel="noopener noreferrer">http://localhost:3000</a>Â (en supposant que vous ayez bien
suivi les Ã©tapes ci-dessus).</p><p>Vous pouvez Ã©galement utiliser un outil de test tel queÂ <a href="https://www.getpostman.com" target="_blank" rel="noopener noreferrer">Postman</a>Â pour effectuer une requÃªte GET (ou
tout autre type de requÃªte d&#x27;ailleurs,Â car notre serveur ne fait actuellement aucune distinction !)Â vers la mÃªme URL :
<a href="http://localhost:3000" target="_blank" rel="noopener noreferrer">http://localhost:3000</a>Â (Ã  nouveau, en supposant que vous ayez bien suivi les Ã©tapes ci-dessus).</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="installez-nodemon">Installez nodemon<a class="hash-link" href="#installez-nodemon" title="Direct link to heading">â€‹</a></h3><div data-testid="general-observer" class="mdx-embed"><div style="height:0;width:100%"></div></div><br><p>Pour simplifier le dÃ©veloppement Node, vous souhaiterez peut-Ãªtre installerÂ <code>nodemon</code>. Pour ce faire, exÃ©cutez la commande suivante :</p><div class="codeBlockContainer_K1bP language-sh theme-code-block"><div class="codeBlockContent_hGly sh"><pre tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">npm install -g nodemon</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>DÃ©sormais,Â au lieu d&#x27;utiliserÂ <code>node server</code>Â pour dÃ©marrer votre serveur, vous pouvez utiliserÂ <code>nodemon server</code>. Il surveillera les
modifications de vos fichiers et redÃ©marrera le serveur lorsqu&#x27;il aura besoin d&#x27;Ãªtre mis Ã  jour. Cela vous garantitÂ d&#x27;avoir toujours
la derniÃ¨re version de votre serveur dÃ¨s que vous sauvegardez, sans devoir relancer manuellement le serveur ! Vous n&#x27;aurez qu&#x27;Ã 
relancer la requÃªte vers votre serveur. Pratique, n&#x27;est-ce pas ?</p><p>Maintenant que vous savez dÃ©marrer un serveur de dÃ©veloppementÂ Node,Â dans le chapitre suivant, nous ajouteronsÂ ExpressÂ au projet
pour simplifier encore plus la crÃ©ation de notreÂ API.</p><hr><h2 class="anchor anchorWithStickyNavbar_31ik" id="crÃ©ez-une-application-express">CrÃ©ez une application Express<a class="hash-link" href="#crÃ©ez-une-application-express" title="Direct link to heading">â€‹</a></h2><p><a href="https://openclassrooms.com/fr/courses/6390246-passez-au-full-stack-avec-node-js-express-et-mongodb/6466277-creez-une-application-express" target="_blank" rel="noopener noreferrer">CrÃ©ez une application Express - Passez au Full stack avec Node.js, Express et MongoDB - OpenClassrooms</a></p><div data-testid="general-observer" class="mdx-embed"><div style="height:0;width:100%"></div></div><br><p>Coder des serveurs Web en Node pur est possible, mais long et laborieux. En effet, cela exige d&#x27;analyser manuellement chaque demande
entrante.Â L&#x27;utilisation du frameworkÂ Express simplifie ces tÃ¢ches, en nous permettant de dÃ©ployer nos API beaucoup plus rapidement.
Installons-le maintenant.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="installez-express">Installez Express<a class="hash-link" href="#installez-express" title="Direct link to heading">â€‹</a></h3><div data-testid="general-observer" class="mdx-embed"><div style="height:0;width:100%"></div></div><br><p>Pour ajouterÂ Express Ã  votre projet,Â exÃ©cutez la commande suivante Ã  partir de votre dossierÂ <code>backend</code>Â :</p><div class="codeBlockContainer_K1bP language-sh theme-code-block"><div class="codeBlockContent_hGly sh"><pre tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">npm install --save express</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>CrÃ©ez un fichierÂ <code>app.js</code>, oÃ¹ vous placerez votre applicationÂ Express :</p><div class="codeBlockContainer_K1bP language-javascript theme-code-block"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> express </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;express&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> app </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">express</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> app</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="exÃ©cutez-lapplicationexpresssur-le-serveur-node">ExÃ©cutez l&#x27;applicationÂ ExpressÂ sur le serveur Node<a class="hash-link" href="#exÃ©cutez-lapplicationexpresssur-le-serveur-node" title="Direct link to heading">â€‹</a></h3><div data-testid="general-observer" class="mdx-embed"><div style="height:0;width:100%"></div></div><br><p>Revenez Ã  votre fichierÂ <code>server.js</code>Â et modifiez-le comme suit :</p><div class="codeBlockContainer_K1bP language-javascript theme-code-block"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> http </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;http&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> app </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;./app&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">set</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;port&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> process</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">env</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">PORT</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> server </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> http</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">createServer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">app</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">server</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">listen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">process</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">env</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">PORT</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Effectuer une demande vers ce serveur gÃ©nÃ©rera une erreur 404,Â car notre application n&#x27;a encore aucun moyen de rÃ©pondre. Configurons
une rÃ©ponse simple pourÂ nous assurer que tout fonctionne correctement, en effectuant un ajout Ã  notre fichierÂ <code>app.js</code>Â :</p><div class="codeBlockContainer_K1bP language-javascript theme-code-block"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> express </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;express&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> app </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">express</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">use</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">req</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> res</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">json</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> message</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Votre requÃªte a bien Ã©tÃ© reÃ§ue !&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> app</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Si vous essayez d&#x27;effectuer uneÂ requÃªte Ã  votre serveur, vous devez rÃ©cupÃ©rer un objetÂ JSONÂ contenant le message que nous avons
spÃ©cifiÃ©.</p><p>Maintenant que notre serveurÂ NodeÂ gÃ¨re correctement notre application Express, voyons comment nous pouvonsÂ ajouter des fonctionnalitÃ©s
Ã  l&#x27;application.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="ajoutezdes-middleware">AjoutezÂ des middleware<a class="hash-link" href="#ajoutezdes-middleware" title="Direct link to heading">â€‹</a></h3><p>Une applicationÂ Express est fondamentalement une sÃ©rie de fonctions appelÃ©esÂ <strong><em>middleware</em></strong>.Â Chaque Ã©lÃ©ment deÂ <em>middleware</em> reÃ§oit
les objetsÂ <code>request</code>Â et <code>response</code>, peut les lire, les analyser et les manipuler, le cas Ã©chÃ©ant. LeÂ <em>middleware</em> Express reÃ§oit
Ã©galement la mÃ©thodeÂ <code>next</code>, qui permet Ã  chaque <em>middleware</em> de passer l&#x27;exÃ©cution au <em>middleware</em> suivant. Voyons comment tout cela
fonctionne.</p><div data-testid="general-observer" class="mdx-embed"><div style="height:0;width:100%"></div></div><br><div class="codeBlockContainer_K1bP language-javascript theme-code-block"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> express </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;express&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> app </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">express</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">use</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">req</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> res</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> next</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;RequÃªte reÃ§ue !&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">next</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">use</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">req</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> res</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> next</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">status</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">201</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">next</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">use</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">req</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> res</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> next</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">json</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> message</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Votre requÃªte a bien Ã©tÃ© reÃ§ue !&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">next</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">use</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">req</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> res</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> next</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;RÃ©ponse envoyÃ©e avec succÃ¨s !&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> app</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Cette applicationÂ ExpressÂ contient quatre Ã©lÃ©ments de <em>middleware</em> :</p><ul><li>le premier enregistreÂ Â« RequÃªte reÃ§ue ! Â» dans la console et passe l&#x27;exÃ©cution ;</li><li>le deuxiÃ¨me ajoute un code d&#x27;Ã©tat 201Â Ã  la rÃ©ponse et passe l&#x27;exÃ©cution ;</li><li>le troisiÃ¨me envoie la rÃ©ponseÂ JSONÂ et passe l&#x27;exÃ©cution ;</li><li>le dernier Ã©lÃ©mentÂ deÂ <em>middleware</em> enregistre Â«Â RÃ©ponse envoyÃ©e avec succÃ¨s ! Â» dans la console.</li></ul><p>Il s&#x27;agitÂ d&#x27;un serveur trÃ¨s simple et qui ne fait pas grand-chose pour l&#x27;instant, mais il illustre comment le <em>middleware</em> fonctionne
dans une applicationÂ Express.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="amÃ©liorezserverjs">AmÃ©liorezÂ server.js<a class="hash-link" href="#amÃ©liorezserverjs" title="Direct link to heading">â€‹</a></h3><p>AvantÂ d&#x27;aller plus loin dans le cours,Â apportons quelques amÃ©liorations Ã  notre fichierÂ <code>server.js</code>,Â pour le rendre plus stable et
appropriÃ© pour le dÃ©ploiement :</p><div class="codeBlockContainer_K1bP language-javascript theme-code-block"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> http </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;http&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> app </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;./app&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">normalizePort</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token parameter">val</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> port </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">parseInt</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">val</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">isNaN</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">port</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> val</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">port </span><span class="token operator" style="color:#393A34">&gt;=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> port</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> port </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">normalizePort</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">process</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">env</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">PORT</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;3000&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">set</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;port&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> port</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">errorHandler</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token parameter">error</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">syscall</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">!==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;listen&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">throw</span><span class="token plain"> error</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> address </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> server</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">address</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> bind </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">typeof</span><span class="token plain"> address </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;string&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;pipe &#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> address </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;port: &#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> port</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">switch</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">code</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;EACCES&#x27;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">error</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">bind </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27; requires elevated privileges.&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            process</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">exit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword control-flow" style="color:#00009f">break</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;EADDRINUSE&#x27;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">error</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">bind </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27; is already in use.&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            process</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">exit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword control-flow" style="color:#00009f">break</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword module" style="color:#00009f">default</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword control-flow" style="color:#00009f">throw</span><span class="token plain"> error</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> server </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> http</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">createServer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">app</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">server</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">on</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;error&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> errorHandler</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">server</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">on</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;listening&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> address </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> server</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">address</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> bind </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">typeof</span><span class="token plain"> address </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;string&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;pipe &#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> address </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;port &#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> port</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Listening on &#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> bind</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">server</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">listen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">port</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>AperÃ§u rapide de ce qui se passe ici :</p><ul><li>la fonctionÂ <code>normalizePort</code>Â renvoie un port valide, qu&#x27;il soit fourni sous la forme d&#x27;unÂ numÃ©ro ou d&#x27;une chaÃ®ne ;</li><li>la fonctionÂ <code>errorHandler</code> recherche les diffÃ©rentes erreurs et les gÃ¨re de maniÃ¨re appropriÃ©e. Elle est ensuite enregistrÃ©e dans
le serveur ;</li><li>un Ã©couteur d&#x27;Ã©vÃ¨nements est Ã©galement enregistrÃ©, consignant le port ou le canal nommÃ© sur lequel le serveur s&#x27;exÃ©cute dans la
console.</li></ul><p>Notre serveur de dÃ©veloppementÂ Node est Ã  prÃ©sent opÃ©rationnel.Â Vous pouvez ainsi ajouter les fonctionnalitÃ©s appropriÃ©es Ã 
l&#x27;applicationÂ Express.</p><hr><h2 class="anchor anchorWithStickyNavbar_31ik" id="crÃ©ez-une-route-get">CrÃ©ez une route GET<a class="hash-link" href="#crÃ©ez-une-route-get" title="Direct link to heading">â€‹</a></h2><p><a href="https://openclassrooms.com/fr/courses/6390246-passez-au-full-stack-avec-node-js-express-et-mongodb/6466298-creez-une-route-get" target="_blank" rel="noopener noreferrer">CrÃ©ez une route GET - Passez au Full stack avec Node.js, Express et MongoDB - OpenClassrooms</a></p><div data-testid="general-observer" class="mdx-embed"><div style="height:0;width:100%"></div></div><br><p>Il est temps d&#x27;ajouter les fonctionnalitÃ©s dont notre applicationÂ front-endÂ a besoin et de regarder le systÃ¨me complet prendre forme !</p><p>Votre applicationÂ front-endÂ doit s&#x27;exÃ©cuter dans un navigateur. ExÃ©cutez doncÂ <code>ng serve</code>Â Ã  partir du rÃ©pertoire front-end, accÃ©dez Ã 
<a href="http://localhost:4200" target="_blank" rel="noopener noreferrer">http://localhost:4200</a>Â avec votre navigateur puisÂ cliquez sur Â« Parties 1 + 2 Â».</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="remettre-desarticles-en-vente">Remettre desÂ articles en vente<a class="hash-link" href="#remettre-desarticles-en-vente" title="Direct link to heading">â€‹</a></h3><div data-testid="general-observer" class="mdx-embed"><div style="height:0;width:100%"></div></div><br><p>Comme vous avez pu le remarquer,Â l&#x27;application front-endÂ affiche actuellementÂ un <em>spinner</em> et indique une erreur dans la console.
Cela est dÃ» au fait qu&#x27;elle tente d&#x27;accÃ©der Ã  notre API (qui n&#x27;existe pas encore !) et de rÃ©cupÃ©rer les articles en vente. Essayons
de rendre cesÂ articlesÂ accessibles.</p><p>Dans votre fichierÂ <code>app.js</code>, remplacez tout le <em>middleware</em> par le suivant :</p><div class="codeBlockContainer_K1bP language-javascript theme-code-block"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">use</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;/api/stuff&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">req</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> res</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> next</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> stuff </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            _id</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;oeihfzeoi&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            title</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Mon premier objet&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            description</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Les infos de mon premier objet&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            imageUrl</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;https://cdn.pixabay.com/photo/2019/06/11/18/56/camera-4267692_1280.jpg&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            price</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4900</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            userId</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;qsomihvqios&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            _id</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;oeihfzeomoihi&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            title</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Mon deuxiÃ¨me objet&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            description</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Les infos de mon deuxiÃ¨me objet&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            imageUrl</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;https://cdn.pixabay.com/photo/2019/06/11/18/56/camera-4267692_1280.jpg&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            price</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2900</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            userId</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;qsomihvqios&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">status</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">200</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">json</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">stuff</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>La premiÃ¨re diffÃ©rence que vous remarquerez est l&#x27;argument supplÃ©mentaire passÃ© Ã  la mÃ©thodeÂ <code>use</code>Â : nous lui passons un <em>string</em>,
correspondantÂ Ã  la routeÂ pourÂ laquelleÂ nous souhaitons enregistrer cet Ã©lÃ©ment de <em>middleware</em>. Dans ce cas,Â cette route sera
<code>http://localhost:3000/api/stuff</code>,Â car il s&#x27;agit de l&#x27;URL demandÃ©e par l&#x27;applicationÂ front-end.</p><p>Dans ceÂ <em>middleware</em>,Â nous crÃ©ons un groupeÂ d&#x27;articlesÂ avec le schÃ©ma de donnÃ©es spÃ©cifique requis par leÂ front-end.Â Nous envoyons
ensuite ces articles sous la forme de donnÃ©esÂ JSON,Â avec unÂ code 200 pour une demande rÃ©ussie.</p><p>Si vous effectuez une demande GETÂ vers cette route (aussi appelÃ©e <em>endpoint</em>)Â Ã  partir deÂ Postman, vous verrez que vous recevrez le
groupe deÂ <code>stuff</code>Â mais que l&#x27;actualisation du navigateur ne semble pas fonctionner. Que se passe-t-il donc exactement ici ?</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="erreurs-de-cors">Erreurs de CORS<a class="hash-link" href="#erreurs-de-cors" title="Direct link to heading">â€‹</a></h3><p>CORSÂ signifieÂ Â«Â <strong>Cross Origin Resource Sharing</strong> Â». Il s&#x27;agit d&#x27;un systÃ¨me de sÃ©curitÃ© qui, par dÃ©faut, bloque les appels HTTP d&#x27;Ãªtre
effectuÃ©s entre des serveurs diffÃ©rents, ce qui empÃªche donc lesÂ requÃªtes malveillantes d&#x27;accÃ©der Ã  des ressources sensibles. Dans
notre cas, nous avons deux origines :Â <code>localhost:3000</code>Â etÂ <code>localhost:4200</code>, et nous souhaiterions qu&#x27;elles puissent communiquer entre
elles. Pour cela, nous devons ajouter desÂ headers Ã  notre objet <code>response</code>.</p><div data-testid="general-observer" class="mdx-embed"><div style="height:0;width:100%"></div></div><br><p>De retour au fichierÂ <code>app.js</code>Â ,Â ajoutez leÂ <em>middleware</em> suivant avant la route d&#x27;API :</p><div class="codeBlockContainer_K1bP language-javascript theme-code-block"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">use</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">req</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> res</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> next</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">setHeader</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Access-Control-Allow-Origin&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;*&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">setHeader</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Access-Control-Allow-Headers&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Origin, X-Requested-With, Content, Accept, Content-Type, Authorization&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">setHeader</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Access-Control-Allow-Methods&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;GET, POST, PUT, DELETE, PATCH, OPTIONS&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">next</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Ces headers permettent :</p><ul><li>d&#x27;accÃ©der Ã  notre API depuis n&#x27;importe quelle origine (<code>&#x27;*&#x27;</code>) ;</li><li>d&#x27;ajouter les headers mentionnÃ©s aux requÃªtes envoyÃ©es vers notre API (<code>Origin</code>,Â <code>X-Requested-With</code>, etc.) ;</li><li>d&#x27;envoyer des requÃªtes avec les mÃ©thodes mentionnÃ©es (<code>GET</code>, <code>POST</code>, etc.).</li></ul><p>Comme vous pouvez le voir dans le code, le <em>middleware</em> ne prend pas d&#x27;adresse en premier paramÃ¨treÂ afin de s&#x27;appliquer Ã  toutes les
routes. Cela permettra Ã  toutes les demandes de toutes les origines d&#x27;accÃ©der Ã  votre API.Â Vous pouvez Ã©galement ajouter des URL
d&#x27;images validesÂ auxÂ <code>stuff</code>Â renvoyÃ©s par l&#x27;API, en terminant la route GET.Â Si vous actualisez Ã  prÃ©sent l&#x27;applicationÂ front-end,
vous devriez voir vosÂ articles en vente :</p><figure><img src="https://user.oc-static.com/upload/2019/11/05/15729833197549_Screenshot%202019-11-05%20at%2020.47.56.png" alt=""><figcaption></figcaption></figure><p>Maintenant que vous avez correctement implÃ©mentÃ© une routeÂ basique pourÂ remettre lesÂ <code>stuff</code>Â en vente, voyons comment autoriser les
utilisateurs Ã  proposer leurs propres articles Ã  la vente.</p><hr><h2 class="anchor anchorWithStickyNavbar_31ik" id="crÃ©ez-une-route-post">CrÃ©ez une route POST<a class="hash-link" href="#crÃ©ez-une-route-post" title="Direct link to heading">â€‹</a></h2><p><a href="https://openclassrooms.com/fr/courses/6390246-passez-au-full-stack-avec-node-js-express-et-mongodb/6466326-creez-une-route-post" target="_blank" rel="noopener noreferrer">CrÃ©ez une route POST - Passez au Full stack avec Node.js, Express et MongoDB - OpenClassrooms</a></p><div data-testid="general-observer" class="mdx-embed"><div style="height:0;width:100%"></div></div><br><h3 class="anchor anchorWithStickyNavbar_31ik" id="recevez-desarticles-de-lapplicationfront-end">Recevez desÂ articles de l&#x27;applicationÂ front-end<a class="hash-link" href="#recevez-desarticles-de-lapplicationfront-end" title="Direct link to heading">â€‹</a></h3><p>Bien que nous ne puissions pas, pour le moment, stocker de donnÃ©es envoyÃ©es par l&#x27;utilisateur, puisque nous n&#x27;avons configurÃ© aucune
base de donnÃ©es, nous pouvons du moins veiller Ã  recevoir correctement les donnÃ©es duÂ front-end. L&#x27;applicationÂ front-end contient un
formulaire Â« Vendre un article Â»,Â qui envoie une demande POST (contenantÂ l&#x27;article Ã  vendre) Ã  notreÂ routeÂ <code>api/stuff</code>. Voyons comment
nous pouvons capturer ces donnÃ©es.</p><div data-testid="general-observer" class="mdx-embed"><div style="height:0;width:100%"></div></div><br><p>Pour gÃ©rer la demandeÂ POSTÂ provenant de l&#x27;application front-end,Â nous devrons Ãªtre capables d&#x27;extraire l&#x27;objetÂ JSONÂ de la demande.
Il nous faudra le packageÂ <code>body-parser</code>. Installez-le en tant que dÃ©pendance de productionÂ Ã  l&#x27;aide deÂ <code>npm</code>Â :</p><div class="codeBlockContainer_K1bP language-sh theme-code-block"><div class="codeBlockContent_hGly sh"><pre tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">npm install --save body-parser</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Importez-le dans votre fichierÂ <code>app.js</code>Â :</p><div class="codeBlockContainer_K1bP language-javascript theme-code-block"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> bodyParser </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;body-parser&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Enfin, dÃ©finissez sa fonctionÂ <code>json</code>Â commeÂ <em>middleware</em> global pour votre application, juste aprÃ¨s avoir dÃ©fini lesÂ headers de la
rÃ©ponse :</p><div class="codeBlockContainer_K1bP language-javascript theme-code-block"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">use</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">bodyParser</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">json</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Maintenant,Â <code>body-parser</code>Â a analysÃ© le corps de la demande. Au lieu de l&#x27;Ã©crire dans un <em>middleware</em> <code>.use()</code>Â qui traiterait toutes
les requÃªtes, nous allons l&#x27;Ã©crire dans un <code>.post()</code>Â qui ne traitera que les requÃªtes de type POST :</p><div class="codeBlockContainer_K1bP language-javascript theme-code-block"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">post</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;/api/stuff&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">req</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> res</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> next</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">req</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">body</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">status</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">201</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">json</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        message</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Objet crÃ©Ã© !&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>!</h5></div><div class="admonition-content"><p>Veillez Ã  placer la routeÂ POSTÂ au-dessus du <em>middleware</em> pour les demandes GET,Â car la logique GET interceptera actuellement toutes
les demandes envoyÃ©es Ã  votre point de terminaisonÂ <code>/api/stuff</code>, Ã©tant donnÃ© qu&#x27;on ne lui a pas spÃ©cifiÃ© de verbe spÃ©cifique. Placer
la route POSTÂ au-dessus interceptera les demandes POST,Â en les empÃªchant d&#x27;atteindre le <em>middleware</em> GET.</p></div></div><p>DÃ©sormais,Â si vous remplissez le formulaire dans l&#x27;application front-end et que vous l&#x27;envoyez, l&#x27;objet que vous venez de crÃ©er doit
s&#x27;enregistrer dans votre console Node !</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="en-rÃ©sumÃ©">En rÃ©sumÃ©<a class="hash-link" href="#en-rÃ©sumÃ©" title="Direct link to heading">â€‹</a></h3><p>Dans cette premiÃ¨re partie du cours, vous avez :</p><ul><li>configurÃ© votre environnement de dÃ©veloppement, avec toutes les dÃ©pendances requises pour dÃ©marrer ;</li><li>dÃ©marrÃ© votre premier serveurÂ Node et l&#x27;avez utilisÃ© pour gÃ©rer votre premiÃ¨re application ExpressÂ ;</li><li>crÃ©Ã© deux routesÂ pour votre application, et vous avez Ã©galement implÃ©mentÃ©Â CORSÂ pour vous assurer que le front-end pouvait
effectuer des appels vers votre application en toute sÃ©curitÃ©.</li></ul><p>Dans la partie suivante du cours, vous ajouterez la couche de base de donnÃ©es MongoDB. Celle-ci est essentielle pour votre
applicationÂ et permettra de la rendre entiÃ¨rement dynamique.</p><hr><h2 class="anchor anchorWithStickyNavbar_31ik" id="quiz--Ãªtes-vous-prÃªt-Ã -crÃ©er-un-serveur-express-">Quiz : ÃŠtes-vous prÃªt Ã  crÃ©er un serveur Express ?<a class="hash-link" href="#quiz--Ãªtes-vous-prÃªt-Ã -crÃ©er-un-serveur-express-" title="Direct link to heading">â€‹</a></h2><p><a href="https://openclassrooms.com/fr/courses/6390246-passez-au-full-stack-avec-node-js-express-et-mongodb/exercises/3690" target="_blank" rel="noopener noreferrer">ÃŠtes-vous prÃªt Ã  crÃ©er un serveur Express ? - OpenClassrooms</a></p><h4 class="anchor anchorWithStickyNavbar_31ik" id="compÃ©tences-Ã©valuÃ©es">CompÃ©tences Ã©valuÃ©es<a class="hash-link" href="#compÃ©tences-Ã©valuÃ©es" title="Direct link to heading">â€‹</a></h4><i class="bi bi-check2-circle"></i> CrÃ©er un serveur web simple avec Express<hr><h4 class="anchor anchorWithStickyNavbar_31ik" id="question-1--en-crÃ©ant-un-serveur-http-avec-node-on-utilise-la-fonction-createserver-on-peut-passer-une-fonction-Ã -createserverqui-rÃ©agira-aux-requÃªtes-entrantes-quels-arguments-reÃ§oit-cette-fonction-passÃ©e-">Question 1 : En crÃ©ant un serveur HTTP avec Node, on utilise la fonction <code>createServer()</code>. On peut passer une fonction Ã  <code>createServer()</code>Â qui rÃ©agira aux requÃªtes entrantes. Quels arguments reÃ§oit cette fonction passÃ©e ?<a class="hash-link" href="#question-1--en-crÃ©ant-un-serveur-http-avec-node-on-utilise-la-fonction-createserver-on-peut-passer-une-fonction-Ã -createserverqui-rÃ©agira-aux-requÃªtes-entrantes-quels-arguments-reÃ§oit-cette-fonction-passÃ©e-" title="Direct link to heading">â€‹</a></h4><p><em>Attention, plusieurs rÃ©ponses sont possibles.</em></p><i class="bi bi-check-square-fill"></i> L&#x27;objet requÃªte<br><i class="bi bi-check-square-fill"></i> L&#x27;objet rÃ©ponse<br><i class="bi bi-square"></i> La fonction <code>next()</code><br><i class="bi bi-square"></i> La variable environnement <code>PORT</code><br><br><p><em>La fonction passÃ©e en argument Ã  <code>createServer()</code>Â recevra les objets requÃªte et rÃ©ponse comme arguments, gÃ©nÃ©ralement raccourcis en
<code>req</code>Â et <code>res</code>. La fonction <code>next()</code>Â existe uniquement Ã  l&#x27;intÃ©rieur d&#x27;une application Express, et la fonction passÃ©e ne reÃ§oit pas
de variables environnement comme arguments.</em></p><hr><h4 class="anchor anchorWithStickyNavbar_31ik" id="question-2--dans-une-application-express-que-doit-faire-le-dernier-middleware-pour-une-route-donnÃ©e-pour-empÃªcher-les-requÃªtes-dexpirer-">Question 2 : Dans une application Express, que doit faire le dernier middleware pour une route donnÃ©e pour empÃªcher les requÃªtes d&#x27;expirer ?<a class="hash-link" href="#question-2--dans-une-application-express-que-doit-faire-le-dernier-middleware-pour-une-route-donnÃ©e-pour-empÃªcher-les-requÃªtes-dexpirer-" title="Direct link to heading">â€‹</a></h4><i class="bi bi-circle"></i> Modifier le statut de l&#x27;objet rÃ©ponse<br><i class="bi bi-record-circle"></i> Renvoyer la rÃ©ponse au client<br><i class="bi bi-circle"></i> Modifier les headers de l&#x27;objet rÃ©ponse<br><i class="bi bi-circle"></i> Appeler la fonction <code>next()</code><br><br><p><em>Le dernier middleware d&#x27;une chaÃ®ne doit renvoyer la rÃ©ponse au client pour empÃªcher la requÃªte d&#x27;expirer.</em></p><hr><h4 class="anchor anchorWithStickyNavbar_31ik" id="question-3--Ã -quoi-sert-la-fonction-next">Question 3 : Ã€ quoi sert la fonction <code>next()</code>Â ?<a class="hash-link" href="#question-3--Ã -quoi-sert-la-fonction-next" title="Direct link to heading">â€‹</a></h4><i class="bi bi-circle"></i> Elle renvoie la rÃ©ponse au client<br><i class="bi bi-circle"></i> Elle empÃªche les erreurs CORS<br><i class="bi bi-record-circle"></i> Elle passe l&#x27;exÃ©cution au prochain middleware de la chaÃ®ne<br><i class="bi bi-circle"></i> Elle analyse le corps de la requÃªte<br><br><p><em>Un middleware appelle la fonction <code>next()</code>Â pour passer l&#x27;exÃ©cution au prochain middleware de la chaÃ®ne.</em></p><hr><h4 class="anchor anchorWithStickyNavbar_31ik" id="question-4--un-code-http-de-200reprÃ©sentegÃ©nÃ©ralement-">Question 4 : Un code HTTP de 200Â reprÃ©senteÂ gÃ©nÃ©ralement :<a class="hash-link" href="#question-4--un-code-http-de-200reprÃ©sentegÃ©nÃ©ralement-" title="Direct link to heading">â€‹</a></h4><i class="bi bi-circle"></i> Une erreur serveur<br><i class="bi bi-record-circle"></i> Une requÃªte rÃ©ussie<br><i class="bi bi-circle"></i> Une crÃ©ation de donnÃ©es rÃ©ussie<br><i class="bi bi-circle"></i> Une erreur d&#x27;authentification<br><br><p><em>Un code HTTP de 200 est le code standard pour une requÃªte rÃ©ussie, surtout pour des requÃªtes GET.</em></p><hr><h4 class="anchor anchorWithStickyNavbar_31ik" id="question-5--un-code-http-de-201-reprÃ©sente-gÃ©nÃ©ralement-">Question 5 : Un code HTTP de 201 reprÃ©sente gÃ©nÃ©ralement :<a class="hash-link" href="#question-5--un-code-http-de-201-reprÃ©sente-gÃ©nÃ©ralement-" title="Direct link to heading">â€‹</a></h4><i class="bi bi-circle"></i> Une erreur serveur<br><i class="bi bi-circle"></i> Une requÃªte rÃ©ussie<br><i class="bi bi-record-circle"></i> Une crÃ©ation de donnÃ©es rÃ©ussie<br><i class="bi bi-circle"></i> Une erreur d&#x27;authentification<br><br><p><em>Un code 201 signifie gÃ©nÃ©ralement que la requÃªte a rÃ©ussi, et a causÃ© la crÃ©ation d&#x27;une nouvelle ressource.</em></p><hr><h4 class="anchor anchorWithStickyNavbar_31ik" id="question-6--une-erreur-cors-peut-survenir-quand-">Question 6 : Une erreur CORS peut survenir quand :<a class="hash-link" href="#question-6--une-erreur-cors-peut-survenir-quand-" title="Direct link to heading">â€‹</a></h4><i class="bi bi-circle"></i> Une requÃªte HTTP expire<br><i class="bi bi-circle"></i> Le serveur rÃ©pond avec une erreur inconnue<br><i class="bi bi-circle"></i> La connexion est perdue pendant un transfert de donnÃ©es<br><i class="bi bi-record-circle"></i> Le serveur et le client ne partagent pas la mÃªme origine<br><br><p><em>La sÃ©curitÃ© CORS est une mesure de sÃ©curitÃ© par dÃ©faut pour empÃªcher l&#x27;utilisation de ressources par des origines non-autorisÃ©es.</em></p><hr><h4 class="anchor anchorWithStickyNavbar_31ik" id="question-7--quelle-mÃ©thode-permet-dempÃªcher-des-erreurs-cors-">Question 7 : Quelle mÃ©thode permet d&#x27;empÃªcher des erreurs CORS ?<a class="hash-link" href="#question-7--quelle-mÃ©thode-permet-dempÃªcher-des-erreurs-cors-" title="Direct link to heading">â€‹</a></h4><i class="bi bi-record-circle"></i> Configurer des headers spÃ©cifiques sur l&#x27;objet rÃ©ponse<br><i class="bi bi-circle"></i> Configurer des headers spÃ©cifiques sur l&#x27;objet requÃªte<br><i class="bi bi-circle"></i> Utiliser le bon code HTTP<br><i class="bi bi-circle"></i> Envoyer la rÃ©ponse en format JSON<br><br><p><em>Configurer les bons headers sur l&#x27;objet rÃ©ponse permet l&#x27;envoi et la rÃ©ception de requÃªtes et de rÃ©ponses sans erreurs CORS.</em></p><hr><h4 class="anchor anchorWithStickyNavbar_31ik" id="question-8--le-package-body-parser">Question 8 : Le package <code>body-parser</code>Â :<a class="hash-link" href="#question-8--le-package-body-parser" title="Direct link to heading">â€‹</a></h4><i class="bi bi-circle"></i> Permet d&#x27;Ã©viter les erreurs CORS<br><i class="bi bi-circle"></i> Permet la persistance de donnÃ©es<br><i class="bi bi-record-circle"></i> Rend les donnÃ©es du corps de la requÃªte exploitable<br><i class="bi bi-circle"></i> Convertit les donnÃ©es de l&#x27;objet rÃ©ponse en JSON<br><br><p><em>Quand une requÃªte HTTP est reÃ§ue par le serveur, son corps est rarement sous forme utile. Le package body-parser analyse le corps
de la requÃªte et le formate pour en faciliter l&#x27;exploitation.</em></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/gylgyl2000/Mon_Web_Dev_Wiki/edit/master/website/docs/OpenClassrooms/6-Construisez_une_API_securisee_pour_une_application_d_avis_gastronomiques/2-Passez_au_Full_stack_avec_Node_js_Express_et_MongoDB/1-Creez_un_serveur_Express_simple.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Construisez_une_API_securisee_pour_une_application_d_avis_gastronomiques/Passez_au_Full_stack_avec_Node_js_Express_et_MongoDB/Introduction_du_cours"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Introduction du cours</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Construisez_une_API_securisee_pour_une_application_d_avis_gastronomiques/Passez_au_Full_stack_avec_Node_js_Express_et_MongoDB/Creez_une_API_RESTful"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">CrÃ©ez une API RESTful</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#tirez-le-maximum-de-ce-cours" class="table-of-contents__link toc-highlight">Tirez le maximum de ce cours</a></li><li><a href="#configurez-votre-environnement-de-dÃ©veloppement" class="table-of-contents__link toc-highlight">Configurez votre environnement de dÃ©veloppement</a><ul><li><a href="#installez-node" class="table-of-contents__link toc-highlight">Installez Node</a></li><li><a href="#installez-angular" class="table-of-contents__link toc-highlight">Installez Angular</a></li><li><a href="#clonez-lapplication-front-end" class="table-of-contents__link toc-highlight">Clonez l&#39;application front-end</a></li></ul></li><li><a href="#dÃ©marrez-votre-serveur-node" class="table-of-contents__link toc-highlight">DÃ©marrez votre serveur Node</a><ul><li><a href="#quest-ce-quenode-" class="table-of-contents__link toc-highlight">Qu&#39;est-ce queÂ Node ?</a></li><li><a href="#initialisez-votre-projet" class="table-of-contents__link toc-highlight">Initialisez votre projet</a></li><li><a href="#dÃ©marrez-un-serveur-basique" class="table-of-contents__link toc-highlight">DÃ©marrez un serveur basique</a></li><li><a href="#installez-nodemon" class="table-of-contents__link toc-highlight">Installez nodemon</a></li></ul></li><li><a href="#crÃ©ez-une-application-express" class="table-of-contents__link toc-highlight">CrÃ©ez une application Express</a><ul><li><a href="#installez-express" class="table-of-contents__link toc-highlight">Installez Express</a></li><li><a href="#exÃ©cutez-lapplicationexpresssur-le-serveur-node" class="table-of-contents__link toc-highlight">ExÃ©cutez l&#39;applicationÂ ExpressÂ sur le serveur Node</a></li><li><a href="#ajoutezdes-middleware" class="table-of-contents__link toc-highlight">AjoutezÂ des middleware</a></li><li><a href="#amÃ©liorezserverjs" class="table-of-contents__link toc-highlight">AmÃ©liorezÂ server.js</a></li></ul></li><li><a href="#crÃ©ez-une-route-get" class="table-of-contents__link toc-highlight">CrÃ©ez une route GET</a><ul><li><a href="#remettre-desarticles-en-vente" class="table-of-contents__link toc-highlight">Remettre desÂ articles en vente</a></li><li><a href="#erreurs-de-cors" class="table-of-contents__link toc-highlight">Erreurs de CORS</a></li></ul></li><li><a href="#crÃ©ez-une-route-post" class="table-of-contents__link toc-highlight">CrÃ©ez une route POST</a><ul><li><a href="#recevez-desarticles-de-lapplicationfront-end" class="table-of-contents__link toc-highlight">Recevez desÂ articles de l&#39;applicationÂ front-end</a></li><li><a href="#en-rÃ©sumÃ©" class="table-of-contents__link toc-highlight">En rÃ©sumÃ©</a></li></ul></li><li><a href="#quiz--Ãªtes-vous-prÃªt-Ã -crÃ©er-un-serveur-express-" class="table-of-contents__link toc-highlight">Quiz : ÃŠtes-vous prÃªt Ã  crÃ©er un serveur Express ?</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/Mon_Web_Dev_Wiki/docs/menu">Menu</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/Mon_Web_Dev_Wiki/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/gylgyl2000/Mon_Web_Dev_Wiki" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 Mon Wiki Dev Web, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/Mon_Web_Dev_Wiki/assets/js/runtime~main.5674b794.js"></script>
<script src="/Mon_Web_Dev_Wiki/assets/js/main.faca9600.js"></script>
</body>
</html>