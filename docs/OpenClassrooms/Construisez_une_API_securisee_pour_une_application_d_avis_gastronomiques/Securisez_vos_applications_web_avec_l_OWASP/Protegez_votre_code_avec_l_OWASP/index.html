<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.15">
<link rel="alternate" type="application/rss+xml" href="/Mon_Web_Dev_Wiki/blog/rss.xml" title="Mon wiki de développement web RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/Mon_Web_Dev_Wiki/blog/atom.xml" title="Mon wiki de développement web Atom Feed"><title data-react-helmet="true">Protégez votre code avec l’OWASP | Mon wiki de développement web</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://gylgyl2000.github.io/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Construisez_une_API_securisee_pour_une_application_d_avis_gastronomiques/Securisez_vos_applications_web_avec_l_OWASP/Protegez_votre_code_avec_l_OWASP"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Protégez votre code avec l’OWASP | Mon wiki de développement web"><meta data-react-helmet="true" name="description" content="Protégez votre code contre l’injection"><meta data-react-helmet="true" property="og:description" content="Protégez votre code contre l’injection"><link data-react-helmet="true" rel="icon" href="https://monwikidevweb.la-loutre.fr/img/river-otter-silhouette.svg"><link data-react-helmet="true" rel="canonical" href="https://gylgyl2000.github.io/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Construisez_une_API_securisee_pour_une_application_d_avis_gastronomiques/Securisez_vos_applications_web_avec_l_OWASP/Protegez_votre_code_avec_l_OWASP"><link data-react-helmet="true" rel="alternate" href="https://gylgyl2000.github.io/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Construisez_une_API_securisee_pour_une_application_d_avis_gastronomiques/Securisez_vos_applications_web_avec_l_OWASP/Protegez_votre_code_avec_l_OWASP" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://gylgyl2000.github.io/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Construisez_une_API_securisee_pour_une_application_d_avis_gastronomiques/Securisez_vos_applications_web_avec_l_OWASP/Protegez_votre_code_avec_l_OWASP" hreflang="x-default"><link rel="stylesheet" href="/Mon_Web_Dev_Wiki/assets/css/styles.7fa1ce1f.css">
<link rel="preload" href="/Mon_Web_Dev_Wiki/assets/js/runtime~main.059ecb04.js" as="script">
<link rel="preload" href="/Mon_Web_Dev_Wiki/assets/js/main.ebe36446.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Mon_Web_Dev_Wiki/"><div class="navbar__logo"><img src="https://monwikidevweb.la-loutre.fr/img/river-otter-silhouette.svg" alt="Otter" class="themedImage_W2Cr themedImage--light_TfLj"><img src="https://monwikidevweb.la-loutre.fr/img/river-otter-silhouette.svg" alt="Otter" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">Mon Wiki Dev Web par LaLoutre</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/Mon_Web_Dev_Wiki/docs/menu">Menu</a><a class="navbar__item navbar__link" href="/Mon_Web_Dev_Wiki/docs/Outils/menu">Outils</a><a class="navbar__item navbar__link" href="/Mon_Web_Dev_Wiki/docs/Aide-memoire/menu">Aide-mémoire</a><a class="navbar__item navbar__link" href="/Mon_Web_Dev_Wiki/docs/Algorithmes/menu">Algorithmes</a><a class="navbar__item navbar__link" href="/Mon_Web_Dev_Wiki/docs/Lexique/">Lexique</a><a href="https://github.com/gylgyl2000/Mon_Web_Dev_Wiki" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link github"></a><div class="toggle_Pssr toggle_TdHA toggleDisabled_jDku"><div class="toggleTrack_SSoT" role="button" tabindex="-1"><div class="toggleTrackCheck_XobZ"><span class="toggleIcon_eZtF">🌜</span></div><div class="toggleTrackX_YkSC"><span class="toggleIcon_eZtF">🌞</span></div><div class="toggleTrackThumb_uRm4"></div></div><input type="checkbox" class="toggleScreenReader_JnkT" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Mon_Web_Dev_Wiki/docs/OpenClassrooms/menu">OpenClassrooms</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Prenez_en_main_votre_formation_de_developpeur_web/mission">Prenez en main votre formation de développeur web</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Transformez_une_maquette_en_site_web_avec_HTML_&amp;_CSS/mission">Transformez une maquette en site web avec HTML &amp; CSS</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Dynamisez_une_page_web_avec_des_animations_CSS/mission">Dynamisez une page web avec des animations CSS</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Optimisez_un_site_web_existant/mission">Optimisez un site web existant</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Construisez_un_site_e-commerce/ancienne_mission">Construisez un site e-commerce</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_VCh3" aria-current="page" href="/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Construisez_une_API_securisee_pour_une_application_d_avis_gastronomiques/mission">Construisez une API sécurisée pour une application d&#x27;avis gastronomiques</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Construisez_une_API_securisee_pour_une_application_d_avis_gastronomiques/mission">Mission</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" tabindex="0" href="/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Construisez_une_API_securisee_pour_une_application_d_avis_gastronomiques/Adoptez_les_API_REST_pour_vos_projets_web/Introduction_du_cours">Adoptez les API REST pour vos projets web</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" tabindex="0" href="/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Construisez_une_API_securisee_pour_une_application_d_avis_gastronomiques/Passez_au_Full_stack_avec_Node_js_Express_et_MongoDB/Introduction_du_cours">Passez au Full stack avec Node.js, Express et MongoDB</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_VCh3" aria-current="page" tabindex="0" href="/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Construisez_une_API_securisee_pour_une_application_d_avis_gastronomiques/Securisez_vos_applications_web_avec_l_OWASP/Introduction_du_cours">Sécurisez vos applications web avec l&#x27;OWASP</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Construisez_une_API_securisee_pour_une_application_d_avis_gastronomiques/Securisez_vos_applications_web_avec_l_OWASP/Introduction_du_cours">Introduction du cours</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Construisez_une_API_securisee_pour_une_application_d_avis_gastronomiques/Securisez_vos_applications_web_avec_l_OWASP/Identifiez_les_principales_attaques_web_et_les_regles_de_securite_a_adopter">Identifiez les principales attaques web et les règles de sécurité à adopter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Construisez_une_API_securisee_pour_une_application_d_avis_gastronomiques/Securisez_vos_applications_web_avec_l_OWASP/Protegez_votre_code_avec_l_OWASP">Protégez votre code avec l’OWASP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Construisez_une_API_securisee_pour_une_application_d_avis_gastronomiques/Securisez_vos_applications_web_avec_l_OWASP/Testez_et_appliquez_l_OWASP">Testez et appliquez l&#x27;OWASP</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Creez_un_reseau_social_d_entreprise/mission">Créez un réseau social d’entreprise</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Definissez_votre_projet_professionnel_et_preparez_vos_outils_de_candidature/mission">Définissez votre projet professionnel et préparez vos outils de candidature</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Candidatez/mission">Candidatez</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_cwdi"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_xORG"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Protégez votre code avec l’OWASP</h1><h2 class="anchor anchorWithStickyNavbar_mojV" id="protégez-votre-code-contre-linjection">Protégez votre code contre l’injection<a class="hash-link" href="#protégez-votre-code-contre-linjection" title="Direct link to heading">​</a></h2><p><a href="https://openclassrooms.com/fr/courses/6179306-securisez-vos-applications-web-avec-lowasp/6520701-protegez-votre-code-contre-l-injection" target="_blank" rel="noopener noreferrer">Protégez votre code contre l’injection - Sécurisez vos applications web avec l&#x27;OWASP - OpenClassrooms</a></p><div data-testid="general-observer" class="mdx-embed"><div style="height:0;width:100%"></div></div><br><p>Dans ce chapitre, nous allons voir la première vulnérabilité mais également la plus fréquente, l’injection. Nous verrons quels sont les types
d’injection et comment s’en prémunir.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="découvrez-linjection">Découvrez l&#x27;injection<a class="hash-link" href="#découvrez-linjection" title="Direct link to heading">​</a></h3><p>Cette vulnérabilité permet à un attaquant d’<strong>injecter des données non maîtrisées</strong> qui seront exécutées par l’application et qui permettent
d’effectuer des actions qui ne sont normalement pas autorisées.</p><p>Ces injections peuvent par exemple être des <strong>requêtes SQL</strong> pour manipuler la base de données, du code JavaScript ou HTML.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>?</h5></div><div class="admonition-content"><p>À quel endroit un attaquant effectue une injection ?</p></div></div><p>Dans une application web, il existe des champs ou des formulaires. Ce sont des composants des applications permettant la saisie de l’utilisateur.
Ces champs sont généralement la cible d’injections. Ils se présentent sous la forme d&#x27;un formulaire HTML ou d&#x27;un champ texte. Ce que vous avez
tapé est ensuite traité. Si vous tapez un nom d&#x27;utilisateur et un mot de passe, ils seront alors envoyés à la base de données pour pouvoir vous
authentifier.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>Le type d&#x27;attaque par injection le plus <strong>connu</strong> est l&#x27;<strong>injection SQL</strong>.</p></div></div><p>Dans le cas d’une attaque par <strong>injection SQL</strong>, au lieu de mettre un nom d&#x27;utilisateur et un mot de passe sur une page de connexion, un
utilisateur malveillant entrera des données directement interprétées par le moteur SQL, ce qui lui permettra de <strong>modifier</strong> le comportement de
votre application.</p><p>Prenons un exemple de requête SQL :</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx sql"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> accounts </span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> username</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;$username&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">AND</span><span class="token plain"> password</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;$password&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><ul><li><code>SELECT</code> est un mot clé permettant de <strong>sélectionner</strong> un élément de la base de données.</li><li>Le caractère <code>*</code> indique que tous les éléments doivent être sélectionnés.</li><li><code>FROM</code> permet d’indiquer la <strong>table</strong> à utiliser. Dans notre cas, le nom de la table est ‘accounts’.</li><li><code>WHERE</code> spécifie ce que vous voulez sélectionner.</li><li><code>username=&#x27;$username&#x27; AND password=&#x27;$password&#x27;</code> sont les paramètres spécifiques recherchés par cette requête.</li></ul><p>Cette requête peut être formalisée par : “Dans la liste des comptes, sélectionne le nom d&#x27;utilisateur et le mot de passe qui sont associés au
données spécifiées.”</p><p>Par exemple, disons que quelqu&#x27;un a créé un compte avec le nom d&#x27;utilisateur : ‘<em>John’,</em> et le mot de passe : <em><code>‘ThisIsMySUperS3cr3tPass’</code></em>.
La requête SQL sera la suivante :</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx sql"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> accounts </span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> username</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;John&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">AND</span><span class="token plain"> password</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;ThisIsMySUperS3cr3tPass&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Si l’utilisateur John et son mot de passe sont présents dans la base de données, l’utilisateur sera authentifié.</p><p>Cette requête classique peut être contournée par le biais d’une injection SQL. L’exemple suivant nous montre un cas d’exploitation classique.</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx sql"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">$username </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token string" style="color:#e3116c">&#x27; or &#x27;</span><span class="token number" style="color:#36acaa">1</span><span class="token string" style="color:#e3116c">&#x27; = &#x27;</span><span class="token number" style="color:#36acaa">1</span><span class="token plain">’</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$password </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">’ </span><span class="token operator" style="color:#393A34">or</span><span class="token plain"> ‘</span><span class="token number" style="color:#36acaa">1</span><span class="token plain">’</span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ’</span><span class="token number" style="color:#36acaa">1</span><span class="token plain">’</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>C&#x27;est ce qu&#x27;on appelle une <strong>instruction conditionnelle</strong> ! Elle nécessite que les requêtes respectent des conditions pour s’exécuter.</p><p>Dans ce champ, <code>“$username = 1” et “$password = 1”</code> sont comparés à l&#x27;instruction <code>&#x27;1=1&#x27;</code>. Ici, peu importent le username et le password entrés :
l’instruction sera toujours valide.</p><p>Si nous reprenons notre requête précédente, elle sera interprétée de la manière suivante :</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx sql"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> accounts </span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> username</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token string" style="color:#e3116c">&#x27; or ‘1’=’1&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">AND</span><span class="token plain"> password</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token string" style="color:#e3116c">&#x27; or ‘1’=’1&#x27;</span><span class="token plain">&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Un utilisateur malveillant sera ainsi en mesure de s’authentifier avec n’importe quel compte de la base de données, en l&#x27;occurrence, ici, le
premier compte de la table Account sera utilisé.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="sécurisezune-application-contre-linjection-sql">Sécurisez une application contre l’injection SQL<a class="hash-link" href="#sécurisezune-application-contre-linjection-sql" title="Direct link to heading">​</a></h3><p>Pour garantir une protection contre l’injection SQL, il est possible d’utiliser un <strong>pare-feu</strong> d&#x27;application web ou WAF, pour <em>Web Application
Firewall</em> en anglais. Ce pare-feu se place entre l&#x27;utilisateur et l’application web et permet de vérifier et d&#x27;intercepter les données envoyées.
Toutefois il est également possible de sécuriser l’application directement dans le code.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="validezles-entrées">Validez les entrées<a class="hash-link" href="#validezles-entrées" title="Direct link to heading">​</a></h4><p><strong>La validation des entrées</strong> est une excellente pratique en tant que développeur web. Elle limite ce que l&#x27;utilisateur peut mettre dans la
zone de texte. Avez-vous déjà été frustré lors de la création d&#x27;un compte parce qu&#x27;il n&#x27;était pas possible de créer un mot de passe sans
chiffres ou lettres majuscules ?</p><p>C&#x27;est parce que la validation des entrées a été implémentée : l&#x27;entrée est analysée après avoir appuyé sur Entrée. Cela n&#x27;empêchera pas
l&#x27;injection, mais c&#x27;est une mesure que vous pouvez mettre en place pour limiter des attaques de base. En effet, les caractères spéciaux
spécifiques à certains langages ne pourront pas être utilisés.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>?</h5></div><div class="admonition-content"><p>Quels types de caractères peut-on limiter lors de la saisie utilisateur ?</p></div></div><p>Si vous avez dit le <strong>signe égal</strong> et <strong>l&#x27;apostrophe,</strong> vous êtes sur la bonne voie ! En effet, ces caractères sont interprétés par le moteur
de base de données, ce qui veut dire que si un attaquant peut les rentrer dans un champ, ils pourront potentiellement altérer le fonctionnement ;
c’est le principe d’une injection SQL. <img src="https://openclassrooms.com/bundles/common/images/smiley/clin.png" alt=";)"></p><h4 class="anchor anchorWithStickyNavbar_mojV" id="paramétrez-vos-variables-">Paramétrez vos variables !<a class="hash-link" href="#paramétrez-vos-variables-" title="Direct link to heading">​</a></h4><p>Vous pouvez écrire vos requêtes SQL en <strong>paramétrant</strong> les variables. C&#x27;est ce qu&#x27;on appelle une <strong>requête préparée</strong>. Examinons l&#x27;exemple
précédent.</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx sql"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> accounts </span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> username</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;$username&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">AND</span><span class="token plain"> password</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;$password&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Pour l&#x27;instant, la requête connecte la variable $username directement à la base de données, la rendant vulnérable à l&#x27;injection. Avec une
requête préparée, le code ressemblerait à ceci :</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx sql"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> accounts </span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> username</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;@username&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">AND</span><span class="token plain"> password</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;@password&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Les variables Nom d&#x27;utilisateur et Mot de passe sont paramétrées, elles seront donc désormais passées dans une méthode pour exécuter la requête
au lieu de se connecter directement à la base de données.</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx sql"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">$username </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">setUser</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">username</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$password </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> setPassword</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">password</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Il existe de nombreuses façons de sécuriser les requêtes SQL, mais comme la requête ne se connecte pas directement à la base de données, il
s&#x27;agit de l&#x27;une des meilleures pratiques pour sécuriser vos données contre l&#x27;injection SQL.</p><p>Les langages Java, .NET, ColdFusion, PHP et Ruby ont également des fonctions intégrées pour paramétrer vos variables.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="découvrez-la-différenceentre-requêtes-sql-stockées-ou-dynamiques">Découvrez la différence entre requêtes SQL stockées ou dynamiques<a class="hash-link" href="#découvrez-la-différenceentre-requêtes-sql-stockées-ou-dynamiques" title="Direct link to heading">​</a></h4><p>Lorsque vous codez un champ d’entrée utilisateur sur votre application web, vous devez écrire une <strong>procédure SQL</strong> pour que la base de données
sache quelles données extraire. Il y a deux façons de le faire :  <strong>stocké et dynamique</strong>. Une procédure stockée est un ensemble d&#x27;instructions
SQL précompilées, stockées dans une base de données et exécutées sur demande par le système de gestion de base de données qui manipule la base
de données. Une procédure dynamique est une technique de programmation qui vous permet de <strong>construire</strong> des instructions SQL de manière
dynamique lors de l&#x27;exécution. Les requêtes ne seront pas stockées mais dynamiquement créées.</p><p>Pour sécuriser les requêtes SQL dynamiques, vous pouvez utiliser la fonction <code>sp_executesql</code> dans votre procédure SQL dynamique.</p><p>Voyons un exemple d’implémentation avec les variables paramétrées ci-dessous :</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx sql"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">PROCEDURE</span><span class="token plain"> sp_owaspLogin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token variable" style="color:#36acaa">@bind_username</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">varchar</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token variable" style="color:#36acaa">@bind_password</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">varchar</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">BEGIN</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">DECLARE</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">@myquery</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">varchar</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SET</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">@myquery</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> N’</span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> login </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> accounts </span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> username </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">@username</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">AND</span><span class="token plain"> password </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">@password</span><span class="token plain">’</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">DECLARE</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">@bind_user</span><span class="token plain"> nvarchar</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> N’</span><span class="token variable" style="color:#36acaa">@username</span><span class="token plain">’</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">DECLARE</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">@bind_pass</span><span class="token plain"> nvarchar</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> N’</span><span class="token variable" style="color:#36acaa">@password</span><span class="token plain">’</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">EXEC</span><span class="token plain"> sp_executesql </span><span class="token variable" style="color:#36acaa">@myquery</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">@bind_user</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">@username</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">@bind_username</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>La requête SQL dynamique ci-dessus lie la variable ainsi que la fonction <code>sp_executesql</code> pour sécuriser le script.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="utilisez-un-object-relational-mapper-orm">Utilisez un Object Relational Mapper (ORM)<a class="hash-link" href="#utilisez-un-object-relational-mapper-orm" title="Direct link to heading">​</a></h4><p>De nombreux langages disposent d&#x27;outils <strong>ORM (Object Relational Mapper)</strong> qui peuvent <strong>obfusquer</strong> votre requête, c’est-à-dire masquer son
fonctionnement. Les modules ORM tels que <em><code>pg</code></em> et <em><code>knex</code></em> peuvent être utilisés avec des frameworks JavaScript.</p><p>Regardons la requête SQL suivante :</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx sql"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> accounts </span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> username</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;@username&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">AND</span><span class="token plain"> password</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;@password&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Tout d&#x27;abord, notez que <code>@username et @password</code> sont paramétrés !</p><p>Voici un exemple de la façon dont une requête correcte sera exécutée dans votre application web à l&#x27;aide de <em>knex</em> Node.js.</p><p>Dans le code ci-dessous, <em>knex</em> <strong>obfusque la requête</strong>. Cela signifie qu&#x27;il masque ce à quoi ressemble vraiment la requête SQL, ce qui permet
d’ajouter une couche de sécurité supplémentaire.</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx sql"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">knex</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;accounts&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">where</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;username&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">john </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">orWhere</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">{password: ThisIsMySUperS3c3tPass </span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">user</span><span class="token plain">: </span><span class="token string" style="color:#e3116c">&#x27;knex&#x27;</span><span class="token plain">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="sécurisez-vos-applications-avec-lapi-owasp">Sécurisez vos applications avec l’API OWASP<a class="hash-link" href="#sécurisez-vos-applications-avec-lapi-owasp" title="Direct link to heading">​</a></h4><p>L&#x27;organisation OWASP dispose d&#x27;une API appelée <em>the OWASP Enterprise Security API</em> (ESAPI). Elle peut être utilisée pour sécuriser vos
applications web.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>Pour en savoir plus sur l&#x27;ESAPI, visitez la <a href="https://www.owasp.org/index.php/Category:OWASP_Enterprise_Security_API" target="_blank" rel="noopener noreferrer">page web officielle</a>.</p></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="en-résumé">En résumé<a class="hash-link" href="#en-résumé" title="Direct link to heading">​</a></h3><ul><li>Les injections peuvent inclure (mais sans s&#x27;y limiter) des commandes SQL, JavaScript, HTML ou OS.</li><li>Elles permettent de manipuler les entrées pour effectuer des actions et accéder à des données normalement non autorisées.</li><li>Vous pouvez prévenir les attaques par injection en sécurisant votre code avec la validation des entrées, les variables paramétrées, les ORM
et les procédures SQL stockées.</li><li>Les procédures SQL dynamiques peuvent être dangereuses, donc assurez-vous d&#x27;utiliser la fonction executesql() dans la base de données pour
les sécuriser.</li></ul><p><em>Nous venons de voir comment se prémunir contre les injections ; dans le prochain chapitre, nous verrons comment sécuriser les mécanismes
d’authentification dans votre application web.</em></p><hr><h2 class="anchor anchorWithStickyNavbar_mojV" id="empêchez-le-piratage-de-session">Empêchez le piratage de session<a class="hash-link" href="#empêchez-le-piratage-de-session" title="Direct link to heading">​</a></h2><p><a href="https://openclassrooms.com/fr/courses/6179306-securisez-vos-applications-web-avec-lowasp/6520013-empechez-le-piratage-de-session" target="_blank" rel="noopener noreferrer">Empêchez le piratage de session - Sécurisez vos applications web avec l&#x27;OWASP - OpenClassrooms</a></p><div data-testid="general-observer" class="mdx-embed"><div style="height:0;width:100%"></div></div><br><p>L’<strong>authentification</strong> est une fonctionnalité cruciale dans votre application web pour permettre à vos utilisateurs d’accéder à leur données et
à leur environnement. Dans ce chapitre, nous allons voir comment sécuriser l’authentification.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="définissez-le-piratage-de-session">Définissez le piratage de session<a class="hash-link" href="#définissez-le-piratage-de-session" title="Direct link to heading">​</a></h3><p>Le <strong>piratage de session</strong> (ou Broken Authentication) est l’attaque qui occupe la <strong>deuxième place du classement de l’OWASP</strong> depuis 2013.
Considérant qu&#x27;elle occupait la troisième place en 2010, l&#x27;OWASP démontre que l’exploitation de l’authentification est une faille courante.</p><p>Alors qu&#x27;est-ce que c&#x27;est et pourquoi est-ce une attaque si populaire ?</p><p>Supposons que vous ayez un site qui exige que vous vous connectiez avec votre nom d&#x27;utilisateur et votre mot de passe pour accéder aux pages qui
contiennent des informations sur votre compte. Lorsque vous vous connectez, les informations d&#x27;identification sont transmises à la base de
données. Si le nom d&#x27;utilisateur et le mot de passe correspondent à ceux de la base de données, vous serez <strong>authentifiés</strong> pour une session.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>Une <strong>session</strong> est une période de temps spécifiée pendant laquelle un utilisateur authentifié aura accès à des pages et à des activités
spécifiques de l&#x27;application.</p></div></div><p>À tout moment du processus d&#x27;authentification, un utilisateur malveillant peut <strong>obtenir un accès non autorisé</strong> à la session et avoir accès à
des <strong>données sensibles</strong>.</p><p>Une <strong>session</strong> peut inclure des données personnelles, des données financières et l&#x27;accès à des informations protégées ou à des secrets
commerciaux, par exemple.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>e ?</h5></div><div class="admonition-content"><p>À quoi ressemblent ces attaques ?</p></div></div><p>Le piratage de l’authentification peut être automatisé avec l’utilisation de la technique de <strong>force brute</strong>, c’est-à-dire l’utilisation d’une
multitude de couples identifiant/mot de passe de manière automatique, jusqu’à obtenir le bon.</p><p>Lorsqu&#x27;un utilisateur malveillant a un accès non autorisé à une liste de noms d&#x27;utilisateur et de mots de passe, une attaque appelée
<strong>credential stuffing</strong> peut être utilisée pour essayer toutes les combinaisons de noms d&#x27;utilisateur et de mots de passe, jusqu&#x27;à ce que le
pirate s&#x27;authentifie.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>Le credential stuffing est un type d’attaque où des informations de comptes volées, généralement des listes d&#x27;identifiants et des mots de passe
associés, sont utilisés pour obtenir un accès non autorisé à des comptes utilisateurs par le biais de demandes de connexion automatisée
adressées à des applications web.</p></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="appréhendez-lutilisation-de-cookies">Appréhendez l&#x27;utilisation de cookies<a class="hash-link" href="#appréhendez-lutilisation-de-cookies" title="Direct link to heading">​</a></h3><p>Un cookie HTTP (également appelé <em>cookie web</em>, <em>cookie Internet</em>, <em>cookie de navigateur</em> ou simplement <em>cookie</em>) est une petite donnée envoyée
depuis un site web et stockée sur l&#x27;ordinateur de l&#x27;utilisateur par un navigateur web lorsque l&#x27;utilisateur navigue.</p><p>Les cookies ont été conçus pour constituer un mécanisme fiable permettant aux sites web de mémoriser des informations importantes (telles que
les éléments ajoutés au panier dans une boutique en ligne) ou d&#x27;enregistrer l&#x27;activité de navigation de l&#x27;utilisateur (en se connectant ou en
enregistrant les pages consultées). Ils peuvent également être utilisés pour mémoriser des informations arbitraires que l&#x27;utilisateur a
précédemment entrées dans des champs de formulaire, telles que des noms, des adresses, des mots de passe et des numéros de carte de crédit.
Voilà pourquoi il représente un intérêt pour un attaquant.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>?</h5></div><div class="admonition-content"><p>Que se passe-t-il lorsqu&#x27;un site demande d&#x27;accepter des cookies ?</p></div></div><p>Vous vous souvenez peut-être que votre navigateur vous a averti qu&#x27;un site web nécessite l&#x27;utilisation de <strong>cookies</strong> pour que vous puissiez
l&#x27;utiliser ?</p><p>HTTP ne peut pas enregistrer d&#x27;informations sur votre navigateur. Un cookie est donc un fichier tiers enregistré qui donne un accès
personnalisé à l&#x27;utilisateur du site. Les <strong>cookies ont été créés pour vous faciliter la vie</strong>, de sorte à ce que vous n’ayez pas besoin de
vous reconnecter ou d&#x27;entrer les mêmes données encore et encore. Ils aident un site web à se souvenir de ce que vous avez fait sur leur site
pour personnaliser l&#x27;expérience. Ces cookies ne sont accessibles que par le site web qui les a créés.</p><p>Il existe deux types de cookies : les cookies de suivi et les cookies de session.</p><h5 class="anchor anchorWithStickyNavbar_mojV" id="découvrez-les-cookies-de-suivi">Découvrez les cookies de suivi<a class="hash-link" href="#découvrez-les-cookies-de-suivi" title="Direct link to heading">​</a></h5><p>Les cookies de suivi sont un type de cookie spécifique distribué, partagé et lu sur au moins deux sites web non liés, dans le but de collecter
des informations ou éventuellement de vous présenter des données personnalisées.</p><p>Supposons que j&#x27;achète des biscuits sur un site web appelé <em>koookiestore.com,</em> et qu&#x27;il télécharge un cookie sur mon navigateur avec des
informations qui m&#x27;identifient. Toutes mes activités sur ce site seront enregistrées sur <em>koookiestore.com</em> via le cookie qui contient mon
identifiant.</p><figure><img src="https://user.oc-static.com/upload/2019/11/12/15735532617311_image1.png" alt="Image montrant le fonctionnement des cookies de suivi"><figcaption>Cookie de suivi</figcaption></figure><p>Puis, je décide d&#x27;aller sur le site <em>funnikaaaats.com,</em> et soudain je vois toutes ces annonces me montrant les biscuits que je regardais sur
<em>koookiestore.com !</em></p><p>Mais seul <em>koookiestore.com</em> peut accéder aux informations des cookies stockées sur son site, alors comment <em>funnikaaaats.com</em> a découvert que
j&#x27;aime ces cookies ?</p><p>funnikaaaats.com a <strong>intégré un code</strong> pour koookiestore.com à l&#x27;intérieur de son site web afin qu&#x27;il puisse accéder à votre cookie
koookistore.com. Et maintenant, ces informations sont stockées sous ce <strong>cookie ID</strong> dans koookiestore.com.</p><p>Maintenant, le cookie de suivi de <em>koookiestore.com</em> sait quels cookies et vidéos de chat vous aimez.</p><p>Bien que les cookies de suivi ne peuvent pas être utilisés pour pirater une session, ils peuvent représenter un problème concernant la
confidentialité et la vie privée, car ils permettent l’accès à vos habitudes de navigation.</p><h5 class="anchor anchorWithStickyNavbar_mojV" id="découvrez-les-cookies-de-session">Découvrez les cookies de session<a class="hash-link" href="#découvrez-les-cookies-de-session" title="Direct link to heading">​</a></h5><p><strong>Les cookies de session</strong> contiennent un <strong>identifiant</strong> qui identifie une session.</p><p>Supposons que vous vous connectez au site web de votre banque et que vous recevez un cookie qui est stocké dans votre navigateur et qui vous
garde connecté jusqu&#x27;à ce que la session expire.</p><p>Dans ce cas, chaque session reçoit un <strong>ID de session</strong>. L&#x27;authentification peut être détournée si l&#x27;utilisateur malveillant devine le bon ID
de session.</p><p><strong>Avec le protocole HTTP</strong>, les sites web n&#x27;ont pas la possibilité d&#x27;enregistrer des informations d&#x27;authentification ou de session sauf s&#x27;ils
les stockent dans un fichier sur les navigateurs. C&#x27;est à ça que servent les cookies de session.</p><p>Souvent, le navigateur enregistre un cookie qui contient les informations de session, l&#x27;ID de session, la date et l&#x27;heure d&#x27;expiration.</p><p>Des token peuvent être utilisés pour l&#x27;authentification avec le Single Sign-On (SSO). Un utilisateur reçoit un ticket ou un jeton après
authentification, afin de se connecter à une session. Le pirate peut accéder au jeton et le réutiliser pour s’authentifier sans avoir besoin
d&#x27;un nom d&#x27;utilisateur ou d&#x27;un mot de passe.</p><h5 class="anchor anchorWithStickyNavbar_mojV" id="protégez-vos-cookies-">Protégez vos cookies !<a class="hash-link" href="#protégez-vos-cookies-" title="Direct link to heading">​</a></h5><p>Voici quelques recommandations pour garantir la sécurité des cookies :</p><ul><li>assurez-vous que les cookies sont chiffrés lors de la transmission via HTTPS ;</li><li>ne stockez pas d&#x27;informations d&#x27;identification en texte clair dans vos cookies ;</li><li>définissez une date d&#x27;expiration pour vos cookies-session.</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="prévenez-votre-application-des-authentifications-non-autorisées">Prévenez votre application des authentifications non autorisées<a class="hash-link" href="#prévenez-votre-application-des-authentifications-non-autorisées" title="Direct link to heading">​</a></h3><p>Des recommandations simples peuvent être appliquées :</p><ul><li>exigez de vos utilisateurs qu&#x27;ils aient un mot de passe fort, c&#x27;est-à-dire contenant des majuscules, des minuscules, des chiffres et des
caractères spéciaux. Il sera ainsi plus difficile pour un utilisateur malveillant de trouver le mot de passe ;</li><li>il est également recommandé d&#x27;exiger des utilisateurs qu&#x27;ils changent régulièrement leur mot de passe en cas d’attaque de credential stuffing ;</li><li>mettez en place le verrouillage de compte lorsqu&#x27;un utilisateur essaie de se connecter un trop grand nombre de fois sans y parvenir. Cela
permet d&#x27;empêcher les attaques de force brute ;</li><li>changez ou désactivez les comptes par défaut ;</li><li>implémentez une authentification forte, c’est-à-dire avec plusieurs facteurs d’authentification, comme la validation par SMS ou par mail, par
exemple.</li></ul><p>Heureusement, il existe des frameworks pour vous aider à implémenter plus facilement un code sécurisé, quel que soit le langage que vous
utilisez :</p><ul><li><strong>ASP.NET Core Identity Framework</strong> peut être intégré dans votre application web pour personnaliser vos besoins d&#x27;authentification. L&#x27;ajout
d&#x27;ASP.NET Core IdentityServer vous permet d&#x27;utiliser les techniques de développement sécurisé pour l&#x27;authentification par jeton.</li><li><strong>Ruby</strong> a des fonctions (gems) comme <strong>omniauth</strong> qui peuvent être implémentées pour l&#x27;authentification.</li><li><strong>Java</strong> a <strong>javax.security.auth</strong>, et l&#x27;<strong>API Java Authentication and Authorization Service (JAAS),</strong> qui peuvent configurer votre
authentification de la bonne façon !</li><li><strong>PHP</strong> a <strong>PHPSec</strong> peuvent être utilisés pour gérer la sécurité et les sessions.</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="prévenez-lauthentification-malveillante">Prévenez l&#x27;authentification malveillante<a class="hash-link" href="#prévenez-lauthentification-malveillante" title="Direct link to heading">​</a></h3><p>Voici un exemple d&#x27;entrée avant qu&#x27;elle ne soit transmise à la base de données.</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx sql"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//Remove all characters from the email except letters, digits and !#$%&amp;&#x27;*+-=?^_`{|}~@.[]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo filter_var</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">$dirtyAddress</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> FILTER_SANITIZE_EMAIL</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Une bonne pratique pour la <strong>validation des entrées</strong> est de vérifier <strong>toutes les entrées</strong> en supprimant les caractères non pertinents.</p><p>En <strong>Java</strong>, vous pouvez créer une méthode pour hacher le mot de passe avec le framework Spring.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>Le <strong>hachage</strong> permet de générer une empreinte unique pour une entrée. Le problème est qu’il est possible d’utiliser des rainbow tables,
c’est-à-dire des listes de hash préalablement calculés, puis de les utiliser avec une attaque de force brute. Pour éviter ce genre d’attaque,
il est possible d’ajouter un <strong>sel</strong> permettant d’ajouter une donnée supplémentaire, et ainsi renforcer la sécurité.</p></div></div><p>Mais comment faire, concrètement ?</p><p>Tout d&#x27;abord, vous allez créer un objet pour l&#x27;algorithme de chiffrement, et le saler.</p><p>Le salage est une méthode permettant de renforcer la sécurité des informations qui sont destinées à être hachées (par exemple des mots de passe)
en y ajoutant une donnée supplémentaire afin d’empêcher que deux informations identiques conduisent à la même <em>empreinte (au même hash)</em>. Le
but du salage est de lutter contre les attaques par analyse fréquentielle (permettant l’analyse des fréquences des caractères employés), les
attaques utilisant des rainbow tables, les attaques par dictionnaire et les attaques par force brute.</p><p>Un <strong>sel</strong> est une <strong>séquence aléatoire</strong> utilisée en plus du chiffrement pour rendre le hachage imprévisible.</p><p>Prenons un exemple :</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx sql"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">MessageDigest md </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> MessageDigest</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">getInstance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;MD5&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">md</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">update</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">salt</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Ensuite, vous entrerez votre mot de passe en utilisant l&#x27;objet salé pour assigner le hachage formaté à <code>hashedPassword</code>.</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx sql"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">byte</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> hashedPassword </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> md</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">digest</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">passwordToHash</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">getBytes</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">StandardCharsets</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">UTF_8</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Quel que soit le langage dans lequel vous développez, il existe plusieurs solutions qui peuvent vous permettre de sécuriser votre mécanisme
d&#x27;authentification !</p><p>Adopter les meilleures pratiques pour la gestion des sessions et des jetons est également important car il s&#x27;agit d&#x27;une autre forme
d&#x27;authentification. Les <strong>cookies de session et les jetons</strong> peuvent rendre vos <strong>sessions vulnérables</strong>.</p><p>Voici quelques conseils pour vous aider à développer vos mécanismes d&#x27;identification et de validation de session :</p><ul><li>ne mettez pas l’ID de session dans l’URL ;</li><li>limitez la durée de l&#x27;ID de session ;</li><li>modifiez le nom d&#x27;ID de session par défaut.</li></ul><p><strong>PHP</strong> possède une bibliothèque appelée <strong>SessionManager</strong> avec des fonctions qui peuvent être utilisées pour valider les sessions avec des
restrictions.</p><p>Voici un exemple de la fonction <code>preventHijacking()</code> du gestionnaire de sessions utilisé pour limiter une session à un hôte et à une adresse
IP spécifiques. Si l&#x27;hôte et l&#x27;adresse IP ne sont pas identiques, ils ne s&#x27;authentifieront pas. Cela permet de sécuriser le mécanisme
d&#x27;authentification.</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx sql"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">static protected </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> preventHijacking</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token plain">isset</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">$_SESSION</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;IPaddress&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">!</span><span class="token plain">isset</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">$_SESSION</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;userAgent&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">$_SESSION</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;IPaddress&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> $_SERVER</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;REMOTE_ADDR&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> $_SESSION</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;userAgent&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> $_SERVER</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;HTTP_USER_AGENT&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="connaissez-votre-niveau-de-protection">Connaissez votre niveau de protection<a class="hash-link" href="#connaissez-votre-niveau-de-protection" title="Direct link to heading">​</a></h3><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>?</h5></div><div class="admonition-content"><p>Si j&#x27;implémente toutes ces règles, mon application web sera-t-elle sécurisée ?</p></div></div><p>Peu importe le nombre de couches de sécurité et de fonctionnalités que vous ajoutez à votre code, il y a toujours des attaques auxquelles vous
ne serez pas préparé.</p><p>Restez informé des nouvelles vulnérabilités afin de sécuriser votre application contre de futures attaques.</p><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>!</h5></div><div class="admonition-content"><p>Votre application n&#x27;est <strong>jamais</strong> sûre à 100% car le risque zéro n’existe pas !</p></div></div><p>Cependant, en respectant ces règles, vous pouvez prévenir les attaques courantes et réduire votre <strong>surface d&#x27;attaque de 80 %</strong>.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="en-résumé-1">En résumé<a class="hash-link" href="#en-résumé-1" title="Direct link to heading">​</a></h3><ul><li>Le piratage d’authentification peut se produire lorsque les cookies ne sont pas sécurisés.</li><li>Utilisez la validation des entrées et limitez le nombre d&#x27;essais de connexion.</li><li>Les attaques par force brute et credentials stuffing sont courantes.</li><li>Protégez les identifiants de session au moyen d’algorithme de chiffrement.</li><li>Limitez la durée des sessions.</li></ul><p><em>Dans le prochain chapitre, nous verrons comment protéger les données en transit.</em></p><hr><h2 class="anchor anchorWithStickyNavbar_mojV" id="protégez-les-données-en-transit">Protégez les données en transit<a class="hash-link" href="#protégez-les-données-en-transit" title="Direct link to heading">​</a></h2><p><a href="https://openclassrooms.com/fr/courses/6179306-securisez-vos-applications-web-avec-lowasp/6520126-protegez-les-donnees-en-transit" target="_blank" rel="noopener noreferrer">Protégez les données en transit - Sécurisez vos applications web avec l&#x27;OWASP - OpenClassrooms</a></p><div data-testid="general-observer" class="mdx-embed"><div style="height:0;width:100%"></div></div><br><p>L&#x27;<strong>exposition des données sensibles</strong> est la troisième vulnérabilité dans le top 10 de l’OWASP. Les données stockées et transmises dans
l’application doivent respecter les bonnes pratiques de sécurité. Dans ce chapitre, nous aborderons la sécurisation des données échangées.</p><p>Mais comment faire pour sécuriser ces données échangées ? Eh bien, cela passe par la sécurisation de la couche de transport lors de l’échange
des données.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="découvrez-comment-les-données-transitent-la-couche-de-transport">Découvrez comment les données transitent la couche de transport<a class="hash-link" href="#découvrez-comment-les-données-transitent-la-couche-de-transport" title="Direct link to heading">​</a></h3><p>Lorsque vous surfez sur Internet, votre navigateur utilise le les protocole HTTP (Hypertext Transfer Protocol) pour afficher les pages web, et
le protocole <strong>Transmission Control Protocol/Internet Protocol (TCP/IP)</strong> pour les transmettre.</p><p>OK. Imaginons que vous tapez une URL dans votre barre de navigateur et que vous cliquez sur Entrée.</p><p>Votre navigateur va lancer une connexion TCP, qui va envoyer des requêtes GET et POST pour vous connecter au serveur web associé au nom de
domaine ou à l&#x27;adresse IP.</p><p>Si le serveur web établit la <strong>connexion TCP</strong> avec le navigateur, une réponse avec le code status et le fichier demandé (généralement le
fichier index.html pour la page web) sera transmise. Mais dans notre cas, les données transitent en HTTP et pas en HTTPS...</p><p>Ceci nous amène à la première vulnérabilité. Les données transitant en HTTP peuvent être interceptées, car elles transitent en clair.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>?</h5></div><div class="admonition-content"><p>Mais alors… Comment un utilisateur malveillant peut avoir accès à cette connexion TCP ?</p></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="comprenez-lattaque-de-lhomme-du-milieu-mitm">Comprenez l’attaque de l’homme du milieu (MITM)<a class="hash-link" href="#comprenez-lattaque-de-lhomme-du-milieu-mitm" title="Direct link to heading">​</a></h3><p>Prenons un exemple. Vous avez décidé d&#x27;aller dans votre endroit préféré pour boire un café et vous utilisez le <strong>Wi-Fi gratuit</strong> pour surfer
sur certains sites. À votre insu, un pirate a décidé d&#x27;utiliser un sniffer réseau, qui enregistre les <strong>transmissions TCP</strong> directement sur son
ordinateur.</p><p>Vous surfez et vous vous connectez à un site en HTTP pour envoyer des articles de blog. Le pirate sera en mesure d&#x27;accéder à vos informations
d&#x27;identification et au contenu de votre blog, car celui-ci n&#x27;était pas chiffré ! Votre session a été détournée et l&#x27;attaquant peut ainsi voler
vos données.</p><p>L&#x27;attaque de l&#x27;homme du milieu (<em>Man in the Middle</em>, en anglais) est l&#x27;une des principales causes de <strong>détournement de session</strong>. L&#x27;attaquant
se place au milieu de votre communication, intercepte les connexions réseau et capte ainsi tout ce que vous envoyez.</p><p><strong>Le vol de données</strong> et le <strong>détournement de session</strong> ne sont que quelques exemples de ce qu&#x27;un attaquant peut faire une fois sur le réseau.
D&#x27;une façon ou d&#x27;une autre, si les données sont envoyées en HTTP et sont en clair, il suffit de peu d&#x27;efforts pour interpréter les données.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>?</h5></div><div class="admonition-content"><p>Mais... Comment je peux résoudre ce problème ?</p></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="utilisez-https">Utilisez HTTPS<a class="hash-link" href="#utilisez-https" title="Direct link to heading">​</a></h3><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>?</h5></div><div class="admonition-content"><p>Attends… C&#x27;est quoi, HTTPS ?</p></div></div><p>HTTPS est la variante sécurisée de HTML qui utilise les protocoles <strong>Secure Sockets Layer/Transport Layer Security</strong> (SSL/TLS) pour chiffrer
les transmissions.</p><p>Cela permet d&#x27;ajouter une couche de sécurité lorsque les données sont en transit.</p><p>En règle générale, si vous devez vous authentifier avec un mot de passe n&#x27;importe où sur le site, utilisez HTTPS pour <strong>protéger</strong> le mot de
passe lorsqu&#x27;il est transmis sur le réseau.</p><p>Je vous conseille de configurer l&#x27;ensemble de votre application web avec HTTPS, qu&#x27;elle traite ou non des informations sensibles. En effet,
Google marquera tous les sites HTTP comme non sécurisés pour conduire plus de sites à utiliser HTTPS. Avoir un site configuré avec HTTPS
augmentera la confiance de vos utilisateurs.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>Pour en savoir plus, vous pouvez visiter la page de <a href="https://security.googleblog.com/2018/02/a-secure-web-is-here-to-stay.html" target="_blank" rel="noopener noreferrer">recommandations</a>
de Google.</p></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>?</h5></div><div class="admonition-content"><p>Comment utiliser le protocole TLS pour sécuriser une application ?</p></div></div><p>Tout d&#x27;abord, obtenez un <strong>certificat SSL</strong> et ajoutez-le à votre serveur. Ce certificat est nécessaire pour chiffrer les données en cours de
transmission.</p><p>Ensuite, codez vos pages avec HTTPS !</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>Si vous voulez en savoir plus sur le processus d&#x27;obtention d&#x27;un certificat SSL pour votre application web, vous pouvez utiliser
<a href="https://www.openssl.org/" target="_blank" rel="noopener noreferrer">OpenSSL</a> (en anglais) ou consulter <a href="https://github.com/zaproxy/zap-core-help/wiki/HelpUiDialogsOptionsDynsslcert" target="_blank" rel="noopener noreferrer">ce tutoriel</a>
(en anglais).</p></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="mettez-en-place-le-https">Mettez en place le HTTPS<a class="hash-link" href="#mettez-en-place-le-https" title="Direct link to heading">​</a></h3><p>Pour créer un serveur web pour votre application web, <strong>Node.js</strong> est une plateforme populaire. Cependant, il utilise HTTP par défaut pour la
transmission de données. </p><p>Pour utiliser HTTPS, Il suffit de spécifier l&#x27;utilisation du module HTTPS sur Node.js.</p><p>Pour démarrer un serveur HTTP sur Node.js, le code est le suivant :</p><div class="codeBlockContainer_I0IT language-javascript theme-code-block"><div class="codeBlockContent_wNvx javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> http </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;http&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">http</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">createServer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">req</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> res</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">listen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">8080</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Il vous suffit d&#x27;ajouter un S et vous pouvez maintenant démarrer un serveur HTTPS tout aussi facilement (avec un certificat SSL, bien sûr).</p><div class="codeBlockContainer_I0IT language-javascript theme-code-block"><div class="codeBlockContent_wNvx javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> https </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;https&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">createServer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">req</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> res</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">listen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">8080</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p><strong>ASP.NET</strong> a un module appelé <strong>SecureWebPageModule,</strong> qui peut être ajouté au web.config avec l&#x27;ajout suivant :
<code>&lt;secureWebPages enabled=&quot;true&quot;&gt;</code>.</p><p><code>[RequireHttps]</code> peut également être utilisé dans le fichier <code>AccountController.cs</code>. Enfin, ASP. NET prend en charge la réécriture d&#x27;URL.</p><p>Avec <strong>Ruby on Rails</strong>, vous pouvez exécuter un <strong>serveur web NGINX</strong> en utilisant HTTPS, et créer votre certificat :</p><ul><li>sur le fichier <code>production.rb</code>, changez la valeur <code>config.force_ssl = true;</code></li><li>sur <code>application.rb</code>, écrivez la ligne <code>config.force_ssl = (ENV[ENABLE_HTTPS&quot;] == &quot;yes&quot;) ;</code></li><li>utilisez Rack pour forcer SSL en intégrant la gem rack-ssl.</li></ul><p>Quel que soit le langage que vous utilisez, assurez-vous que votre page de connexion et toutes les pages web qui font partie de la session
utilisent HTTPS.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="sécurisez-les-requêtes-get-et-post">Sécurisez les requêtes GET et POST<a class="hash-link" href="#sécurisez-les-requêtes-get-et-post" title="Direct link to heading">​</a></h3><p>Lorsque vous mettez en place des connexions TCP dans vos requêtes, quelques règles de sécurité peuvent être mises en place.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>Lorsque la connexion TCP est établie entre le navigateur et le serveur web, les informations envoyées sont divisées en trois parties. Tout
d&#x27;abord, il y aura une requête GET ou POST avec une URL spécifique. Ensuite, il y a un en-tête (header) et le corps de la requête (body).</p></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>?</h5></div><div class="admonition-content"><p>OK... Mais pourquoi parle-t-on de tout ça ?</p></div></div><p>Je vais vous l&#x27;expliquer tout de suite !</p><p>Une requête GET ressemble à ceci :</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx text"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">GET /index.html HTTP:1.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Header:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Body:</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Ses paramètres sont présents dans l&#x27;URL, et sont mis en cache dans le navigateur.</p><p>Il est préférable d&#x27;utiliser une requête GET lorsque vous <strong>récupérez</strong> des informations. Cela signifie que vous pouvez interroger la base de
données, mais sans modification.</p><p>Une requête POST ressemble à ceci :</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx text"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">POST https://securesite.com/resetpassword.php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Header:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Body: password=password123 (encrypted)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Les requêtes POST sont utilisées pour apporter des <strong>modifications</strong> à la base de données et doivent donc être <strong>transmises</strong> avec un
chiffrement par TLS.</p><p>Ces requêtes ne permettent pas de sauvegarder les données en cache dans le navigateur, rendant ainsi les paramètres contenus dans le corps de
la requête facilement piratables.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>?</h5></div><div class="admonition-content"><p>Comment être sûr que mes requêtes GET et POST ne sont pas exposées à des vulnérabilités ?</p></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>Vous pouvez coder jusqu&#x27;à obtenir quelque chose de parfait, mais il est également possible d&#x27;utiliser des modules externes comme Ajax, Axios
ou jQuery.</p></div></div><p>Ces modules externes vous permettront de vous assurer que vous utilisez HTTPS pour toutes vos requêtes GET et POST.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>?</h5></div><div class="admonition-content"><p>D&#x27;accord.... Je vois bien que je dois faire de nombreuses choses pour sécuriser mes données. Mais il doit bien exister un système de sécurité
par défaut sur mon navigateur, non ?</p></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="tirez-parti-de-la-sécurité-par-défaut-de-votre-navigateur">Tirez parti de la sécurité par défaut de votre navigateur<a class="hash-link" href="#tirez-parti-de-la-sécurité-par-défaut-de-votre-navigateur" title="Direct link to heading">​</a></h3><p>Tout à fait ! Parlons maintenant de <strong>Cross-Origin Resource Sharing (CORS)</strong>.</p><p>Votre navigateur fournit une sécurité à vos requêtes GET et POST par défaut. Lorsqu&#x27;une demande est faite, elle ne sera autorisée que si elle a
la <strong>même origine</strong>.</p><p>Cela signifie qu&#x27;elle doit avoir les mêmes nom de domaine, port, hôtes et schémas. Cette restriction n&#x27;est pas toujours utile si les requêtes
nécessitent une transmission vers un autre port ou domaine. Lorsque cela se produit, l&#x27;application web est exposée à une attaque <strong>CSRF</strong>.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>Le <strong>cross-site request forgery (CSRF)</strong> est un type de vulnérabilité des services d&#x27;authentification web. L’objet de cette attaque est de
transmettre à un utilisateur authentifié une requête HTTP falsifiée qui pointe sur une action interne au site, afin qu&#x27;il l&#x27;exécute sans en
avoir conscience et en utilisant ses propres droits.</p></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>?</h5></div><div class="admonition-content"><p>Comment résoudre ce problème ?</p></div></div><p>CORS peut être implémenté pour éviter les attaques CSRF, en ajoutant des politiques pour limiter l&#x27;accès à une origine spécifique ou un type de
requête HTTP, par exemple.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="adoptez-les-bonnes-pratiques">Adoptez les bonnes pratiques<a class="hash-link" href="#adoptez-les-bonnes-pratiques" title="Direct link to heading">​</a></h3><p>Voici quelques recommandations pour protéger vos données en transit :</p><ol><li>N&#x27;utilisez GET que pour récupérer des informations.</li><li>Utilisez POST pour les informations qui seront manipulées.</li><li>Toutes les requêtes POST doivent utiliser HTTPS/SSL pour s&#x27;assurer que le corps est chiffré.</li><li>Vérifiez tous les modules tiers que vous utilisez pour créer des requêtes GET/POST et utilisez HTTPS pour chacun d&#x27;entre eux !</li></ol><h3 class="anchor anchorWithStickyNavbar_mojV" id="en-résumé-2">En résumé<a class="hash-link" href="#en-résumé-2" title="Direct link to heading">​</a></h3><ul><li>Utilisez le HTTPS pour l&#x27;ensemble de votre site, même s&#x27;il ne contient pas de données sensibles.</li><li>Utilisez les requêtes GET pour récupérer les informations et POST pour modifier les informations.</li><li>Sécurisez vos cookies pour qu&#x27;ils soient transmis par l&#x27;en-tête et via HTTPS.</li><li>Sécurisez vos sessions en ajoutant une date d&#x27;expiration, en sécurisant l&#x27;ID et en ne mettant pas cet ID dans l&#x27;URL.</li><li>L&#x27;utilisation du chiffrement dans la couche Transport peut prévenir les attaques MITM !</li></ul><p><em>Nous venons de voir comment protéger les données en transit. Dans le prochain chapitre, nous verrons comment protéger les données stockées
sur votre application.</em></p><hr><h2 class="anchor anchorWithStickyNavbar_mojV" id="protégez-les-données-stockées-sur-une-application">Protégez les données stockées sur une application<a class="hash-link" href="#protégez-les-données-stockées-sur-une-application" title="Direct link to heading">​</a></h2><p><a href="https://openclassrooms.com/fr/courses/6179306-securisez-vos-applications-web-avec-lowasp/6520207-protegez-les-donnees-stockees-sur-une-application" target="_blank" rel="noopener noreferrer">Protégez les données stockées sur une application - Sécurisez vos applications web avec l&#x27;OWASP - OpenClassrooms</a></p><div data-testid="general-observer" class="mdx-embed"><div style="height:0;width:100%"></div></div><br><p>Dans le chapitre précédent, nous avons parlé de la sécurisation des <strong>données lors de leur transmission</strong>.</p><p>Mais où sont stockées les données et comment les protéger ?</p><p>Lorsque vous visitez un site web et que vous entrez des données dans un formulaire, comme un nom d’utilisateur et un mot de passe, ces données
sont ensuite envoyées et une requête sur la base de données est effectuée, pour vérifier que l’utilisateur existe et que le mot de passe entré
est le bon. S’ils correspondent, le serveur vous donne accès à vos données stockées sur la base de données.</p><p>Les <strong>données stockées</strong> sont donc le contenu de la base de données. Typiquement, une base de données contiendra des <strong>données sensibles</strong> sur
un site qui nécessite une <strong>authentification</strong>.</p><p>Nous savons comment effectuer des requêtes dans la base de données afin de prévenir les modifications non autorisées et l&#x27;exposition de la base
de données. Mais si un attaquant arrive à contourner l’authentification, comment pouvons-nous restreindre son accès aux données ?</p><p>Pour cela, il existe un moyen sûr, le <strong>chiffrement des données</strong>.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="découvrez-les-algorithmes-de-hachage">Découvrez les algorithmes de hachage<a class="hash-link" href="#découvrez-les-algorithmes-de-hachage" title="Direct link to heading">​</a></h3><p>Pour protéger certaines données stockées sur une application, il est possible d’utiliser des algorithmes de hachage.</p><p>L&#x27;intérêt des algorithmes de hachage est qu’ils permettent de calculer une empreinte (ou <em>hash</em>) d’une chaîne de caractères, par exemple. Cette
empreinte est utile pour éviter de stocker en clair le mot de passe dans la base de données.</p><p>Prenons un exemple. Nous avons une chaîne de caractères <em><code>password123</code></em>. Nous allons utiliser un algorithme de hachage pour obtenir une
empreinte.</p><p>Dans notre exemple, nous allons utiliser les algorithmes de hachage SHA1 et MD5. Nous obtenons l&#x27;empreinte suivante :</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx text"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">sha1:bab1298d948ebb34bd0f3faf5e596ebc0b27c615</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">md5:7576f3a00f6de47b0c72c5baf2d505b0</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p><strong>SHA-1</strong> (Secure Hash Algorithm) et <strong>MD5</strong> (message-digest algorithm) sont des fonctions de hachage cryptographique.</p></div></div><p>La chaîne de caractères <em><code>password123</code></em> est désormais stockée sous la forme d&#x27;un hash MD5, rendant sa lecture impossible pour un utilisateur
malveillant.</p><p>Cependant, certains attaquants réussiront tout de même à contourner ce mécanisme. Comme pour les cookies, il est possible d’effectuer une
attaque par <strong>rainbow table</strong>, c’est-à-dire qu’un attaquant va préalablement <strong>calculer des hash de mots de passe puis les utiliser avec une
attaque de brute force pour trouver le bon</strong>.</p><p>Comme pour l&#x27;authentification, il est possible de contourner cette attaque en utilisant le salage.</p><p>Sachez qu&#x27;il existe de nombreux algorithmes de hachage : Bcrypt, Scrypt, SHA, MD5, Argon5 et PBKDF2, par exemple. Contrairement aux algorithmes
SHA et MD5, <strong>Argon5, PBKDF2, Bcrypt</strong> et <strong>Scrypt</strong> sont plus axés sur la sécurité que sur l&#x27;efficacité. Cela signifie que le cassage de ces
algorithmes exige plus de ressources.</p><p><strong>Argon5</strong> est un des algorithmes de hachage les plus puissants et fortement recommandés par l&#x27;<strong>OWASP</strong>.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="sécurisez-une-base-de-données">Sécurisez une base de données<a class="hash-link" href="#sécurisez-une-base-de-données" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_mojV" id="gérez-lauthentification">Gérez l&#x27;authentification<a class="hash-link" href="#gérez-lauthentification" title="Direct link to heading">​</a></h4><p>Pour sécuriser l’authentification, il existe de bonnes pratiques de sécurité simples à appliquer :</p><ul><li>supprimer les comptes par défaut en changeant les mots de passe connus ;</li><li>utiliser le principe de <em>moindre privilège</em> pour vous assurer qu&#x27;un ou deux comptes seulement ont des privilèges élevés.</li></ul><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p><strong>Le principe de moindre privilège</strong> est un autre concept fondamental de la sécurité des systèmes d’information. Avec le moins de privilèges
possible, vous vous assurez que tous les membres de l&#x27;organisation n&#x27;ont que les droits dont ils ont besoin sur le réseau pour exercer leur
fonction <em>spécifique</em> définie, ni plus ni moins.</p></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="cachezdes-données-sensibles-dans-une-base-de-données">Cachez des données sensibles dans une base de données<a class="hash-link" href="#cachezdes-données-sensibles-dans-une-base-de-données" title="Direct link to heading">​</a></h4><p>Il existe plusieurs techniques qui permettent de cacher les données sensibles d’une base de données et donc de sécuriser une application.</p><ul><li><strong>L&#x27;anonymisation</strong> est une technique recommandée par l’OWASP pour cacher des données privées en chiffrant, brouillant et supprimant des
parties des données. Par exemple, si une demande est faite pour la date de naissance d&#x27;une personne pour s’authentifier, seule l&#x27;année sera
fournie par la base de données.</li><li><strong>La pseudonymisation</strong> est une technique recommandée par le RGPD. Elle remplace les données personnelles par des identifiants et des
pseudonymes artificiels pour cacher les données sensibles.</li><li><strong>La minimisation des données</strong> permet de se conformer à l&#x27;ensemble de règles du RGPD. L&#x27;entreprise doit uniquement demander, enregistrer et
traiter les données personnelles requises. En d&#x27;autres termes, toute donnée personnelle demandée doit avoir un motif commercial solide.</li></ul><p>Il existe deux façons d&#x27;appliquer ces techniques à votre base de données.</p><ul><li><strong>Le masquage dynamique des données</strong> est un moyen d&#x27;appliquer des règles d&#x27;anonymisation sur les colonnes de données sensibles. Lorsqu&#x27;une
demande est faite pour récupérer les données des colonnes masquées, elle n&#x27;apparaîtra pas dans sa forme complète. Ces données peuvent également
être cachées aux administrateurs de bases de données avec des rôles qui bloquent l&#x27;accès aux données sensibles.</li></ul><p>Sur SQL Server, l&#x27;option <em>masked with</em> applique différentes fonctions de masquage. L’option par défaut prend la valeur sensible et la remplace
par une autre valeur lorsqu&#x27;elle est affichée. L&#x27;exemple ci-dessous montre son application sur une colonne Date de naissance.</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx sql"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">Birthdate </span><span class="token keyword" style="color:#00009f">DATE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MASKED </span><span class="token keyword" style="color:#00009f">WITH</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">FUNCTION</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;default()&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">,</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p><strong>MongoDB</strong> a la possibilité d&#x27;utiliser un module appelé <strong>Mongo Mask</strong>. Il peut être utilisé comme ceci sur l’application :
<code>var mongoMask = require(&#x27;mongo-mask&#x27;)</code>. Sur la base de données, MongoDB a des accès en lecture seule qui peuvent être spécifiés dans le code.</p><ul><li><strong>Cloner et générer des masques de données</strong> utilisant plusieurs bases de données. En utilisant le même schéma, une base de données
supplémentaire utilisée pour récupérer des informations peut contenir des données masquées pour les colonnes sensibles déjà présentes.</li></ul><p>SQL Server, SQL Clone et SQL Data Generator peuvent être utilisés pour créer une autre base de données avec des données générées pour masquer
les données sensibles lors de leur récupération. Contrairement au masquage dynamique des données, il ne s&#x27;agit pas d&#x27;un masquage actif. Il
s&#x27;agit d&#x27;une redirection de requête vers une autre base de données avec des données générées pour remplacer les données sensibles.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="en-résumé-3">En résumé<a class="hash-link" href="#en-résumé-3" title="Direct link to heading">​</a></h3><ul><li>Sécurisez votre base de données avec le chiffrement.</li><li>Utilisez des algorithmes de hachage sécurisés tels que Argon5, Scrypt, Bcrypt et PBKDF2.</li><li>Utilisez pas les algorithmes de hachage SHA et MD5 avec salage.</li><li>Les tables Rainbow automatisent les connexions avec des mots de passe préhashés !</li><li>Le masquage des données peut être utilisé pour sécuriser les données sensibles d’une base de données.</li></ul><p><em>Nous venons de voir comment sécuriser les données stockées dans votre application. Dans le prochain chapitre, nous verrons comment sécuriser
les contrôles d’accès.</em></p><hr><h2 class="anchor anchorWithStickyNavbar_mojV" id="empêchez-lexploitation-des-contrôles-daccès">Empêchez l&#x27;exploitation des contrôles d&#x27;accès<a class="hash-link" href="#empêchez-lexploitation-des-contrôles-daccès" title="Direct link to heading">​</a></h2><p><a href="https://openclassrooms.com/fr/courses/6179306-securisez-vos-applications-web-avec-lowasp/6520299-empechez-lexploitation-des-controles-dacces" target="_blank" rel="noopener noreferrer">Empêchez l&#x27;exploitation des contrôles d&#x27;accès - Sécurisez vos applications web avec l&#x27;OWASP - OpenClassrooms</a></p><div data-testid="general-observer" class="mdx-embed"><div style="height:0;width:100%"></div></div><br><p>Passons maintenant à la gestion des contrôles d&#x27;accès et à leur sécurisation.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="comprenez-le-principe-ducontrôle-daccès">Comprenez le principe du contrôle d&#x27;accès<a class="hash-link" href="#comprenez-le-principe-ducontrôle-daccès" title="Direct link to heading">​</a></h3><p>Imaginez une <strong>application web</strong> avec <strong>quatre niveaux d’accès</strong> pour quatre groupes de personnes.</p><p>Le premier groupe aura un accès limité, le deuxième groupe aura un accès un peu plus privilégié, le troisième groupe aura encore plus d’accès.
Enfin, le quatrième groupe aura les accès administrateur ou <em>root</em>.</p><p>Ces niveaux d’accès sont appelés <em>rôles</em>.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>Pour en savoir plus, vous pouvez visiter cet aide-mémoire de l’<a href="https://github.com/OWASP/CheatSheetSeries/blob/master/cheatsheets/Access_Control_Cheat_Sheet.md" target="_blank" rel="noopener noreferrer">OWASP</a>.</p></div></div><p>Imaginons les <strong>quatre rôles suivant.</strong></p><table><thead><tr><th>Rôle</th><th>Niveau d&#x27;accès</th></tr></thead><tbody><tr><td>guppy</td><td>1</td></tr><tr><td>poisson</td><td>2</td></tr><tr><td>dauphin</td><td>3</td></tr><tr><td>baleine</td><td>4</td></tr></tbody></table><p>Dans cet exemple, vous devrez créer un <strong>accès</strong> pour chaque rôle. Assurez-vous que les rôles guppy, poisson et dauphin ont des accès limités.
Le rôle baleine, lui, peut accéder à tout ce que les autres peuvent faire : c’est l’administrateur.</p><p>Le <strong>contrôle d&#x27;accès</strong> consiste à configurer votre application web pour s&#x27;assurer que les utilisateurs ne peuvent accéder qu&#x27;aux données
permises par leur rôle.</p><p>L&#x27;authentification valide une identité, comme un nom d&#x27;utilisateur et un mot de passe. Une fois authentifié, vous pourrez accéder à certaines
pages. Si les contrôles d’accès ne sont pas verrouillés, vous pourrez accéder à des pages et à des fonctionnalités auxquelles vous n&#x27;êtes
normalement pas autorisé à accéder, parfois sans le savoir.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="découvrez-les-attaques-contre-le-contrôle-daccès">Découvrez les attaques contre le contrôle d&#x27;accès<a class="hash-link" href="#découvrez-les-attaques-contre-le-contrôle-daccès" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_mojV" id="appréhendez-larestriction-url">Appréhendez la restriction URL<a class="hash-link" href="#appréhendez-larestriction-url" title="Direct link to heading">​</a></h4><p>Les attaques courantes contre le contrôle d&#x27;accès se produisent lorsqu&#x27;une <strong>URL</strong> permet de <strong>contourner l&#x27;authentification</strong>. Les pirates
informatiques utilisent la connaissance des formats et des modèles pour deviner l&#x27;URL des pages privilégiées qui n&#x27;ont pas été configurées de
manière sécurisée. Pour se protéger contre ce type d&#x27;attaque, il est possible de mettre en place une <strong>restriction URL</strong>.</p><p>Prenons le cas d’une attaque utilisant les rôles que nous avons définis précédemment.</p><p>Un utilisateur du groupe guppy se connecte, et le lien de la page principale ressemble à ceci :</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx text"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">https://webdevfightshacker.bla/guppy_login.html</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Vous remarquerez qu’il y a une structure définie. La page de login <code>guppy_login.html</code> est définie comme page principale.</p><p>Un attaquant pourra par exemple être en mesure de deviner la page d’authentification d’un autre rôle en devinant les pages des autres groupes
(<code>poisson_login.html</code>, par exemple).</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx text"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">https://webdevfightshacker.bla/whale_login.html</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="comprenez-les-références-directes-dobjets-non-sécurisées-idor">Comprenez les références directes d&#x27;objets non sécurisées (IDOR)<a class="hash-link" href="#comprenez-les-références-directes-dobjets-non-sécurisées-idor" title="Direct link to heading">​</a></h4><p>Un utilisateur malveillant dispose de techniques pour accéder à une grande partie du code d&#x27;une application web. Une partie de ce code peut
révéler <strong>comment une base de données est organisée</strong>. Le fait de fournir quelques informations sur la structure de l’application web peut
permettre à un utilisateur non autorisé d’effectuer des actions malveillantes et de contourner les accès prédéfinis.</p><p>Par exemple, si vous accédez à votre compte sur un site et que vous êtes sur la page principale, vous remarquez que l&#x27;<strong>adresse URL</strong> ressemble
à ceci :</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx text"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">https://webdevfightshacker.bla/index.php/view?account=3453</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Ici le <strong>numéro 3453</strong> correspond a un nombre dans la base de données. Une personne malveillante pourrait ici modifier ce nombre pour accéder à
un compte en particulier.</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx text"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">https://webdevfightshacker.bla/index.php/view?account=1</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Dans l&#x27;exemple ci-dessus, chaque compte est considéré comme un objet. Lorsque vous faites une référence directe à cet objet dans l&#x27;URL en
ajoutant <code>account=1</code>, vous donnez à l’attaquant un indice sur la façon dont votre application web et votre base de données sont configurées.</p><p>Il pourra ainsi exploiter ces faiblesses pour accéder à certaines parties non autorisées de l&#x27;application.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="découvrez-lattaque-null-byte-octet-nul">Découvrez l&#x27;attaque null byte (octet nul)<a class="hash-link" href="#découvrez-lattaque-null-byte-octet-nul" title="Direct link to heading">​</a></h4><p>Une <strong>attaque d&#x27;octet nul</strong> tire parti des <strong>références de l&#x27;objet</strong>. Les noms de page par défaut peuvent être basés sur la configuration du
<strong>modèle, de la vue</strong> et du <strong>contrôleur (MVC)</strong> que beaucoup d&#x27;applications web utilisent.</p><p>Cela permet à un attaquant d&#x27;utiliser ces connaissances pour extraire une partie du code source de votre page !</p><p>Regardons un site web avec un lien de menu intitulé <code>About_us.htm</code>. Ceci montre que toutes les pages se terminent par <code>.htm</code> ou similaire.</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx text"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">webdevfightshacker.bla/fight/default.aspx?content=about_us.htm</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>L’attaquant sait aussi que le fichier <em><code>default.aspx.cs</code></em> est la page principale, et veut y jeter un coup d’œil pour plus d&#x27;informations.</p><p>Un <strong>octet nul (./)</strong> fait croire au navigateur que l&#x27;URL est complète. La chaîne de caractères qui suit l&#x27;octet nul peut donner à l’attaquant
l&#x27;occasion de montrer le contenu de n&#x27;importe quel fichier.</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx text"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">webdevfightshacker.bla/fight/default.aspx?content=%20./default.aspx.cs%00.htm</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Cet exemple montre la page <em><code>default.asps.cs.</code></em>. Il sera ici possible d&#x27;accéder à n&#x27;importe quelle page et donc de contourner les contrôles
d&#x27;accès mis en place.</p><p><strong>Les références directes d&#x27;objet</strong> peuvent également apparaître dans un <strong>code d&#x27;erreur</strong>. L’attaquant peut commencer à manipuler les entrées
pour voir quels types d&#x27;exceptions et d&#x27;erreurs apparaissent et ce qu&#x27;elles disent.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="sécurisez-les-contrôles-daccès">Sécurisez les contrôles d’accès<a class="hash-link" href="#sécurisez-les-contrôles-daccès" title="Direct link to heading">​</a></h4><ol><li>Au lieu de nommer vos pages cibles avec un sens, utilisez un tableau de valeurs clés qui font référence à vos objets.</li><li>Modifiez les noms par défaut de vos pages web.</li><li>Assurez-vous que toutes les pages ont un contrôle d&#x27;authentification.</li><li>Personnalisez vos exceptions et vos codes d&#x27;erreur.</li></ol><h3 class="anchor anchorWithStickyNavbar_mojV" id="en-résumé-4">En résumé<a class="hash-link" href="#en-résumé-4" title="Direct link to heading">​</a></h3><ul><li>Les applications web avec authentification ne garantissent pas que toutes les pages sont verrouillées par contrôle d’accès.</li><li>Les références directes aux objets peuvent amener un attaquant à comprendre les modèles et la configuration des applications web.</li><li>N&#x27;utilisez pas de noms prévisibles ou de références directes à la base de données dans l&#x27;URL.</li><li>Prévenez les attaques d&#x27;octets nuls en protégeant votre code source.</li><li>Utilisez des références d&#x27;objet indirectes avec des paramètres et des combinaisons clé-valeur.</li><li>Personnalisez vos codes d&#x27;erreur pour qu&#x27;ils ne révèlent pas les attributs de la base de données.</li></ul><p><em>Dans le prochain chapitre, nous aborderons les failles XSS et comment s’en prémunir.</em></p><hr><h2 class="anchor anchorWithStickyNavbar_mojV" id="stoppez-le-cross-site-scripting-xss">Stoppez le cross-site scripting (XSS)<a class="hash-link" href="#stoppez-le-cross-site-scripting-xss" title="Direct link to heading">​</a></h2><p><a href="https://openclassrooms.com/fr/courses/6179306-securisez-vos-applications-web-avec-lowasp/6520368-stoppez-le-cross-site-scripting-xss" target="_blank" rel="noopener noreferrer">Stoppez le cross-site scripting (XSS) - Sécurisez vos applications web avec l&#x27;OWASP - OpenClassrooms</a></p><div data-testid="general-observer" class="mdx-embed"><div style="height:0;width:100%"></div></div><br><p>Dans ce chapitre, nous allons aborder les failles de cross-site scripting ou <em>XSS</em>.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="définissez-le-cross-site-scripting-">Définissez le cross-site scripting ?<a class="hash-link" href="#définissez-le-cross-site-scripting-" title="Direct link to heading">​</a></h3><p><strong>Les attaques cross-site scripting ou <em>XSS</em></strong> sont faites pour prendre le contrôle de votre <strong>navigateur</strong>. Un attaquant qui y parvient aura
potentiellement accès à vos <strong>cookies</strong> et à vos <strong>sessions</strong> qui peuvent contenir des <strong>données sensibles !</strong> Ces attaques peuvent également
permettre d’apporter des modifications non autorisées à une application web et créer des liens qui vous mèneront vers des <strong>sites malveillants !</strong></p><h4 class="anchor anchorWithStickyNavbar_mojV" id="découvrez-les-attaques-utilisant-xss">Découvrez les attaques utilisant XSS<a class="hash-link" href="#découvrez-les-attaques-utilisant-xss" title="Direct link to heading">​</a></h4><p>Avec une attaque XSS, un attaquant va essayer de prendre le contrôle de votre navigateur en injectant un <strong>script JavaScript</strong> dans
l&#x27;application web. Il pourra l’injecter directement dans un formulaire, mais il peut également l’injecter dans l&#x27;URL, l&#x27;en-tête HTTP ou
d&#x27;autres parties du framework utilisé.</p><p>Contrairement aux injections SQL, il ne s&#x27;agit pas de requêtes et de commandes SQL sur une base de données. <strong>Une faille XSS s’exécute dans le
code de l&#x27;application web.</strong></p><p>Revenons à la page de connexion avec le nom d&#x27;utilisateur et le mot de passe. Au lieu du nom d&#x27;utilisateur, le pirate va entrer :</p><p><code>&lt;script&gt; I haxx000red you &lt;/script&gt;</code></p><p>Sur une page de connexion qui n&#x27;est pas sécurisée, il y aura une boîte de dialogue qui s’affichera. De plus, l&#x27;URL qui se trouve maintenant
dans votre barre d&#x27;adresse peut être utilisée pour exécuter directement ce script. Il est également possible d&#x27;effectuer la même attaque avec
une image, par exemple.</p><div class="codeBlockContainer_I0IT language-javascript theme-code-block"><div class="codeBlockContent_wNvx javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">img src oneerror</span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">“alert</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">haaxxxx000red </span><span class="token number" style="color:#36acaa">4</span><span class="token plain">ever</span><span class="token operator" style="color:#393A34">!</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">”</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>L&#x27;URL dans la barre d&#x27;adresse après l&#x27;exécution du script pourrait ressembler à ceci :</p><p><code>webdevfightshacker.bla/index.html?query=&lt;img src + onerror%3Dalert%45%haaxxxx%87”....&gt;</code></p><p>Notez que le domaine sur l&#x27;URL a l&#x27;air légitime, mais à la fin de l&#x27;URL, on peut voir le script qui a été ajouté. Ce lien peut exécuter du
code arbitraire sur le navigateur. Un attaquant pourra transmettre cette URL à une cible qui exécutera l&#x27;<strong>attaque XSS dans son environnement</strong>.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>Pour en savoir plus sur les attaques XSS, consultez l&#x27;aide-mémoire de l&#x27;<a href="https://www.owasp.org/index.php/XSS_Filter_Evasion_Cheat_Sheet#Basic_XSS_Test_Without_Filter_Evasion" target="_blank" rel="noopener noreferrer">OWASP</a>
(en anglais).</p></div></div><p>Les attaques XSS ciblent également les <strong>cookies</strong>, exposant leur contenu dans une fenêtre pop-up. Par exemple, si vous avez envoyé une
demande de connexion à un serveur web et qu&#x27;il répond par un cookie avec vos identifiants en texte clair, un script XSS s&#x27;exécutera sur votre
navigateur et affichera une fenêtre pop-up avec vos identifiants qui étaient sur le cookie.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>?</h5></div><div class="admonition-content"><p>Comment puis-je éviter cette attaque de cookie ?</p></div></div><p>Une option consiste à ajouter un <strong>flag <code>HttpOnly</code></strong> à vos cookies. Ce flag permet d’empêcher un script d&#x27;accéder aux cookies. <strong><code>HttpOnly</code></strong>
est un flag à mettre à <code>true</code> dans la plupart des frameworks. Par exemple, Node.js a un module de cookies avec HttpOnly, et un middleware
appelé <strong>Helmet</strong>.</p><p><strong>Express PHP</strong> a une fonction <strong><code>setcookie()</code></strong>  qui permet de configurer <strong><code>HttpOnly</code></strong>  comme paramètre, et <strong>ASP.NET</strong> a l&#x27;option
<code>_CookieHTTpOnly_</code> et <code>_CookieSecure_</code>.</p><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>!</h5></div><div class="admonition-content"><p>Attention cependant, l’option HttpOnly peut ne pas fonctionner sur les navigateurs obsolètes.</p><p>Les attaques XSS sont passées de la troisième à la septième place du Top Ten de l&#x27;OWASP parce que les navigateurs ont renforcé leur sécurité,
rendant ces attaques plus difficiles.</p></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="respectez-les-bonnes-pratiques">Respectez les bonnes pratiques<a class="hash-link" href="#respectez-les-bonnes-pratiques" title="Direct link to heading">​</a></h4><ul><li><strong>Appliquez la validation des données d&#x27;entrée</strong> : pour empêcher les attaques communes, il est possible de blacklister certains caractères
comme les balises script.</li><li><strong>Appliquez la transformation des entrées</strong> : vous pouvez encoder toutes vos entrées dans une entité de caractères HTML ou du texte pour
qu&#x27;il n&#x27;exécute aucun script. Il existe des fonctions simples et des bibliothèques qui peuvent vous aider à encoder tout votre HTML et
JavaScript.</li><li>Configurez vos cookies avec le flag <strong>HttpOnly</strong>.</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="découvrez-les-vulnérabilités-csrf-cross-site-request-forgery-">Découvrez les vulnérabilités CSRF (Cross-Site Request Forgery) ?<a class="hash-link" href="#découvrez-les-vulnérabilités-csrf-cross-site-request-forgery-" title="Direct link to heading">​</a></h3><p>Un pirate peut créer un <strong>lien XSS</strong> et le distribuer par le biais de l&#x27;ingénierie sociale pour accéder au navigateur d&#x27;un utilisateur.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>L’ingénierie sociale est un type d’attaque ne reposant pas sur une faille technique.</p></div></div><p>Si l&#x27;utilisateur clique sur le lien alors qu&#x27;une session est encore ouverte sur sa banque, le pirate peut <strong>détourner un jeton de session</strong>
dans le navigateur (en temps réel) pour accéder à cette session.</p><p>Ces requêtes peuvent également rester inactives jusqu&#x27;à ce que l&#x27;utilisateur ait créé une session sur son navigateur. Regardons l’exemple
ci-dessous :</p><div class="codeBlockContainer_I0IT language-xss theme-code-block"><div class="codeBlockContent_wNvx xss"><pre tabindex="0" class="prism-code language-xss codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">GET http://bank.com/transfer.do?acct=BOB&amp;amount=100 HTTP/1.1</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Dans notre exemple, ce lien XSS est un formulaire de demande GET, mais il pourrait aussi bien s&#x27;agir d&#x27;un formulaire de demande POST. Ce lien
effectue une <strong>transaction bancaire</strong>.</p><p>Cette transaction bancaire se produit <strong>à l&#x27;insu de</strong> l&#x27;utilisateur qui peut ou non réaliser que le navigateur a toujours la session bancaire
ouverte.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="protégezvotre-application-contre-une-faille-csrf-">Protégez votre application contre une faille CSRF ?<a class="hash-link" href="#protégezvotre-application-contre-une-faille-csrf-" title="Direct link to heading">​</a></h4><ol><li>Exiger la réauthentification pour toutes les demandes des utilisateurs.</li><li>Utiliser un jeton unique pour chaque demande.</li><li>Utiliser des jetons anti-falsification qui valident le jeton côté client par rapport au jeton côté serveur web.</li><li>Effectuer des recherches sur les bibliothèques CSRF basées sur la sécurité.</li></ol><h3 class="anchor anchorWithStickyNavbar_mojV" id="en-résumé-5">En résumé<a class="hash-link" href="#en-résumé-5" title="Direct link to heading">​</a></h3><ul><li>Une faille <strong>cross-site scripting ou XSS</strong> est un script qui peut être exécuté dans votre site web.</li><li>Empêcher une faille XSS avec validation de l&#x27;entrée et un encodage de l&#x27;entrée.</li><li>Protégez vos cookies en activant l&#x27;option HttpOnly.</li><li>Les attaques CSRF peuvent se produire via social engineering.</li><li>Les attaques CSRF effectuent des transactions à l&#x27;insu de l&#x27;utilisateur.</li></ul><p><em>Dans le prochain chapitre, nous verrons les vulnérabilités XXE et comment s’en prémunir.</em></p><hr><h2 class="anchor anchorWithStickyNavbar_mojV" id="protégez-votre-code-contre-les-failles-xxe-et-la-désérialisation-non-sécurisée">Protégez votre code contre les failles XXE et la désérialisation non sécurisée<a class="hash-link" href="#protégez-votre-code-contre-les-failles-xxe-et-la-désérialisation-non-sécurisée" title="Direct link to heading">​</a></h2><p><a href="https://openclassrooms.com/fr/courses/6179306-securisez-vos-applications-web-avec-lowasp/6520493-protegez-votre-code-contre-les-failles-xxe-et-la-deserialisation-non-securisee" target="_blank" rel="noopener noreferrer">Protégez votre code contre les failles XXE et la désérialisation non sécurisée - Sécurisez vos applications web avec l&#x27;OWASP - OpenClassrooms</a></p><div data-testid="general-observer" class="mdx-embed"><div style="height:0;width:100%"></div></div><br><p>Pour sécuriser son code, il est important de respecter les bonnes pratiques de sécurité mais aussi d’utiliser des fonctions qui permettent
d’ajouter des mesures de sécurité supplémentaires. Dans ce chapitre, nous allons définir ce que sont les failles XXE et découvrir comment
s’en prémunir.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="découvrez-les-xml-external-entities-xxe">Découvrez les XML External Entities (XXE)<a class="hash-link" href="#découvrez-les-xml-external-entities-xxe" title="Direct link to heading">​</a></h3><p>Pour comprendre ce que sont les XXE, il faut d’abord définir le langage XML. Le <strong>langage XML (<em>Extensible Markup Language</em>)</strong> a été créé pour
<strong>stocker, partager</strong> et <strong>transporter des données entre systèmes</strong>. Il est indépendant de la plateforme et du langage.</p><p>XML est utilisé pour transmettre des données d&#x27;une plateforme à l&#x27;autre. Beaucoup d&#x27;applications web utilisent XML pour gérer les données. Il
ressemble à HTML, mais fonctionne différemment car HTML est utilisé pour présenter les données en hypertexte sur un navigateur.</p><p>Revenons au <strong>formulaire de connexion</strong> d&#x27;un utilisateur. Ici, vous vous inscrivez sur un site avec votre nom, votre adresse e-mail et votre
numéro de téléphone. Une fois que vous avez appuyé sur <em>Entrée</em>, les informations que vous avez tapées deviennent des éléments sous forme XML.</p><div class="codeBlockContainer_I0IT language-xml theme-code-block"><div class="codeBlockContent_wNvx xml"><pre tabindex="0" class="prism-code language-xml codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token prolog" style="color:#999988;font-style:italic">&lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot;?&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">users</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">user</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">username</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Batman</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">username</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">email</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">batman@superheroes.bla</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">email</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">phone</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">888-123-4567</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">phone</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">user</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">users</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>En XML, il existe des entités internes et externes.</p><p>Une <strong>entité interne</strong> est essentiellement une référence XML à un objet interne. Le code ci-dessous représente une entité interne.</p><div class="codeBlockContainer_I0IT language-xml theme-code-block"><div class="codeBlockContent_wNvx xml"><pre tabindex="0" class="prism-code language-xml codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">!ENTITY</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">superhero</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">&quot;Batman&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">!ENTITY</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">origin</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">&quot;Gotham</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">City&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">character</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">&amp;superhero;</span><span class="token entity named-entity" style="color:#36acaa">&amp;origin;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">character</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Une <strong>entité externe</strong> est une référence XML à une source externe comme un <strong>chemin de fichier</strong> ou une <strong>URL</strong>, des <strong>images</strong>, des
<strong>références de documents</strong> ou des <strong>liens de fichiers</strong>. Lorsque cette balise d&#x27;entité externe est intégrée à une page web, elle sera
directement affichée depuis son emplacement externe.</p><p>Dans l’exemple ci-dessous, la première entité externe, le super-héros, est une URL référencée. La deuxième entité externe, l&#x27;origine, fait
référence à un <strong>chemin de fichier</strong> sur un système de fichiers Linux. Le contenu du fichier sur ce chemin sera <strong>affiché sur la page web</strong>.
Le mot clé <strong>SYSTEM</strong> inclut le fichier référencé dans le document XML.</p><div class="codeBlockContainer_I0IT language-xml theme-code-block"><div class="codeBlockContent_wNvx xml"><pre tabindex="0" class="prism-code language-xml codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;!ENTITY superhero SYSTEM &quot;http://www.batman.bla&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;!ENTITY origin SYSTEM &quot;file:///usr/batman&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">character</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">&amp;superhero;</span><span class="token entity named-entity" style="color:#36acaa">&amp;origin;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">character</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="découvrez-le-fonctionnement-dune-attaque-xxe">Découvrez le fonctionnement d&#x27;une attaque XXE<a class="hash-link" href="#découvrez-le-fonctionnement-dune-attaque-xxe" title="Direct link to heading">​</a></h3><p>Une attaque XXE ou <em>injection XXE</em> est un type d&#x27;attaque contre une application qui utilise XML. Cette attaque se produit lorsque l&#x27;entrée XML
contenant une référence à une entité externe est traitée par un analyseur XML mal configuré. Cette attaque peut entraîner la divulgation de
données confidentielles, un déni de service, une falsification de requête côté serveur et d&#x27;autres impacts sur le système.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>?</h5></div><div class="admonition-content"><p>Comment un pirate peut-il tirer profit d&#x27;une XXE ?</p></div></div><p>Regardons la ligne du code ci-dessous.</p><p><code>&lt;!ENTITY origin SYSTEM &quot;file:///usr/batman&quot;&gt;</code></p><p>Lorsque cette entité est référencée, elle <strong>affichera</strong> le contenu du fichier  <code>/usr/batman.</code></p><p>Un attaquant peut avoir délibérément choisi de placer ce chemin d&#x27;accès dans le XML pour obtenir un <strong>accès non autorisé</strong> au contenu de ce
fichier. Cette attaque est une forme d’injection.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>?</h5></div><div class="admonition-content"><p>Comment fonctionne l&#x27;attaque par injection XML ?</p></div></div><p>Pour une page de connexion normale, un développeur web créera une requête AJAX POST vers une page de connexion qui utilisera un nom XML et un
mot de passe comme identifiants.</p><p>Une requête POST est créée pour aller à l&#x27;URL <code>webdevfightshacker.bla/login.html</code>.</p><p>Une fois sur la page de connexion, les données XML présentes dans la variable <strong>xmlHero</strong> rempliront le formulaire Nom et mot de passe.</p><p>La demande POST fournit une réponse pour indiquer le succès ou l&#x27;échec.</p><div class="codeBlockContainer_I0IT language-xml theme-code-block"><div class="codeBlockContent_wNvx xml"><pre tabindex="0" class="prism-code language-xml codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">var xmlHero = &quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">hero</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Batgirl</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">password</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">ilovebatman</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">password</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">hero</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">”;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$.ajax</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">({</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    type: &quot;POST&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    url: &quot;webdevfightshacker.bla/login.html&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    data: xmlHero,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    success: function(response)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    { console.log(response);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Le code ci-dessus montre une <strong>requête POST</strong> qui <strong>envoie les données XML</strong> assignées à la variable xmlHero.</p><p>La page de connexion qui reçoit cette requête POST utilise ensuite une <strong>fonction d&#x27;analyse XML</strong> pour lire le contenu et l&#x27;affecter aux
variables qui correspondent au nom d&#x27;utilisateur et au mot de passe du formulaire.</p><p>Une <strong>injection XXE</strong> est utilisée pour lire le contenu d&#x27;un fichier et l&#x27;afficher sur le navigateur. Imaginons que le pirate soit intéressé
par un dossier spécial appelé <em>secretpower</em> dans le répertoire de <em>Batgirl.</em></p><p>Le pirate commence à créer une description de type de document pour une entité nommée <em><code>hax</code></em> et lui donne le chemin du fichier.</p><div class="codeBlockContainer_I0IT language-html theme-code-block"><div class="codeBlockContent_wNvx html"><pre tabindex="0" class="prism-code language-html codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">!DOCTYPE</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">hax</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">[&lt;!ELEMENT</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">hax</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">ANY</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">!ENTITY</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">hax</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">SYSTEM</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">“C:</span><span class="token tag attr-name" style="color:#00a4db">\Users\SBatgirl\Desktop\secretpower”</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Ensuite, la variable <code>hax</code> est référencée comme une entité de caractère externe XML.</p><div class="codeBlockContainer_I0IT language-xml theme-code-block"><div class="codeBlockContent_wNvx xml"><pre tabindex="0" class="prism-code language-xml codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">var xmlHero = &quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">hero</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token entity named-entity" style="color:#36acaa">&amp;hax;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">password</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">ilovebatman</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">password</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">hero</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">”;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Dans ce cas, l’attaquant sera en mesure de récupérer le mot de passe de Batgirl et d’accéder à ses données.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="protégez-votre-code-contre-les-injections-xxe">Protégez votre code contre les injections XXE<a class="hash-link" href="#protégez-votre-code-contre-les-injections-xxe" title="Direct link to heading">​</a></h3><p>Il existe un moyen de <strong>désactiver</strong> les entités externes dans tous les langages. Il s&#x27;agit généralement d&#x27;une balise binaire <strong>vrai/faux</strong>.</p><p>Par exemple, dans un <strong>analyseur XML PHP</strong>, le code ressemblerait à ceci :</p><p><code>libxml_disable_entity_loader (true) ;</code></p><p>Et en <strong>Java</strong> :</p><div class="codeBlockContainer_I0IT language-java theme-code-block"><div class="codeBlockContent_wNvx java"><pre tabindex="0" class="prism-code language-java codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">factory.setFeature(&quot;http://apache.org/xml/features/disallow-doctype-decl&quot;, true);</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Il existe d&#x27;autres <strong>API d&#x27;analyse XML</strong> qui peuvent avoir des entités externes activées par défaut.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>Pour obtenir la liste de ces API, vous pouvez consultez cette <a href="https://github.com/OWASP/CheatSheetSeries/blob/master/cheatsheets/XML_External_Entity_Prevention_Cheat_Sheet.md" target="_blank" rel="noopener noreferrer">page</a>.</p></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="découvrez-la-désérialisation-non-sécurisée">Découvrez la désérialisation non sécurisée<a class="hash-link" href="#découvrez-la-désérialisation-non-sécurisée" title="Direct link to heading">​</a></h3><p>La désérialisation non sécurisée est une vulnérabilité qui se produit lorsque des données non fiables sont utilisées pour abuser de la logique
d&#x27;une application, causer un déni de service (DoS, Deny of Service), ou même exécuter du code arbitraire. Cette vulnérabilité occupe la 8e
place du classement OWASP.</p><p>Pour comprendre la désérialisation non sécurisée, il faut d’abord comprendre ce qu’est la sérialisation.</p><p>Pour cet exemple, nous allons prendre un objet, comme un nom d&#x27;utilisateur et un mot de passe, et le mettre dans la base de données. Pour
pouvoir être stocké, l&#x27;objet devra être converti en flux d&#x27;octets pour être transporté à travers le réseau afin d&#x27;accéder à la base de données.
C&#x27;est ce qu&#x27;on appelle la <strong><em>sérialisation</em></strong>. Lorsqu&#x27;il y a un appel pour ce même objet dans la base de données, il doit être <strong>désérialisé</strong>
(conversion du flux d&#x27;octets en objet) avant son utilisation.</p><p>Ce <strong>processus de sérialisation/désérialisation des objets</strong> ne se produit pas seulement avec les bases de données. Un objet peut changer son
état en un flux d&#x27;octets lorsqu&#x27;il est stocké dans un fichier, d&#x27;ordinateur à ordinateur ou en se déplaçant sur le réseau.</p><p>Ces objets peuvent être des cookies, des flux vocaux, des jetons ou des fichiers cache, par exemple.</p><p>La <strong>désérialisation non sécurisée</strong> est une vulnérabilité qui expose les données à une attaque <strong>MITM</strong> (homme du milieu), que nous avons vue
précédemment, ou à une injection de code qui peut changer l&#x27;intégrité de l&#x27;objet quand il est désérialisé.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p><strong>Java</strong> dispose de bibliothèques dédiées à la sérialisation et à la désérialisation. <strong>YAML</strong> dispose de bibliothèques dédiées à la
sérialisation pour différents langages de programmation.</p></div></div><p>Par exemple, un cookie avec un identifiant de session et des informations d&#x27;identification est envoyé par le navigateur au serveur web
exécutant <strong>Java</strong>.</p><p>Ce cookie est sérialisé en utilisant la <strong>classe Java OutputStream</strong> avec un constructeur. À partir de là, le code malveillant peut être
injecté par un attaquant au moment de la sérialisation.</p><p>Le cookie est désérialisé à l’aide de la classe ObjectInputStream de Java, sans constructeur. Le constructeur est créé après la création de
l&#x27;objet. Sans vérification ni validation des entrées pendant le processus de désérialisation.</p><p>Un attaquant peut utiliser une classe Java Serializable ou Externalizable car elles sont déjà disponibles dans la bibliothèque. Les valeurs
peuvent être manipulées pour créer des fonctionnalités différentes de celles de l&#x27;objet d&#x27;origine.</p><p>Voici un exemple avec Java :</p><div class="codeBlockContainer_I0IT language-java theme-code-block"><div class="codeBlockContent_wNvx java"><pre tabindex="0" class="prism-code language-java codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">public class Hacked extends Serializable {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String cmd;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private void readObject(ObjectInputStream hackedbinary) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        hackedbinary.defaultReadObject();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Runtime.getRuntime().exec(cmd);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Cette classe <strong>Hacked</strong> crée une bibliothèque utilisée dans le système. La valeur de la variable de classe est appelée <em>cmd</em> (qui correspond à
l’invite de commande).</p><p>Les méthodes <code>readObject() defaultReadObject()</code> désérialisent le binaire pour coïncider avec le processus de sérialisation au début.</p><p>Le fichier <code>Runtime.getRuntime().exec(cmd)</code> ouvre une invite de commande permettant à l’attaquant de modifier efficacement la fonctionnalité
de l&#x27;objet original.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="prévenez-la-désérialisation-non-sécurisée">Prévenez la désérialisation non sécurisée<a class="hash-link" href="#prévenez-la-désérialisation-non-sécurisée" title="Direct link to heading">​</a></h4><p>Dans l&#x27;exemple ci-dessus, la <strong>classe Java ObjectInputStream</strong> restreint l&#x27;utilisation arbitraire de cette bibliothèque en l&#x27;enveloppant dans
la bibliothèque SerialKiller. La <a href="https://github.com/ikkisoft/SerialKiller" target="_blank" rel="noopener noreferrer">bibliothèque Java SerialKiller</a> a été créée pour pallier les
problèmes de désérialisation.</p><p>Pour empêcher l&#x27;accès privilégié non autorisé à l&#x27;aide de l&#x27;objet désérialisé, une mesure défensive consisterait à valider les données
d&#x27;entrée et à vérifier la fonctionnalité de l&#x27;objet.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="en-résumé-6">En résumé<a class="hash-link" href="#en-résumé-6" title="Direct link to heading">​</a></h3><ul><li><strong>Des entités XML externes</strong> peuvent être utilisées pour révéler des données sensibles, des images et des références de documents
enregistrées sur un ordinateur.</li><li><strong>Les entités XML externes</strong> devraient être désactivées.</li><li><strong>La désérialisation non sécurisée</strong> est la capacité d&#x27;un attaquant à changer l&#x27;état du code pendant sa conversion en binaire.</li><li><strong>La désérialisation non sécurisée</strong> peut être évitée en créant des contrôles sur l&#x27;état du code.</li></ul><p><em>Dans le prochain chapitre, nous aborderons la sécurisation de votre environnement de développement.</em></p><hr><h2 class="anchor anchorWithStickyNavbar_mojV" id="sécurisez-votre-environnement-de-développement">Sécurisez votre environnement de développement<a class="hash-link" href="#sécurisez-votre-environnement-de-développement" title="Direct link to heading">​</a></h2><p><a href="https://openclassrooms.com/fr/courses/6179306-securisez-vos-applications-web-avec-lowasp/6520557-securisez-votre-environnement-de-developpement" target="_blank" rel="noopener noreferrer">Sécurisez votre environnement de développement - Sécurisez vos applications web avec l&#x27;OWASP - OpenClassrooms</a></p><div data-testid="general-observer" class="mdx-embed"><div style="height:0;width:100%"></div></div><br><h3 class="anchor anchorWithStickyNavbar_mojV" id="faites-face-aux-vulnérabilités-connues">Faites face aux vulnérabilités connues<a class="hash-link" href="#faites-face-aux-vulnérabilités-connues" title="Direct link to heading">​</a></h3><p>Il est important de faire des recherches sur les outils de votre environnement de développement pour être au courant de toutes les
vulnérabilités et des méthodes d&#x27;atténuation. Documentez tous les modules, API et bibliothèques utilisés, ainsi que les vulnérabilités connues
afin de garder une trace des actions effectuées.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>?</h5></div><div class="admonition-content"><p>Comment savoir si un des outils que j&#x27;utilise présente une vulnérabilité connue ?</p></div></div><p>Pensez à consulter les bases de données sur le web. La base de données <a href="https://cve.mitre.org/" target="_blank" rel="noopener noreferrer">Common Vulnerabilities and Exposures</a> (en
anglais), créée par le MITRE, est un excellent outil à utiliser.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>Le MITRE est une organisation à but non lucratif qui effectue des travaux liés à la cybersécurité.</p></div></div><p>Voici quelques conseils pour vous assurer que votre environnement est sécurisé :</p><ul><li><strong>documentez</strong> les versions de chaque composant de votre application, y compris le firmware de la carte réseau du serveur ;</li><li>examinez vos composants physiques, vos applications, votre système d&#x27;exploitation, vos API, vos bibliothèques et les versions des langages
utilisées.</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="identifiez-votre-environnement-pour-éviter-les-failles-de-sécurité">Identifiez votre environnement pour éviter les failles de sécurité<a class="hash-link" href="#identifiez-votre-environnement-pour-éviter-les-failles-de-sécurité" title="Direct link to heading">​</a></h3><p>Vous pouvez appliquer toutes les pratiques de programmation sécurisée que vous connaissez, mais si vous vous retrouvez avec votre application
web dans un <strong>environnement qui n&#x27;est pas sécurisé</strong>, cela peut l&#x27;ouvrir à <strong>d&#x27;autres attaques</strong>.</p><p>Il est très important d&#x27;avoir une <strong>bonne configuration de sécurité</strong> pour l&#x27;environnement qui héberge votre application web afin d&#x27;assurer sa
disponibilité et son intégrité. Par ailleurs, il faudra également mettre en place des couches de sécurité telles qu&#x27;un pare-feu (WAF). Ce
pare-feu devra être configuré de manière optimale pour s&#x27;assurer que seuls les ports requis sont ouverts afin de renforcer la sécurité. Un
outil comme un SIEM (<em>Security information management system)</em> peut détecter les événements et assurer la gestion de la sécurité du serveur.</p><p>En dehors du serveur d&#x27;application web et du pare-feu, se trouve le <strong>serveur physique</strong> lui-même. En règle générale, les services cloud qui
fournissent cet espace ont déjà mis en place des mesures de sécurité. Assurez-vous que les <strong>normes de conformité pour le service cloud</strong>
utilisées sont conformes aux <strong>exigences de la politique de sécurité</strong> de votre application web. La configuration de sécurité du serveur
physique et du pare-feu pour la plateforme de cloud nécessitent une configuration stricte.</p><p><strong>Le contrôle d&#x27;accès</strong> pour les composants externes de l&#x27;environnement, tels que la plateforme et l&#x27;administration du serveur, sont d&#x27;autres
moyens par lesquels un attaquant peut obtenir un contrôle non autorisé à une application web. Ces facteurs doivent être correctement
configurés et documentés.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="sécurisez-votre-environnement">Sécurisez votre environnement<a class="hash-link" href="#sécurisez-votre-environnement" title="Direct link to heading">​</a></h3><p>Après avoir pris connaissance des composants de votre environnement, vous devez vous assurer que les configurations sont à la hauteur de la
sécurité requise. La bonne gestion des vulnérabilités est un élément critique pour maintenir la sécurité de votre application web.</p><p>Prenons un exemple concret.</p><p>Supposons que la plateforme sur laquelle est hébergée votre application web dispose d&#x27;une <strong>console d&#x27;administration</strong>. Votre patron insiste
sur le fait que la plateforme a la réputation d&#x27;être sécurisée et qu&#x27;elle utilise un service cloud populaire ! Il vous dit aussi que tout est
configuré et qu&#x27;il vous suffit de paramétrer votre application web sur la plateforme. Tout est sécurisé !</p><p>Le site est <strong>détourné</strong>, et devinez quoi ? Les pirates avaient un <strong>accès complet</strong> à votre application web parce qu&#x27;ils pouvaient accéder à
la <strong>console d&#x27;administration</strong>. Apparemment, certaines des <strong>informations d&#x27;identification par défaut</strong> n&#x27;ont pas été supprimées, et comme
ces informations d&#x27;identification sont déjà connues des attaquants, ils attendent que la même application web apparaisse avec les paramètres
par défaut !</p><p>La sécurisation de votre code avec l’OWASP n’a pas d’intérêt si un attaquant a accès au code source et peut se connecter directement dans la
console d&#x27;administration.</p><p>Quelle est la leçon à tirer ici ? Sécurisez toutes vos applications externes !</p><p>Une mauvaise configuration de sécurité peut se produire à n&#x27;importe quel niveau, y compris les services réseau, la plateforme, le serveur web,
le serveur d&#x27;applications, la base de données, les frameworks, le code personnalisé et les machines virtuelles, conteneurs ou stockage
préinstallés.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>Vous pouvez en apprendre davantage avec sur cette page du site de l&#x27;<a href="https://www.owasp.org/index.php/Top_10-2017_A6-Security_Misconfiguration" target="_blank" rel="noopener noreferrer">OWASP</a>
(en anglais).</p></div></div><p>Pour les <strong>services réseau</strong>, vous allez examiner l&#x27;infrastructure de votre serveur web et vous assurer que les meilleures pratiques sont
utilisées pour sécuriser vos services. Vous avez des serveurs FTP de base de données ou <em>LDAP</em> (Lightweight Directory Access Protocol) qui
peuvent être compromis par les mauvaises personnes ! Les systèmes d&#x27;authentification doivent suivre les meilleures pratiques de sécurité.</p><p>Voici quelques bonnes questions à poser :</p><ul><li>Existe-t-il des pare-feux pour toutes les applications et tous les serveurs ?</li><li>Est-ce que seuls les ports nécessaires sont ouverts avec des ensembles de règles limités ?</li><li>Les pare-feux limitent-ils le type de trafic sur les ports ouverts ?</li><li>De plus, y a-t-il un processus mis en place pour détecter les anomalies dans le trafic web ?</li></ul><p>Le <strong>trafic web</strong> devrait également être surveillé pour déceler les anomalies. Imaginez si quelqu&#x27;un commençait à effectuer des scans de ports
pour rechercher périodiquement les ports ouverts. Il y a des outils qui peuvent détecter de tels événements pour avertir les administrateurs
qu&#x27;il y a une tentative possible de piratage du site.</p><p>Concernant <strong>l&#x27;application et la plateforme</strong>, nous avons parlé du nom d&#x27;utilisateur et des mots de passe par défaut pour les serveurs, les
applications et les bases de données. Nous avons également passé en revue la détection et l&#x27;enregistrement des événements possibles.
Assurez-vous qu&#x27;ils ne révèlent pas les informations de base sur votre site, telles que les noms d&#x27;utilisateur, les fichiers, les
configurations IP et les données de base pour l&#x27;entreprise et les personnes.</p><p>Tous les aspects <strong>administratifs</strong> tels que les répertoires et les fichiers de configuration pour toutes les applications doivent être
protégés des regards indiscrets. Protégez le code source et la structure des fichiers en vous assurant que le serveur web est verrouillé.</p><p>Toutes vos applications sont hébergées sur des systèmes d&#x27;exploitation. Assurez-vous que les applications ont un accès <strong>minimal</strong> au système
d&#x27;exploitation, car le piratage du système d&#x27;exploitation est un moyen sûr de prendre le contrôle de votre application.</p><p>Vous disposez également de jetons d&#x27;accès, de mots de passe d&#x27;authentification et de clés de chiffrement ! Protégez-les également.</p><p>Enfin, les <strong>exceptions</strong> et les <strong>codes d&#x27;erreur</strong> en disent long sur votre application, votre code source, le fonctionnement du réseau, la
structure des fichiers de votre base de données, les répertoires de fichiers et plus encore. Les attaquants cherchent ce type d&#x27;information.
Une stack trace peut être utile lorsque vous déboguez votre application ; cependant, si elle est utilisée à des fins malveillantes, la
quantité d&#x27;informations qu&#x27;elle peut révéler peut être dangereuse !</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>Une stack trace est la représentation des piles d&#x27;exécution à un moment donné lors de l&#x27;exécution d&#x27;un programme informatique.</p></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="en-résumé-7">En résumé<a class="hash-link" href="#en-résumé-7" title="Direct link to heading">​</a></h3><ul><li>Lors de la conception d&#x27;une application web, évaluez les composants présentant des vulnérabilités connues.</li><li>Les composants peuvent présenter de nouvelles vulnérabilités tout au long du cycle de vie du produit.</li><li>Patchez toujours les zones présentant de nouvelles vulnérabilités.</li><li>Votre travail n&#x27;est pas terminé après que vous ayez écrit un code sécurisé.</li><li>Assurez-vous que les pare-feux et les plateformes sont protégés et configurés de manière à respecter les bonnes pratiques de sécurité.</li><li>Connectez-vous avec les administrateurs de bases de données pour vous assurer que la base de données est sécurisée.</li></ul><p><em>Vous êtes arrivé au bout de cette partie ! Bravo ! Réalisez le quiz pour valider vos connaissances.</em></p><hr><h2 class="anchor anchorWithStickyNavbar_mojV" id="quiz--protégez-votre-code-avec-lowasp">Quiz : Protégez votre code avec l&#x27;OWASP<a class="hash-link" href="#quiz--protégez-votre-code-avec-lowasp" title="Direct link to heading">​</a></h2><p><a href="https://openclassrooms.com/fr/courses/6179306-securisez-vos-applications-web-avec-lowasp/exercises/3757" target="_blank" rel="noopener noreferrer">Protégez votre code avec l&#x27;OWASP - OpenClassrooms</a></p><h4 class="anchor anchorWithStickyNavbar_mojV" id="compétences-évaluées">Compétences évaluées<a class="hash-link" href="#compétences-évaluées" title="Direct link to heading">​</a></h4><i class="bi bi-check2-circle"></i> Protéger du code avec l&#x27;OWASP<hr><h4 class="anchor anchorWithStickyNavbar_mojV" id="question-1--choisissez-les-meilleurs-moyens-pour-sécuriser-une-application-web-contre-une-attaque-par-injection-en-utilisant-username--1-ou-1--1">Question 1 : Choisissez les meilleurs moyens pour sécuriser une application web contre une attaque par injection en utilisant <code>$username = &#x27;1&#x27; ou &#x27;1&#x27; = &#x27;1&#x27;</code>.<a class="hash-link" href="#question-1--choisissez-les-meilleurs-moyens-pour-sécuriser-une-application-web-contre-une-attaque-par-injection-en-utilisant-username--1-ou-1--1" title="Direct link to heading">​</a></h4><p><em>Attention, plusieurs réponses sont possibles.</em></p><i class="bi bi-check-square-fill"></i> Validation d&#x27;entrée<br><i class="bi bi-check-square-fill"></i> Paramétrage des variables<br><i class="bi bi-check-square-fill"></i> Utilisation du mappage relationnel objet (ORM)<br><i class="bi bi-square"></i> Pas d’utilisation d’une base de données SQL<br><br><p><em>La validation des entrées, le paramétrage de vos variables et l’ORM sont tous de bons moyens de sécuriser vos formulaires d’entrée contre
une attaque par injection. Il n&#x27;est pas toujours possible d&#x27;éviter d&#x27;utiliser une base de données SQL.</em></p><hr><h4 class="anchor anchorWithStickyNavbar_mojV" id="question-2--que-peut-potentiellement-faire-lattaque-dinjection-sql-suivante-">Question 2 : Que peut potentiellement faire l&#x27;attaque d&#x27;injection SQL suivante ?<a class="hash-link" href="#question-2--que-peut-potentiellement-faire-lattaque-dinjection-sql-suivante-" title="Direct link to heading">​</a></h4><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx sql"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> accounts </span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> username</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;1&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">or</span><span class="token plain"> ‘</span><span class="token number" style="color:#36acaa">1</span><span class="token plain">’</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">’</span><span class="token number" style="color:#36acaa">1</span><span class="token plain">&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DROP</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLE</span><span class="token plain"> accounts</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><i class="bi bi-circle"></i> Elle sélectionne un compte et supprime le reste des comptes<br><i class="bi bi-record-circle"></i> Elle révèle tous les comptes à l&#x27;attaquant et supprime la table des comptes de la base de données<br><i class="bi bi-circle"></i> Elle crée une boîte de dialogue qui affiche le premier nom d&#x27;utilisateur<br><i class="bi bi-circle"></i> Elle change le langage de la base de données en Java<br><br><p><em>La première partie de la requête sélectionne tous les comptes avec un nom d&#x27;utilisateur et un mot de passe dans la table des comptes. La
deuxième partie supprime tout ce qui se trouve dans la table des comptes.</em></p><hr><h4 class="anchor anchorWithStickyNavbar_mojV" id="question-3--quelle-est-la-meilleure-manière-de-sécuriser-un-identifiant-et-un-mot-de-passe-lors-de-leur-transport-vers-une-base-de-données-">Question 3 : Quelle est la meilleure manière de sécuriser un identifiant et un mot de passe lors de leur transport vers une base de données ?<a class="hash-link" href="#question-3--quelle-est-la-meilleure-manière-de-sécuriser-un-identifiant-et-un-mot-de-passe-lors-de-leur-transport-vers-une-base-de-données-" title="Direct link to heading">​</a></h4><i class="bi bi-circle"></i> Les chiffrer sur la page de connexion<br><i class="bi bi-record-circle"></i> Les chiffrer avec HTTPS<br><i class="bi bi-circle"></i> Ils peuvent rester en clair<br><i class="bi bi-circle"></i> Utiliser une procédure SQL stockée<br><br><p><em>La meilleure pratique consiste à utiliser HTTPS dans vos demandes de page de connexion. Une fois que le mot de passe est dans la base de
données, chiffrez-le à l&#x27;aide d&#x27;un algorithme de hachage suggéré.</em></p><hr><h4 class="anchor anchorWithStickyNavbar_mojV" id="question-4--quelles-sont-les-meilleures-pratiques-pour-traiter-les-demandes-get-et-post-">Question 4 : Quelles sont les meilleures pratiques pour traiter les demandes GET et POST ?<a class="hash-link" href="#question-4--quelles-sont-les-meilleures-pratiques-pour-traiter-les-demandes-get-et-post-" title="Direct link to heading">​</a></h4><p><em>Attention, plusieurs réponses sont possibles.</em></p><i class="bi bi-check-square-fill"></i> Utiliser les requêtes GET pour récupérer des informations<br><i class="bi bi-square"></i> Utiliser les requêtes GET pour modifier les informations<br><i class="bi bi-square"></i> Utiliser les requêtes POST pour récupérer des informations<br><i class="bi bi-check-square-fill"></i> Utilisez les requêtes POST pour modifier les informations<br><br><p><em>Les requêtes GET révèlent des informations dans l&#x27;URL. Elles doivent donc être utilisées pour extraire des informations de la base de données.
Les demandes POST cachent des informations dans le corps et sont considérées comme plus sécurisées. Elles doivent être utilisés lors de la
modification d&#x27;informations dans la base de données.</em></p><hr><h4 class="anchor anchorWithStickyNavbar_mojV" id="question-5--quelles-méthodes-peuvent-être-utilisées-pour-lanonymisation-par-masquage-des-données-">Question 5 : Quelles méthodes peuvent être utilisées pour l&#x27;anonymisation par masquage des données ?<a class="hash-link" href="#question-5--quelles-méthodes-peuvent-être-utilisées-pour-lanonymisation-par-masquage-des-données-" title="Direct link to heading">​</a></h4><p><em>Attention, plusieurs réponses sont possibles.</em></p><i class="bi bi-check-square-fill"></i> La suppression de certaines parties de données<br><i class="bi bi-check-square-fill"></i> Le chiffrement des données<br><i class="bi bi-check-square-fill"></i> Le brouillage des données<br><i class="bi bi-square"></i> Le stockages des données en mémoire<br><br><p><em>Masquer, chiffrer et brouiller les données sont trois méthodes de masquage des données utilisées pour sécuriser les données sensibles.</em></p><hr><h4 class="anchor anchorWithStickyNavbar_mojV" id="question-6--quels-sont-les-deux-algorithmes-de-hachage-les-plus-puissants-aujourdhui-">Question 6 : Quels sont les deux algorithmes de hachage les plus puissants aujourd’hui ?<a class="hash-link" href="#question-6--quels-sont-les-deux-algorithmes-de-hachage-les-plus-puissants-aujourdhui-" title="Direct link to heading">​</a></h4><i class="bi bi-circle"></i> SHA1 et MD5<br><i class="bi bi-record-circle"></i> Argon5 et Bcrypt<br><i class="bi bi-circle"></i> TLS et SSL<br><i class="bi bi-circle"></i> Scrypt et PBDFK2<br><br><p><em>Argon5, Bcrypt, SHA1, MD5, Scrypt et PBDFK2 sont tous des algorithmes de hachage recommandés pour sécuriser les données. SHA1 et MD5 sont
sûrs s&#x27;ils sont utilisés avec des techniques de salage. TLS et SSL sont des protocoles TCP/IP. Les deux algorithmes les plus puissants
aujourd’hui sont Argon5 et Bcrypt.</em></p><hr><h4 class="anchor anchorWithStickyNavbar_mojV" id="question-7--quel-est-un-bon-moyen-dempêcher-un-attaquant-dapprendre-le-nom-dobjets-dune-base-de-données-et-de-les-utiliser-dans-une-url-">Question 7 : Quel est un bon moyen d&#x27;empêcher un attaquant d&#x27;apprendre le nom d’objets d’une base de données et de les utiliser dans une URL ?<a class="hash-link" href="#question-7--quel-est-un-bon-moyen-dempêcher-un-attaquant-dapprendre-le-nom-dobjets-dune-base-de-données-et-de-les-utiliser-dans-une-url-" title="Direct link to heading">​</a></h4><i class="bi bi-record-circle"></i> Utiliser des paires clé-valeur au lieu de références de page directes avec des noms significatifs<br><i class="bi bi-circle"></i> Numéroter les pages progressivement<br><i class="bi bi-circle"></i> Utiliser les codes d&#x27;erreur par défaut<br><i class="bi bi-circle"></i> Utiliser les noms de page par défaut dans la structure MVC<br><br><p><em>Une pratique recommandée pour éviter les références directes aux objets de la base de données consiste à utiliser des paires clé-valeur. La
numérotation incrémentielle des pages, l’utilisation de codes d’erreur par défaut et l’utilisation de noms de page par défaut sont toutes des
pratiques à éviter.</em></p><hr><h4 class="anchor anchorWithStickyNavbar_mojV" id="question-8--que-fait-httponly-pour-les-cookies-">Question 8 : Que fait HttpOnly pour les cookies ?<a class="hash-link" href="#question-8--que-fait-httponly-pour-les-cookies-" title="Direct link to heading">​</a></h4><i class="bi bi-circle"></i> Il active les cookies pour HTTP seulement<br><i class="bi bi-record-circle"></i> Il n&#x27;autorise pas les scripts malveillants à accéder aux cookies<br><i class="bi bi-circle"></i> Il permet de voler des informations d&#x27;identification<br><i class="bi bi-circle"></i> Il décode les cookies<br><br><p><em>Lors de l&#x27;utilisation d’HttpOnly, l&#x27;application web est protégée contre les scripts malveillants pouvant accéder aux cookies.</em></p><hr><h4 class="anchor anchorWithStickyNavbar_mojV" id="question-9--parmi-les-propositions-suivantes-quels-sont-les-exemples-dentités-externes-xml-">Question 9 : Parmi les propositions suivantes, quels sont les exemples d&#x27;entités externes XML ?<a class="hash-link" href="#question-9--parmi-les-propositions-suivantes-quels-sont-les-exemples-dentités-externes-xml-" title="Direct link to heading">​</a></h4><p><em>Attention, plusieurs réponses sont possibles.</em></p><i class="bi bi-square"></i> Code pour un champ d&#x27;alerte<br><i class="bi bi-check-square-fill"></i> Images<br><i class="bi bi-check-square-fill"></i> Références de documents<br><i class="bi bi-square"></i> Dossier qui stocke des bibliothèques de code<br><i class="bi bi-check-square-fill"></i> Liens de fichiers<br><br><p><em>Les entités externes XML sont des images, des références de documents et des liens de fichiers.</em></p><hr><h4 class="anchor anchorWithStickyNavbar_mojV" id="question-10--quest-ce-que-la-désérialisation-non-sécurisée-">Question 10 : Qu’est-ce que la désérialisation non sécurisée ?<a class="hash-link" href="#question-10--quest-ce-que-la-désérialisation-non-sécurisée-" title="Direct link to heading">​</a></h4><i class="bi bi-record-circle"></i> Un attaquant qui modifie le code en cours de désérialisation<br><i class="bi bi-circle"></i> Un attaquant qui modifie le code après sa désérialisation<br><i class="bi bi-circle"></i> Un attaquant qui modifie le code de Java en bytecode Java<br><br><p><em>La désérialisation non sécurisée est une attaque qui se produit pendant le processus de sérialisation. Le code est modifié lorsqu&#x27;il est
converti en binaire, puis exécuté lorsqu&#x27;il est désérialisé à son état d&#x27;origine.</em></p><hr><h4 class="anchor anchorWithStickyNavbar_mojV" id="question-11--en-plus-des-règles-de-lowasp-quelles-autres-couches-de-sécurité-peuvent-aider-à-protéger-votre-application-web-">Question 11 : En plus des règles de l’OWASP, quelles autres couches de sécurité peuvent aider à protéger votre application web ?<a class="hash-link" href="#question-11--en-plus-des-règles-de-lowasp-quelles-autres-couches-de-sécurité-peuvent-aider-à-protéger-votre-application-web-" title="Direct link to heading">​</a></h4><p><em>Attention, plusieurs réponses sont possibles.</em></p><i class="bi bi-check-square-fill"></i> Un pare-feu de serveur physique<br><i class="bi bi-check-square-fill"></i> Un pare-feu d’application web<br><i class="bi bi-check-square-fill"></i> Des services cloud sécurisés<br><i class="bi bi-square"></i> Un gardien de sécurité à côté du serveur<br><br><p><em>Les pare-feux sur les serveurs physiques, les pare-feux d&#x27;applications web et les services de cloud sécurisés sont tous des composants
importants pour la sécurisation d’une application web sur un serveur. Un agent de sécurité n&#x27;est pas en mesure d&#x27;empêcher les attaques de
réseau.</em></p><hr><h4 class="anchor anchorWithStickyNavbar_mojV" id="question-12--lorsque-vous-encodez-votre-entrée-pour-la-convertir-en-entités-de-texte-et-de-caractères-il-sagit-de-">Question 12 : Lorsque vous encodez votre entrée pour la convertir en entités de texte et de caractères, il s’agit de :<a class="hash-link" href="#question-12--lorsque-vous-encodez-votre-entrée-pour-la-convertir-en-entités-de-texte-et-de-caractères-il-sagit-de-" title="Direct link to heading">​</a></h4><i class="bi bi-circle"></i> Un script intersite<br><i class="bi bi-circle"></i> Une validation d&#x27;entrée<br><i class="bi bi-record-circle"></i> Une transformation d&#x27;entrée<br><i class="bi bi-circle"></i> Un éditeur de code<br><br><p><em>La transformation d&#x27;entrée consiste à coder les valeurs d&#x27;entrée pour empêcher un code scripté de s&#x27;exécuter sur une application web.</em></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/gylgyl2000/Mon_Web_Dev_Wiki/edit/master/website/docs/OpenClassrooms/6-Construisez_une_API_securisee_pour_une_application_d_avis_gastronomiques/3-Securisez_vos_applications_web_avec_l_OWASP/2-Protegez_votre_code_avec_l_OWASP.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Construisez_une_API_securisee_pour_une_application_d_avis_gastronomiques/Securisez_vos_applications_web_avec_l_OWASP/Identifiez_les_principales_attaques_web_et_les_regles_de_securite_a_adopter"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Identifiez les principales attaques web et les règles de sécurité à adopter</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Construisez_une_API_securisee_pour_une_application_d_avis_gastronomiques/Securisez_vos_applications_web_avec_l_OWASP/Testez_et_appliquez_l_OWASP"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Testez et appliquez l&#x27;OWASP</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#protégez-votre-code-contre-linjection" class="table-of-contents__link toc-highlight">Protégez votre code contre l’injection</a><ul><li><a href="#découvrez-linjection" class="table-of-contents__link toc-highlight">Découvrez l&#39;injection</a></li><li><a href="#sécurisezune-application-contre-linjection-sql" class="table-of-contents__link toc-highlight">Sécurisez une application contre l’injection SQL</a></li><li><a href="#en-résumé" class="table-of-contents__link toc-highlight">En résumé</a></li></ul></li><li><a href="#empêchez-le-piratage-de-session" class="table-of-contents__link toc-highlight">Empêchez le piratage de session</a><ul><li><a href="#définissez-le-piratage-de-session" class="table-of-contents__link toc-highlight">Définissez le piratage de session</a></li><li><a href="#appréhendez-lutilisation-de-cookies" class="table-of-contents__link toc-highlight">Appréhendez l&#39;utilisation de cookies</a></li><li><a href="#prévenez-votre-application-des-authentifications-non-autorisées" class="table-of-contents__link toc-highlight">Prévenez votre application des authentifications non autorisées</a></li><li><a href="#prévenez-lauthentification-malveillante" class="table-of-contents__link toc-highlight">Prévenez l&#39;authentification malveillante</a></li><li><a href="#connaissez-votre-niveau-de-protection" class="table-of-contents__link toc-highlight">Connaissez votre niveau de protection</a></li><li><a href="#en-résumé-1" class="table-of-contents__link toc-highlight">En résumé</a></li></ul></li><li><a href="#protégez-les-données-en-transit" class="table-of-contents__link toc-highlight">Protégez les données en transit</a><ul><li><a href="#découvrez-comment-les-données-transitent-la-couche-de-transport" class="table-of-contents__link toc-highlight">Découvrez comment les données transitent la couche de transport</a></li><li><a href="#comprenez-lattaque-de-lhomme-du-milieu-mitm" class="table-of-contents__link toc-highlight">Comprenez l’attaque de l’homme du milieu (MITM)</a></li><li><a href="#utilisez-https" class="table-of-contents__link toc-highlight">Utilisez HTTPS</a></li><li><a href="#mettez-en-place-le-https" class="table-of-contents__link toc-highlight">Mettez en place le HTTPS</a></li><li><a href="#sécurisez-les-requêtes-get-et-post" class="table-of-contents__link toc-highlight">Sécurisez les requêtes GET et POST</a></li><li><a href="#tirez-parti-de-la-sécurité-par-défaut-de-votre-navigateur" class="table-of-contents__link toc-highlight">Tirez parti de la sécurité par défaut de votre navigateur</a></li><li><a href="#adoptez-les-bonnes-pratiques" class="table-of-contents__link toc-highlight">Adoptez les bonnes pratiques</a></li><li><a href="#en-résumé-2" class="table-of-contents__link toc-highlight">En résumé</a></li></ul></li><li><a href="#protégez-les-données-stockées-sur-une-application" class="table-of-contents__link toc-highlight">Protégez les données stockées sur une application</a><ul><li><a href="#découvrez-les-algorithmes-de-hachage" class="table-of-contents__link toc-highlight">Découvrez les algorithmes de hachage</a></li><li><a href="#sécurisez-une-base-de-données" class="table-of-contents__link toc-highlight">Sécurisez une base de données</a></li><li><a href="#en-résumé-3" class="table-of-contents__link toc-highlight">En résumé</a></li></ul></li><li><a href="#empêchez-lexploitation-des-contrôles-daccès" class="table-of-contents__link toc-highlight">Empêchez l&#39;exploitation des contrôles d&#39;accès</a><ul><li><a href="#comprenez-le-principe-ducontrôle-daccès" class="table-of-contents__link toc-highlight">Comprenez le principe du contrôle d&#39;accès</a></li><li><a href="#découvrez-les-attaques-contre-le-contrôle-daccès" class="table-of-contents__link toc-highlight">Découvrez les attaques contre le contrôle d&#39;accès</a></li><li><a href="#en-résumé-4" class="table-of-contents__link toc-highlight">En résumé</a></li></ul></li><li><a href="#stoppez-le-cross-site-scripting-xss" class="table-of-contents__link toc-highlight">Stoppez le cross-site scripting (XSS)</a><ul><li><a href="#définissez-le-cross-site-scripting-" class="table-of-contents__link toc-highlight">Définissez le cross-site scripting ?</a></li><li><a href="#découvrez-les-vulnérabilités-csrf-cross-site-request-forgery-" class="table-of-contents__link toc-highlight">Découvrez les vulnérabilités CSRF (Cross-Site Request Forgery) ?</a></li><li><a href="#en-résumé-5" class="table-of-contents__link toc-highlight">En résumé</a></li></ul></li><li><a href="#protégez-votre-code-contre-les-failles-xxe-et-la-désérialisation-non-sécurisée" class="table-of-contents__link toc-highlight">Protégez votre code contre les failles XXE et la désérialisation non sécurisée</a><ul><li><a href="#découvrez-les-xml-external-entities-xxe" class="table-of-contents__link toc-highlight">Découvrez les XML External Entities (XXE)</a></li><li><a href="#découvrez-le-fonctionnement-dune-attaque-xxe" class="table-of-contents__link toc-highlight">Découvrez le fonctionnement d&#39;une attaque XXE</a></li><li><a href="#protégez-votre-code-contre-les-injections-xxe" class="table-of-contents__link toc-highlight">Protégez votre code contre les injections XXE</a></li><li><a href="#découvrez-la-désérialisation-non-sécurisée" class="table-of-contents__link toc-highlight">Découvrez la désérialisation non sécurisée</a></li><li><a href="#en-résumé-6" class="table-of-contents__link toc-highlight">En résumé</a></li></ul></li><li><a href="#sécurisez-votre-environnement-de-développement" class="table-of-contents__link toc-highlight">Sécurisez votre environnement de développement</a><ul><li><a href="#faites-face-aux-vulnérabilités-connues" class="table-of-contents__link toc-highlight">Faites face aux vulnérabilités connues</a></li><li><a href="#identifiez-votre-environnement-pour-éviter-les-failles-de-sécurité" class="table-of-contents__link toc-highlight">Identifiez votre environnement pour éviter les failles de sécurité</a></li><li><a href="#sécurisez-votre-environnement" class="table-of-contents__link toc-highlight">Sécurisez votre environnement</a></li><li><a href="#en-résumé-7" class="table-of-contents__link toc-highlight">En résumé</a></li></ul></li><li><a href="#quiz--protégez-votre-code-avec-lowasp" class="table-of-contents__link toc-highlight">Quiz : Protégez votre code avec l&#39;OWASP</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/Mon_Web_Dev_Wiki/docs/menu">Menu</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/Mon_Web_Dev_Wiki/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/gylgyl2000/Mon_Web_Dev_Wiki" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Mon Wiki Dev Web, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/Mon_Web_Dev_Wiki/assets/js/runtime~main.059ecb04.js"></script>
<script src="/Mon_Web_Dev_Wiki/assets/js/main.ebe36446.js"></script>
</body>
</html>