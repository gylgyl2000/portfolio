"use strict";(self.webpackChunkmon_web_dev_wiki=self.webpackChunkmon_web_dev_wiki||[]).push([[6893],{70099:function(e,n,s){s.r(n),s.d(n,{frontMatter:function(){return m},contentTitle:function(){return d},metadata:function(){return i},toc:function(){return l},default:function(){return c}});var t=s(83117),a=s(80102),o=(s(67294),s(3905)),r=(s(26396),s(58215),s(56222),["components"]),m={id:"Udemy-React-16+_Le_guide_complet-05-Projet_2-la_chat_box",title:"05 - Projet 2 : la Chat Box"},d=void 0,i={unversionedId:"Udemy/React-16+_Le_guide_complet/Udemy-React-16+_Le_guide_complet-05-Projet_2-la_chat_box",id:"Udemy/React-16+_Le_guide_complet/Udemy-React-16+_Le_guide_complet-05-Projet_2-la_chat_box",title:"05 - Projet 2 : la Chat Box",description:"Initialisation du Projet",source:"@site/docs/Udemy/1-React-16+_Le_guide_complet/5-Projet_2-la_chat_box.mdx",sourceDirName:"Udemy/1-React-16+_Le_guide_complet",slug:"/Udemy/React-16+_Le_guide_complet/Udemy-React-16+_Le_guide_complet-05-Projet_2-la_chat_box",permalink:"/Mon_Web_Dev_Wiki/docs/Udemy/React-16+_Le_guide_complet/Udemy-React-16+_Le_guide_complet-05-Projet_2-la_chat_box",editUrl:"https://github.com/gylgyl2000/Mon_Web_Dev_Wiki/edit/master/website/docs/Udemy/1-React-16+_Le_guide_complet/5-Projet_2-la_chat_box.mdx",tags:[],version:"current",sidebarPosition:5,frontMatter:{id:"Udemy-React-16+_Le_guide_complet-05-Projet_2-la_chat_box",title:"05 - Projet 2 : la Chat Box"},sidebar:"UdemySidebar",previous:{title:"04 - Rendu conditionnel et liste",permalink:"/Mon_Web_Dev_Wiki/docs/Udemy/React-16+_Le_guide_complet/Udemy-React-16+_Le_guide_complet-04-Rendu_conditionnel_et_liste"},next:{title:"06 - Projet 3 : la Bo\xeete \xe0 Recettes",permalink:"/Mon_Web_Dev_Wiki/docs/Udemy/React-16+_Le_guide_complet/Udemy-React-16+_Le_guide_complet-06-Projet_3-la_boite_a_recettes"}},l=[{value:"Initialisation du Projet",id:"initialisation-du-projet",children:[],level:2},{value:"Formulaire de Connexion",id:"formulaire-de-connexion",children:[],level:2},{value:"D\xe9couverte de React Router V4",id:"d\xe9couverte-de-react-router-v4",children:[],level:2},{value:"Changement de Page avec React Router V4",id:"changement-de-page-avec-react-router-v4",children:[],level:2},{value:"Cr\xe9ation des Components",id:"cr\xe9ation-des-components",children:[],level:2},{value:"Enregistrer les Messages dans le State",id:"enregistrer-les-messages-dans-le-state",children:[],level:2},{value:"Gestion de Nouveaux Events",id:"gestion-de-nouveaux-events",children:[],level:2},{value:"Afficher notre State",id:"afficher-notre-state",children:[],level:2},{value:"D\xe9couverte de Firebase",id:"d\xe9couverte-de-firebase",children:[],level:2},{value:"Connecter Firebase et React",id:"connecter-firebase-et-react",children:[],level:2},{value:"Synchroniser notre State et la Realtime Database",id:"synchroniser-notre-state-et-la-realtime-database",children:[],level:2},{value:"Les Ref dans React : createRef()",id:"les-ref-dans-react--createref",children:[],level:2},{value:"Supprimer des \xc9l\xe9ments du State",id:"supprimer-des-\xe9l\xe9ments-du-state",children:[],level:2},{value:"Rendu Conditionnel des Messages",id:"rendu-conditionnel-des-messages",children:[],level:2},{value:"G\xe9rer les Animations en React",id:"g\xe9rer-les-animations-en-react",children:[],level:2},{value:"R\xe9sum\xe9",id:"r\xe9sum\xe9",children:[],level:2}],p={toc:l};function c(e){var n=e.components,s=(0,a.Z)(e,r);return(0,o.mdx)("wrapper",(0,t.Z)({},p,s,{components:n,mdxType:"MDXLayout"}),(0,o.mdx)("h2",{id:"initialisation-du-projet"},"Initialisation du Projet"),(0,o.mdx)("video",{height:"auto",width:"100%",controls:!0},(0,o.mdx)("source",{src:"https://monwikidevweb.la-loutre.fr/data/udemy/video/Udemy-React-16+_Le_guide_complet-05-Projet_2-la_chat_box-01.mp4",type:"video/mp4"})),(0,o.mdx)("br",null),(0,o.mdx)("br",null),(0,o.mdx)("p",null,"Installer l'app"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-bash",metastring:'title="console"',title:'"console"'},"\u279c  base-chatbox-app npm install\n")),(0,o.mdx)("p",null,"firebase",(0,o.mdx)("br",null),"\nre-base",(0,o.mdx)("br",null),"\nreact-dom",(0,o.mdx)("br",null),"\nreact-transition-group"),(0,o.mdx)("hr",null),(0,o.mdx)("h2",{id:"formulaire-de-connexion"},"Formulaire de Connexion"),(0,o.mdx)("video",{height:"auto",width:"100%",controls:!0},(0,o.mdx)("source",{src:"https://monwikidevweb.la-loutre.fr/data/udemy/video/Udemy-React-16+_Le_guide_complet-05-Projet_2-la_chat_box-02.mp4",type:"video/mp4"})),(0,o.mdx)("br",null),(0,o.mdx)("br",null),(0,o.mdx)("p",null,(0,o.mdx)("a",{parentName:"p",href:"https://open-vsx.org/extension/dsznajder/es7-react-js-snippets"},"ES7 React/Redux/GraphQL/React-Native snippets \u2013 Open VSX Registry")),(0,o.mdx)("p",null,"Raccourci :"),(0,o.mdx)("ul",null,(0,o.mdx)("li",{parentName:"ul"},"rcc : React Components Class")),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-js",metastring:'title="components/Connexion.js"',title:'"components/Connexion.js"'},"import React, { Component } from 'react'\n\nclass Connexion extends Component {\n    render () {\n        return (\n            <div className='connexionBox'>\n                <form className='connexion'>\n                    <input\n                        placeholder='pseudo'\n                        type='text'\n                        required\n                    />\n                    <button type='submit'>GO</button>\n                </form>\n            </div>\n        )\n    }\n}\n\nexport default Connexion\n")),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-js",metastring:'title="App.js"',title:'"App.js"'},"import React, { Component } from 'react'\nimport './App.css'\n\nclass App extends Component {\n  render () {\n    return (\n      <div className='box' />\n    )\n  }\n}\n\nexport default App\n")),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-js",metastring:'title="index.js"',title:'"index.js"'},"import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport Connexion from './components/Connexion'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(<Connexion />, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.register()\n")),(0,o.mdx)("hr",null),(0,o.mdx)("h2",{id:"d\xe9couverte-de-react-router-v4"},"D\xe9couverte de React Router V4"),(0,o.mdx)("video",{height:"auto",width:"100%",controls:!0},(0,o.mdx)("source",{src:"https://monwikidevweb.la-loutre.fr/data/udemy/video/Udemy-React-16+_Le_guide_complet-05-Projet_2-la_chat_box-03.mp4",type:"video/mp4"})),(0,o.mdx)("br",null),(0,o.mdx)("br",null),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-js",metastring:'{8-9,11-19} title="index.js"',"{8-9,11-19}":!0,title:'"index.js"'},"import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport Connexion from './components/Connexion'\nimport * as serviceWorker from './serviceWorker'\n\nimport { BrowserRouter, Route, Switch } from 'react-router-dom'\nimport NotFound from './components/NotFound'\n\nconst Root = () => (\n    <BrowserRouter>\n        <Switch>\n            <Route exact path='/' component={Connexion} />\n            <Route path='/pseudo/:pseudo' component={App} />\n            <Route component={NotFound} />\n        </Switch>\n    </BrowserRouter>\n)\n\nReactDOM.render(<Root />, document.getElementById('root'))\n")),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-js",metastring:'title="components/NotFound.js"',title:'"components/NotFound.js"'},"import React from 'react'\n\nconst NotFound = () => (\n    <h2 className='notFound'>Y'a rien ici !</h2>\n)\n\nexport default NotFound\n")),(0,o.mdx)("hr",null),(0,o.mdx)("h2",{id:"changement-de-page-avec-react-router-v4"},"Changement de Page avec React Router V4"),(0,o.mdx)("video",{height:"auto",width:"100%",controls:!0},(0,o.mdx)("source",{src:"https://monwikidevweb.la-loutre.fr/data/udemy/video/Udemy-React-16+_Le_guide_complet-05-Projet_2-la_chat_box-04.mp4",type:"video/mp4"})),(0,o.mdx)("br",null),(0,o.mdx)("br",null),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-jsx",metastring:'{2,5-8,10-13,15-18,21-23,27,29-30} title="components/Connexion.js"',"{2,5-8,10-13,15-18,21-23,27,29-30}":!0,title:'"components/Connexion.js"'},"import React, { Component } from 'react'\nimport { Redirect } from 'react-router-dom'\n\nclass Connexion extends Component {\n    state = {\n        pseudo: '',\n        goToChat: false\n    }\n\n    handleChange = event => {\n        const pseudo = event.target.value\n        this.setState({ pseudo })\n    }\n\n    handleSubmit = event => {\n        event.preventDefault()\n        this.setState({ goToChat: true })\n    }\n\n    render () {\n        if (this.state.goToChat) {\n            return <Redirect push to={`/pseudo/${this.state.pseudo}`} />\n        }\n\n        return (\n            <div className='connexionBox'>\n                <form className='connexion' onSubmit={this.handleSubmit}>\n                    <input\n                        value={this.state.pseudo}\n                        onChange={this.handleChange}\n                        placeholder='pseudo'\n                        type='text'\n                        required\n                    />\n                    <button type='submit'>GO</button>\n                </form>\n            </div>\n        )\n    }\n}\n\nexport default Connexion\n")),(0,o.mdx)("ul",null,(0,o.mdx)("li",{parentName:"ul"},"Redirect from react-router-dom")),(0,o.mdx)("hr",null),(0,o.mdx)("h2",{id:"cr\xe9ation-des-components"},"Cr\xe9ation des Components"),(0,o.mdx)("video",{height:"auto",width:"100%",controls:!0},(0,o.mdx)("source",{src:"https://monwikidevweb.la-loutre.fr/data/udemy/video/Udemy-React-16+_Le_guide_complet-05-Projet_2-la_chat_box-05.mp4",type:"video/mp4"})),(0,o.mdx)("br",null),(0,o.mdx)("br",null),(0,o.mdx)("p",null,"raccourci : rafce"),(0,o.mdx)("p",null,(0,o.mdx)("a",{parentName:"p",href:"https://code.visualstudio.com/docs/editor/emmet"},"Emmet in Visual Studio Code")),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-bash",metastring:'title="~/.var/app/com.vscodium.codium/config/VSCodium/User/settings.json"',title:'"~/.var/app/com.vscodium.codium/config/VSCodium/User/settings.json"'},'"emmet.includeLanguages": {\n    "javascript": "javascriptreact",\n    "razor": "html",\n    "plaintext": "pug"\n}\n')),(0,o.mdx)("p",null,"raccourci : ",(0,o.mdx)("inlineCode",{parentName:"p"},"p.user-message")," => ",(0,o.mdx)("inlineCode",{parentName:"p"},'<p className="user-message"></p>')),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-jsx",metastring:'{4-5,12-16,18} title="App.js"',"{4-5,12-16,18}":!0,title:'"App.js"'},"import React, { Component } from 'react'\nimport './App.css'\n\nimport Formulaire from './components/Formulaire'\nimport Message from './components/Message'\n\nclass App extends Component {\n  render () {\n    return (\n      <div className='box'>\n        <div>\n          <div className=\"messages\">\n            <Message />\n            <Message />\n            <Message />\n          </div>\n        </div>\n        <Formulaire />\n      </div>\n    )\n  }\n}\n\nexport default App\n")),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-jsx",metastring:'title="components/Formulaire.js"',title:'"components/Formulaire.js"'},"import React, { Component } from 'react'\n\nexport default class Formulaire extends Component {\n    render() {\n        return (\n            <form\n                className='form'>\n                <textarea\n                    required\n                    maxLength='140' />\n                <div\n                    className='info' >\n                    140\n                </div>\n                <button\n                    type='submit' >\n                    Envoyer !\n                </button>\n            </form>\n        )\n    }\n}\n")),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-jsx",metastring:'title="components/Message.js"',title:'"components/Message.js"'},"import React from 'react'\n\nconst Message = () => {\n    return (\n        <p className=\"user-message\">\n            Mon message\n        </p>\n    )\n}\n\nexport default Message\n")),(0,o.mdx)("hr",null),(0,o.mdx)("h2",{id:"enregistrer-les-messages-dans-le-state"},"Enregistrer les Messages dans le State"),(0,o.mdx)("video",{height:"auto",width:"100%",controls:!0},(0,o.mdx)("source",{src:"https://monwikidevweb.la-loutre.fr/data/udemy/video/Udemy-React-16+_Le_guide_complet-05-Projet_2-la_chat_box-06.mp4",type:"video/mp4"})),(0,o.mdx)("br",null),(0,o.mdx)("br",null),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-jsx",metastring:'{3-6,8-12,25-26} title="App.js"',"{3-6,8-12,25-26}":!0,title:'"App.js"'},"class App extends Component {\n\n  state = {\n    messages: {},\n    pseudo: this.props.match.params.pseudo\n  }\n\n  addMessage = message => {\n    const messages = { ...this.state.messages }\n    messages[`message-${Date.now()}`] = message\n    this.setState({ messages })\n  }\n\n  render () {\n    return (\n      <div className='box'>\n        <div>\n          <div className=\"messages\">\n            <Message />\n            <Message />\n            <Message />\n          </div>\n        </div>\n        <Formulaire\n          pseudo={this.state.pseudo}\n          addMessage={this.addMessage} />\n      </div>\n    )\n  }\n}\n")),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-jsx",metastring:'{3-5,7-19,21-24,26-29,35,37-38} title="components/Formulaire.js"',"{3-5,7-19,21-24,26-29,35,37-38}":!0,title:'"components/Formulaire.js"'},"export default class Formulaire extends Component {\n\n    state = {\n        message: ''\n    }\n\n    createMessage = () => {\n        const { addMessage, pseudo } = this.props\n\n        const message = {\n            pseudo,\n            message: this.state.message\n        }\n\n        addMessage(message)\n\n        // reset\n        this.setState({ message: ''} )\n    }\n\n    handleSubmit = event => {\n        event.preventDefault()\n        this.createMessage()\n    }\n\n    handleChange = event => {\n        const message = event.target.value\n        this.setState({ message })\n    }\n\n    render() {\n        return (\n            <form\n                className='form'\n                onSubmit={this.handleSubmit}>\n                <textarea\n                    value={this.state.message}\n                    onChange={this.handleChange}\n                    required\n                    maxLength='140' />\n                <div\n                    className='info' >\n                    140\n                </div>\n                <button\n                    type='submit' >\n                    Envoyer !\n                </button>\n            </form>\n        )\n    }\n}\n")),(0,o.mdx)("hr",null),(0,o.mdx)("h2",{id:"gestion-de-nouveaux-events"},"Gestion de Nouveaux Events"),(0,o.mdx)("video",{height:"auto",width:"100%",controls:!0},(0,o.mdx)("source",{src:"https://monwikidevweb.la-loutre.fr/data/udemy/video/Udemy-React-16+_Le_guide_complet-05-Projet_2-la_chat_box-07.mp4",type:"video/mp4"})),(0,o.mdx)("br",null),(0,o.mdx)("br",null),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-jsx",metastring:'{25} title="App.js"',"{25}":!0,title:'"App.js"'},"class App extends Component {\n\n  state = {\n    messages: {},\n    pseudo: this.props.match.params.pseudo\n  }\n\n  addMessage = message => {\n    const messages = { ...this.state.messages }\n    messages[`message-${Date.now()}`] = message\n    this.setState({ messages })\n  }\n\n  render () {\n    return (\n      <div className='box'>\n        <div>\n          <div className=\"messages\">\n            <Message />\n            <Message />\n            <Message />\n          </div>\n        </div>\n        <Formulaire\n          length={140}\n          pseudo={this.state.pseudo}\n          addMessage={this.addMessage} />\n      </div>\n    )\n  }\n}\n")),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-jsx",metastring:'{5,9,19,29-30,33-37,47,49,52} title="components/Formulaire.js"',"{5,9,19,29-30,33-37,47,49,52}":!0,title:'"components/Formulaire.js"'},"export default class Formulaire extends Component {\n\n    state = {\n        message: '',\n        length: this.props.length\n    }\n\n    createMessage = () => {\n        const { addMessage, pseudo, length } = this.props\n\n        const message = {\n            pseudo,\n            message: this.state.message\n        }\n\n        addMessage(message)\n\n        // reset\n        this.setState({ message: '', length} )\n    }\n\n    handleSubmit = event => {\n        event.preventDefault()\n        this.createMessage()\n    }\n\n    handleChange = event => {\n        const message = event.target.value\n        const length = this.props.length - message.length\n        this.setState({ message, length })\n    }\n\n    handleKeyUp = event => {\n        if (event.key === 'Enter') {\n            this.createMessage()\n        }\n    }\n\n    render() {\n        return (\n            <form\n                className='form'\n                onSubmit={this.handleSubmit}>\n                <textarea\n                    value={this.state.message}\n                    onChange={this.handleChange}\n                    onKeyUp={this.handleKeyUp}\n                    required\n                    maxLength={this.props.length} />\n                <div\n                    className='info' >\n                    { this.state.length }\n                </div>\n                <button\n                    type='submit' >\n                    Envoyer !\n                </button>\n            </form>\n        )\n    }\n}\n")),(0,o.mdx)("hr",null),(0,o.mdx)("h2",{id:"afficher-notre-state"},"Afficher notre State"),(0,o.mdx)("video",{height:"auto",width:"100%",controls:!0},(0,o.mdx)("source",{src:"https://monwikidevweb.la-loutre.fr/data/udemy/video/Udemy-React-16+_Le_guide_complet-05-Projet_2-la_chat_box-08.mp4",type:"video/mp4"})),(0,o.mdx)("br",null),(0,o.mdx)("br",null),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-jsx",metastring:'{16-23,29-31} title="App.js"',"{16-23,29-31}":!0,title:'"App.js"'},"class App extends Component {\n\n  state = {\n    messages: {},\n    pseudo: this.props.match.params.pseudo\n  }\n\n  addMessage = message => {\n    const messages = { ...this.state.messages }\n    messages[`message-${Date.now()}`] = message\n    this.setState({ messages })\n  }\n\n  render () {\n\n    const messages = Object\n      .keys(this.state.messages)\n      .map(key => (\n        <Message\n          key={key}\n          message={this.state.messages[key].message}\n          pseudo={this.state.messages[key].pseudo} />\n      ))\n\n    return (\n      <div className='box'>\n        <div>\n          <div className=\"messages\">\n            <div className='message'>\n              { messages }\n            </div>\n          </div>\n        </div>\n        <Formulaire\n          length={140}\n          pseudo={this.state.pseudo}\n          addMessage={this.addMessage} />\n      </div>\n    )\n  }\n}\n")),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-jsx",metastring:'{1,4} title="components/Message.js"',"{1,4}":!0,title:'"components/Message.js"'},'const Message = ({ pseudo, message }) => {\n    return (\n        <p className="user-message">\n            {message}\n        </p>\n    )\n}\n')),(0,o.mdx)("hr",null),(0,o.mdx)("h2",{id:"d\xe9couverte-de-firebase"},"D\xe9couverte de Firebase"),(0,o.mdx)("video",{height:"auto",width:"100%",controls:!0},(0,o.mdx)("source",{src:"https://monwikidevweb.la-loutre.fr/data/udemy/video/Udemy-React-16+_Le_guide_complet-05-Projet_2-la_chat_box-09.mp4",type:"video/mp4"})),(0,o.mdx)("br",null),(0,o.mdx)("br",null),(0,o.mdx)("p",null,"Firebase : ",(0,o.mdx)("a",{parentName:"p",href:"https://firebase.google.com"},"https://firebase.google.com")),(0,o.mdx)("p",null,"-> Acc\xe9der \xe0 la console",(0,o.mdx)("br",null),"\n-> Ajouter un projet",(0,o.mdx)("br",null),'\n-> Nom du projet : "chatbox-app"',(0,o.mdx)("br",null),"\n-> Zone des donn\xe9es analytiques : France",(0,o.mdx)("br",null),"\n-> Zone Cloud Firestore : europe-west3",(0,o.mdx)("br",null),"\n-> Realtime Database : Cr\xe9er une base de donn\xe9es",(0,o.mdx)("br",null),"\n-> Choisir une Zone",(0,o.mdx)("br",null),'\n-> "D\xe9marrer en mode test"',(0,o.mdx)("br",null),'\n-> "Activer"',(0,o.mdx)("br",null)),(0,o.mdx)("hr",null),(0,o.mdx)("h2",{id:"connecter-firebase-et-react"},"Connecter Firebase et React"),(0,o.mdx)("video",{height:"auto",width:"100%",controls:!0},(0,o.mdx)("source",{src:"https://monwikidevweb.la-loutre.fr/data/udemy/video/Udemy-React-16+_Le_guide_complet-05-Projet_2-la_chat_box-10.mp4",type:"video/mp4"})),(0,o.mdx)("br",null),(0,o.mdx)("br",null),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-jsx",metastring:'title="base.js"',title:'"base.js"'},"import Rebase from 're-base'\nimport firebase from 'firebase/app'\nimport 'firebase/database'\n\nconst firebaseApp = firebase.initializeApp({\n    apiKey: \"AIzaSyCyiHN-WIR710Y8py6VVM4d02dD9zIOElM\",\n    authDomain: \"chatbox-app-94cfa.firebaseapp.com\",\n    databaseURL: \"https://chatbox-app-94cfa-default-rtdb.europe-west1.firebasedatabase.app\"\n})\n\nconst base = Rebase.createClass(firebase.database())\n\nexport { firebaseApp }\n\nexport default base\n")),(0,o.mdx)("hr",null),(0,o.mdx)("h2",{id:"synchroniser-notre-state-et-la-realtime-database"},"Synchroniser notre State et la Realtime Database"),(0,o.mdx)("video",{height:"auto",width:"100%",controls:!0},(0,o.mdx)("source",{src:"https://monwikidevweb.la-loutre.fr/data/udemy/video/Udemy-React-16+_Le_guide_complet-05-Projet_2-la_chat_box-11.mp4",type:"video/mp4"})),(0,o.mdx)("br",null),(0,o.mdx)("br",null),(0,o.mdx)("ul",null,(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("a",{parentName:"li",href:"https://www.npmjs.com/package/react-router-dom"},"react-router-dom - npm")),(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("a",{parentName:"li",href:"https://www.npmjs.com/package/re-base"},"re-base - npm"))),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-jsx",metastring:'{7-8,17-22} title="App.js"',"{7-8,17-22}":!0,title:'"App.js"'},"import React, { Component } from 'react';\nimport './App.css';\n\nimport Formulaire from './components/Formulaire';\nimport Message from './components/Message';\n\n// firebase\nimport base from './base';\n\nclass App extends Component {\n\n  state = {\n    messages: {},\n    pseudo: this.props.match.params.pseudo\n  }\n\n  componentDidMount () {\n    base.syncState('/', {\n      context: this,\n      state: 'messages'\n      })\n  }\n\n  addMessage = message => {\n    const messages = { ...this.state.messages }\n    messages[`message-${Date.now()}`] = message\n    this.setState({ messages })\n  }\n\n  render () {\n\n    const messages = Object\n      .keys(this.state.messages)\n      .map(key => (\n        <Message\n          key={key}\n          message={this.state.messages[key].message}\n          pseudo={this.state.messages[key].pseudo} />\n      ))\n\n    return (\n      <div className='box'>\n        <div>\n          <div className=\"messages\">\n            <div className='message'>\n              { messages }\n            </div>\n          </div>\n        </div>\n        <Formulaire\n          length={140}\n          pseudo={this.state.pseudo}\n          addMessage={this.addMessage} />\n      </div>\n    )\n  }\n}\n\nexport default App\n")),(0,o.mdx)("hr",null),(0,o.mdx)("h2",{id:"les-ref-dans-react--createref"},"Les Ref dans React : createRef()"),(0,o.mdx)("video",{height:"auto",width:"100%",controls:!0},(0,o.mdx)("source",{src:"https://monwikidevweb.la-loutre.fr/data/udemy/video/Udemy-React-16+_Le_guide_complet-05-Projet_2-la_chat_box-12.mp4",type:"video/mp4"})),(0,o.mdx)("br",null),(0,o.mdx)("br",null),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-jsx",metastring:'{1,17,26-29,51} title="App.js"',"{1,17,26-29,51}":!0,title:'"App.js"'},"import React, { Component, createRef } from 'react';\nimport './App.css';\n\nimport Formulaire from './components/Formulaire';\nimport Message from './components/Message';\n\n// firebase\nimport base from './base';\n\nclass App extends Component {\n\n  state = {\n    messages: {},\n    pseudo: this.props.match.params.pseudo\n  }\n\n  messagesRef = createRef()\n\n  componentDidMount () {\n    base.syncState('/', {\n      context: this,\n      state: 'messages'\n      })\n  }\n\n  componentDidUpdate () {\n    const ref = this.messagesRef.current\n    ref.scrollTop = ref.scrollHeight\n  }\n\n  addMessage = message => {\n    const messages = { ...this.state.messages }\n    messages[`message-${Date.now()}`] = message\n    this.setState({ messages })\n  }\n\n  render () {\n\n    const messages = Object\n      .keys(this.state.messages)\n      .map(key => (\n        <Message\n          key={key}\n          message={this.state.messages[key].message}\n          pseudo={this.state.messages[key].pseudo} />\n      ))\n\n    return (\n      <div className='box'>\n        <div>\n          <div className=\"messages\" ref={this.messagesRef}>\n            <div className='message'>\n              { messages }\n            </div>\n          </div>\n        </div>\n        <Formulaire\n          length={140}\n          pseudo={this.state.pseudo}\n          addMessage={this.addMessage} />\n      </div>\n    )\n  }\n}\n\nexport default App\n")),(0,o.mdx)("hr",null),(0,o.mdx)("h2",{id:"supprimer-des-\xe9l\xe9ments-du-state"},"Supprimer des \xc9l\xe9ments du State"),(0,o.mdx)("video",{height:"auto",width:"100%",controls:!0},(0,o.mdx)("source",{src:"https://monwikidevweb.la-loutre.fr/data/udemy/video/Udemy-React-16+_Le_guide_complet-05-Projet_2-la_chat_box-13.mp4",type:"video/mp4"})),(0,o.mdx)("br",null),(0,o.mdx)("br",null),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-jsx",metastring:'{25-30} title="App.js"',"{25-30}":!0,title:'"App.js"'},"class App extends Component {\n\n  state = {\n    messages: {},\n    pseudo: this.props.match.params.pseudo\n  }\n\n  messagesRef = createRef()\n\n  componentDidMount () {\n    base.syncState('/', {\n      context: this,\n      state: 'messages'\n      })\n  }\n\n  componentDidUpdate () {\n    const ref = this.messagesRef.current\n    ref.scrollTop = ref.scrollHeight\n  }\n\n  addMessage = message => {\n    const messages = { ...this.state.messages }\n    messages[`message-${Date.now()}`] = message\n    Object\n      .keys(messages)\n      .slice(0, -10)\n      .forEach(key => {\n        messages[key] = null\n      })\n\n    this.setState({ messages })\n  }\n\n  render () {\n\n    const messages = Object\n      .keys(this.state.messages)\n      .map(key => (\n        <Message\n          key={key}\n          message={this.state.messages[key].message}\n          pseudo={this.state.messages[key].pseudo} />\n      ))\n\n    return (\n      <div className='box'>\n        <div>\n          <div className=\"messages\" ref={this.messagesRef}>\n            <div className='message'>\n              { messages }\n            </div>\n          </div>\n        </div>\n        <Formulaire\n          length={140}\n          pseudo={this.state.pseudo}\n          addMessage={this.addMessage} />\n      </div>\n    )\n  }\n}\n")),(0,o.mdx)("hr",null),(0,o.mdx)("h2",{id:"rendu-conditionnel-des-messages"},"Rendu Conditionnel des Messages"),(0,o.mdx)("video",{height:"auto",width:"100%",controls:!0},(0,o.mdx)("source",{src:"https://monwikidevweb.la-loutre.fr/data/udemy/video/Udemy-React-16+_Le_guide_complet-05-Projet_2-la_chat_box-14.mp4",type:"video/mp4"})),(0,o.mdx)("br",null),(0,o.mdx)("br",null),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-jsx",metastring:'{35,44} title="App.js"',"{35,44}":!0,title:'"App.js"'},"class App extends Component {\n\n  state = {\n    messages: {},\n    pseudo: this.props.match.params.pseudo\n  }\n\n  messagesRef = createRef()\n\n  componentDidMount () {\n    base.syncState('/', {\n      context: this,\n      state: 'messages'\n      })\n  }\n\n  componentDidUpdate () {\n    const ref = this.messagesRef.current\n    ref.scrollTop = ref.scrollHeight\n  }\n\n  addMessage = message => {\n    const messages = { ...this.state.messages }\n    messages[`message-${Date.now()}`] = message\n    Object\n      .keys(messages)\n      .slice(0, -10)\n      .forEach(key => {\n        messages[key] = null\n      })\n\n    this.setState({ messages })\n  }\n\n  isUser = pseudo => pseudo === this.state.pseudo\n\n  render () {\n\n    const messages = Object\n      .keys(this.state.messages)\n      .map(key => (\n        <Message\n          key={key}\n          isUser={this.isUser}\n          message={this.state.messages[key].message}\n          pseudo={this.state.messages[key].pseudo} />\n      ))\n\n    return (\n      <div className='box'>\n        <div>\n          <div className=\"messages\" ref={this.messagesRef}>\n            <div className='message'>\n              { messages }\n            </div>\n          </div>\n        </div>\n        <Formulaire\n          length={140}\n          pseudo={this.state.pseudo}\n          addMessage={this.addMessage} />\n      </div>\n    )\n  }\n}\n")),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-jsx",metastring:'{1,2,8-14} title="components/Message.js"',"{1,2,8-14}":!0,title:'"components/Message.js"'},'const Message = ({ pseudo, message, isUser }) => {\n    if (isUser(pseudo)) {\n        return (\n            <p className="user-message">\n                {message}\n            </p>\n        )\n    } else {\n        return (\n            <p className="not-user-message">\n                <strong>{pseudo} : </strong>{message}\n            </p>\n        )\n    }\n}\n')),(0,o.mdx)("hr",null),(0,o.mdx)("h2",{id:"g\xe9rer-les-animations-en-react"},"G\xe9rer les Animations en React"),(0,o.mdx)("video",{height:"auto",width:"100%",controls:!0},(0,o.mdx)("source",{src:"https://monwikidevweb.la-loutre.fr/data/udemy/video/Udemy-React-16+_Le_guide_complet-05-Projet_2-la_chat_box-15.mp4",type:"video/mp4"})),(0,o.mdx)("br",null),(0,o.mdx)("br",null),(0,o.mdx)("p",null,"react-transition-group :"),(0,o.mdx)("ul",null,(0,o.mdx)("li",{parentName:"ul"},"CSSTransition"),(0,o.mdx)("li",{parentName:"ul"},"TransitionGroup")),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-jsx",metastring:'{11-12,55-58,63,70,72} title="App.js"',"{11-12,55-58,63,70,72}":!0,title:'"App.js"'},"import React, { Component, createRef } from 'react';\nimport './App.css';\nimport './animation.css'\n\nimport Formulaire from './components/Formulaire';\nimport Message from './components/Message';\n\n// firebase\nimport base from './base';\n\n// Animations\nimport { CSSTransition, TransitionGroup } from 'react-transition-group'\n\nclass App extends Component {\n\n  state = {\n    messages: {},\n    pseudo: this.props.match.params.pseudo\n  }\n\n  messagesRef = createRef()\n\n  componentDidMount () {\n    base.syncState('/', {\n      context: this,\n      state: 'messages'\n      })\n  }\n\n  componentDidUpdate () {\n    const ref = this.messagesRef.current\n    ref.scrollTop = ref.scrollHeight\n  }\n\n  addMessage = message => {\n    const messages = { ...this.state.messages }\n    messages[`message-${Date.now()}`] = message\n    Object\n      .keys(messages)\n      .slice(0, -10)\n      .forEach(key => {\n        messages[key] = null\n      })\n\n    this.setState({ messages })\n  }\n\n  isUser = pseudo => pseudo === this.state.pseudo\n\n  render () {\n\n    const messages = Object\n      .keys(this.state.messages)\n      .map(key => (\n        <CSSTransition\n          timeout={200}\n          classNames='fade'\n          key={key}>\n          <Message\n            isUser={this.isUser}\n            message={this.state.messages[key].message}\n            pseudo={this.state.messages[key].pseudo} />\n        </CSSTransition>\n      ))\n\n    return (\n      <div className='box'>\n        <div>\n          <div className=\"messages\" ref={this.messagesRef}>\n            <TransitionGroup className='message'>\n              { messages }\n            </TransitionGroup>\n          </div>\n        </div>\n        <Formulaire\n          length={140}\n          pseudo={this.state.pseudo}\n          addMessage={this.addMessage} />\n      </div>\n    )\n  }\n}\n\nexport default App\n")),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-css",metastring:'title="animation.css"',title:'"animation.css"'},".fade-enter {\n    opacity: 0.01;\n    transform: scale(0.9) translateY(-50%);\n}\n\n.fade-enter-active {\n    opacity: 1;\n    transform: scale(1) translateY(0%);\n    transition: all 200ms ease-out;\n}\n\n.fade-exit {\n    opacity: 1;\n    transform: scale(1) translateY(0%);\n}\n\n.fade-exit-active {\n    opacity: 0.01;\n    transform: scale(0.9) translateY(-50%);\n    transition: all 200ms ease-out;\n}\n")),(0,o.mdx)("hr",null),(0,o.mdx)("h2",{id:"r\xe9sum\xe9"},"R\xe9sum\xe9"),(0,o.mdx)("video",{height:"auto",width:"100%",controls:!0},(0,o.mdx)("source",{src:"https://monwikidevweb.la-loutre.fr/data/udemy/video/Udemy-React-16+_Le_guide_complet-05-Projet_2-la_chat_box-16.mp4",type:"video/mp4"})),(0,o.mdx)("br",null),(0,o.mdx)("br",null))}c.isMDXComponent=!0}}]);