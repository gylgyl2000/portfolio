"use strict";(self.webpackChunkmon_web_dev_wiki=self.webpackChunkmon_web_dev_wiki||[]).push([[5467],{1616:function(e,n,s){s.r(n),s.d(n,{frontMatter:function(){return l},contentTitle:function(){return d},metadata:function(){return u},toc:function(){return m},default:function(){return c}});var a=s(87462),t=s(63366),i=(s(67294),s(3905)),r=(s(9877),s(58215),s(56222)),o=["components"],l={sidebar_position:3},d="Prot\xe9gez votre code avec l\u2019OWASP",u={unversionedId:"OpenClassrooms/Construisez_une_API_securisee_pour_une_application_d_avis_gastronomiques/Securisez_vos_applications_web_avec_l_OWASP/Protegez_votre_code_avec_l_OWASP",id:"OpenClassrooms/Construisez_une_API_securisee_pour_une_application_d_avis_gastronomiques/Securisez_vos_applications_web_avec_l_OWASP/Protegez_votre_code_avec_l_OWASP",title:"Prot\xe9gez votre code avec l\u2019OWASP",description:"Prot\xe9gez votre code contre l\u2019injection",source:"@site/docs/OpenClassrooms/6-Construisez_une_API_securisee_pour_une_application_d_avis_gastronomiques/3-Securisez_vos_applications_web_avec_l_OWASP/2-Protegez_votre_code_avec_l_OWASP.mdx",sourceDirName:"OpenClassrooms/6-Construisez_une_API_securisee_pour_une_application_d_avis_gastronomiques/3-Securisez_vos_applications_web_avec_l_OWASP",slug:"/OpenClassrooms/Construisez_une_API_securisee_pour_une_application_d_avis_gastronomiques/Securisez_vos_applications_web_avec_l_OWASP/Protegez_votre_code_avec_l_OWASP",permalink:"/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Construisez_une_API_securisee_pour_une_application_d_avis_gastronomiques/Securisez_vos_applications_web_avec_l_OWASP/Protegez_votre_code_avec_l_OWASP",editUrl:"https://github.com/gylgyl2000/Mon_Web_Dev_Wiki/edit/master/website/docs/OpenClassrooms/6-Construisez_une_API_securisee_pour_une_application_d_avis_gastronomiques/3-Securisez_vos_applications_web_avec_l_OWASP/2-Protegez_votre_code_avec_l_OWASP.mdx",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"openClassroomsSidebar",previous:{title:"Identifiez les principales attaques web et les r\xe8gles de s\xe9curit\xe9 \xe0 adopter",permalink:"/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Construisez_une_API_securisee_pour_une_application_d_avis_gastronomiques/Securisez_vos_applications_web_avec_l_OWASP/Identifiez_les_principales_attaques_web_et_les_regles_de_securite_a_adopter"},next:{title:"Testez et appliquez l'OWASP",permalink:"/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Construisez_une_API_securisee_pour_une_application_d_avis_gastronomiques/Securisez_vos_applications_web_avec_l_OWASP/Testez_et_appliquez_l_OWASP"}},m=[{value:"Prot\xe9gez votre code contre l\u2019injection",id:"prot\xe9gez-votre-code-contre-linjection",children:[{value:"D\xe9couvrez l&#39;injection",id:"d\xe9couvrez-linjection",children:[],level:3},{value:"S\xe9curisez\xa0une application contre l\u2019injection SQL",id:"s\xe9curisezune-application-contre-linjection-sql",children:[{value:"Validez\xa0les entr\xe9es",id:"validezles-entr\xe9es",children:[],level:4},{value:"Param\xe9trez vos variables !",id:"param\xe9trez-vos-variables-",children:[],level:4},{value:"D\xe9couvrez la diff\xe9rence\xa0entre requ\xeates SQL stock\xe9es ou dynamiques",id:"d\xe9couvrez-la-diff\xe9renceentre-requ\xeates-sql-stock\xe9es-ou-dynamiques",children:[],level:4},{value:"Utilisez un Object Relational Mapper (ORM)",id:"utilisez-un-object-relational-mapper-orm",children:[],level:4},{value:"S\xe9curisez vos applications avec l\u2019API OWASP",id:"s\xe9curisez-vos-applications-avec-lapi-owasp",children:[],level:4}],level:3},{value:"En r\xe9sum\xe9",id:"en-r\xe9sum\xe9",children:[],level:3}],level:2},{value:"Emp\xeachez le piratage de session",id:"emp\xeachez-le-piratage-de-session",children:[{value:"D\xe9finissez le piratage de session",id:"d\xe9finissez-le-piratage-de-session",children:[],level:3},{value:"Appr\xe9hendez l&#39;utilisation de cookies",id:"appr\xe9hendez-lutilisation-de-cookies",children:[{value:"D\xe9couvrez les cookies de suivi",id:"d\xe9couvrez-les-cookies-de-suivi",children:[],level:5},{value:"D\xe9couvrez les cookies de session",id:"d\xe9couvrez-les-cookies-de-session",children:[],level:5},{value:"Prot\xe9gez vos cookies !",id:"prot\xe9gez-vos-cookies-",children:[],level:5}],level:3},{value:"Pr\xe9venez votre application des authentifications non autoris\xe9es",id:"pr\xe9venez-votre-application-des-authentifications-non-autoris\xe9es",children:[],level:3},{value:"Pr\xe9venez l&#39;authentification malveillante",id:"pr\xe9venez-lauthentification-malveillante",children:[],level:3},{value:"Connaissez votre niveau de protection",id:"connaissez-votre-niveau-de-protection",children:[],level:3},{value:"En r\xe9sum\xe9",id:"en-r\xe9sum\xe9-1",children:[],level:3}],level:2},{value:"Prot\xe9gez les donn\xe9es en transit",id:"prot\xe9gez-les-donn\xe9es-en-transit",children:[{value:"D\xe9couvrez comment les donn\xe9es transitent la couche de transport",id:"d\xe9couvrez-comment-les-donn\xe9es-transitent-la-couche-de-transport",children:[],level:3},{value:"Comprenez l\u2019attaque de l\u2019homme du milieu (MITM)",id:"comprenez-lattaque-de-lhomme-du-milieu-mitm",children:[],level:3},{value:"Utilisez HTTPS",id:"utilisez-https",children:[],level:3},{value:"Mettez en place le HTTPS",id:"mettez-en-place-le-https",children:[],level:3},{value:"S\xe9curisez les requ\xeates GET et POST",id:"s\xe9curisez-les-requ\xeates-get-et-post",children:[],level:3},{value:"Tirez parti de la s\xe9curit\xe9 par d\xe9faut de votre navigateur",id:"tirez-parti-de-la-s\xe9curit\xe9-par-d\xe9faut-de-votre-navigateur",children:[],level:3},{value:"Adoptez les bonnes pratiques",id:"adoptez-les-bonnes-pratiques",children:[],level:3},{value:"En r\xe9sum\xe9",id:"en-r\xe9sum\xe9-2",children:[],level:3}],level:2},{value:"Prot\xe9gez les donn\xe9es stock\xe9es sur une application",id:"prot\xe9gez-les-donn\xe9es-stock\xe9es-sur-une-application",children:[{value:"D\xe9couvrez les algorithmes de hachage",id:"d\xe9couvrez-les-algorithmes-de-hachage",children:[],level:3},{value:"S\xe9curisez une base de donn\xe9es",id:"s\xe9curisez-une-base-de-donn\xe9es",children:[{value:"G\xe9rez l&#39;authentification",id:"g\xe9rez-lauthentification",children:[],level:4},{value:"Cachez\xa0des donn\xe9es sensibles dans une base de donn\xe9es",id:"cachezdes-donn\xe9es-sensibles-dans-une-base-de-donn\xe9es",children:[],level:4}],level:3},{value:"En r\xe9sum\xe9",id:"en-r\xe9sum\xe9-3",children:[],level:3}],level:2},{value:"Emp\xeachez l&#39;exploitation des contr\xf4les d&#39;acc\xe8s",id:"emp\xeachez-lexploitation-des-contr\xf4les-dacc\xe8s",children:[{value:"Comprenez le principe du\xa0contr\xf4le d&#39;acc\xe8s",id:"comprenez-le-principe-ducontr\xf4le-dacc\xe8s",children:[],level:3},{value:"D\xe9couvrez les attaques contre le contr\xf4le d&#39;acc\xe8s",id:"d\xe9couvrez-les-attaques-contre-le-contr\xf4le-dacc\xe8s",children:[{value:"Appr\xe9hendez la\xa0restriction URL",id:"appr\xe9hendez-larestriction-url",children:[],level:4},{value:"Comprenez les r\xe9f\xe9rences directes d&#39;objets non s\xe9curis\xe9es (IDOR)",id:"comprenez-les-r\xe9f\xe9rences-directes-dobjets-non-s\xe9curis\xe9es-idor",children:[],level:4},{value:"D\xe9couvrez l&#39;attaque null byte (octet nul)",id:"d\xe9couvrez-lattaque-null-byte-octet-nul",children:[],level:4},{value:"S\xe9curisez les contr\xf4les d\u2019acc\xe8s",id:"s\xe9curisez-les-contr\xf4les-dacc\xe8s",children:[],level:4}],level:3},{value:"En r\xe9sum\xe9",id:"en-r\xe9sum\xe9-4",children:[],level:3}],level:2},{value:"Stoppez le cross-site scripting (XSS)",id:"stoppez-le-cross-site-scripting-xss",children:[{value:"D\xe9finissez le cross-site scripting ?",id:"d\xe9finissez-le-cross-site-scripting-",children:[{value:"D\xe9couvrez les attaques utilisant XSS",id:"d\xe9couvrez-les-attaques-utilisant-xss",children:[],level:4},{value:"Respectez les bonnes pratiques",id:"respectez-les-bonnes-pratiques",children:[],level:4}],level:3},{value:"D\xe9couvrez les vuln\xe9rabilit\xe9s CSRF (Cross-Site Request Forgery) ?",id:"d\xe9couvrez-les-vuln\xe9rabilit\xe9s-csrf-cross-site-request-forgery-",children:[{value:"Prot\xe9gez\xa0votre application contre une faille CSRF ?",id:"prot\xe9gezvotre-application-contre-une-faille-csrf-",children:[],level:4}],level:3},{value:"En r\xe9sum\xe9",id:"en-r\xe9sum\xe9-5",children:[],level:3}],level:2},{value:"Prot\xe9gez votre code contre les failles XXE et la d\xe9s\xe9rialisation non s\xe9curis\xe9e",id:"prot\xe9gez-votre-code-contre-les-failles-xxe-et-la-d\xe9s\xe9rialisation-non-s\xe9curis\xe9e",children:[{value:"D\xe9couvrez les XML External Entities (XXE)",id:"d\xe9couvrez-les-xml-external-entities-xxe",children:[],level:3},{value:"D\xe9couvrez le fonctionnement d&#39;une attaque XXE",id:"d\xe9couvrez-le-fonctionnement-dune-attaque-xxe",children:[],level:3},{value:"Prot\xe9gez votre code contre les injections XXE",id:"prot\xe9gez-votre-code-contre-les-injections-xxe",children:[],level:3},{value:"D\xe9couvrez la d\xe9s\xe9rialisation non s\xe9curis\xe9e",id:"d\xe9couvrez-la-d\xe9s\xe9rialisation-non-s\xe9curis\xe9e",children:[{value:"Pr\xe9venez la d\xe9s\xe9rialisation non s\xe9curis\xe9e",id:"pr\xe9venez-la-d\xe9s\xe9rialisation-non-s\xe9curis\xe9e",children:[],level:4}],level:3},{value:"En r\xe9sum\xe9",id:"en-r\xe9sum\xe9-6",children:[],level:3}],level:2},{value:"S\xe9curisez votre environnement de d\xe9veloppement",id:"s\xe9curisez-votre-environnement-de-d\xe9veloppement",children:[{value:"Faites face aux vuln\xe9rabilit\xe9s connues",id:"faites-face-aux-vuln\xe9rabilit\xe9s-connues",children:[],level:3},{value:"Identifiez votre environnement pour \xe9viter les failles de s\xe9curit\xe9",id:"identifiez-votre-environnement-pour-\xe9viter-les-failles-de-s\xe9curit\xe9",children:[],level:3},{value:"S\xe9curisez votre environnement",id:"s\xe9curisez-votre-environnement",children:[],level:3},{value:"En r\xe9sum\xe9",id:"en-r\xe9sum\xe9-7",children:[],level:3}],level:2},{value:"Quiz : Prot\xe9gez votre code avec l&#39;OWASP",id:"quiz--prot\xe9gez-votre-code-avec-lowasp",children:[{value:"Comp\xe9tences \xe9valu\xe9es",id:"comp\xe9tences-\xe9valu\xe9es",children:[],level:4},{value:"Question 1 : Choisissez les meilleurs moyens pour s\xe9curiser une application web contre une attaque par injection en utilisant <code>$username = &#39;1&#39; ou &#39;1&#39; = &#39;1&#39;</code>.",id:"question-1--choisissez-les-meilleurs-moyens-pour-s\xe9curiser-une-application-web-contre-une-attaque-par-injection-en-utilisant-username--1-ou-1--1",children:[],level:4},{value:"Question 2 : Que peut potentiellement faire l&#39;attaque d&#39;injection SQL suivante ?",id:"question-2--que-peut-potentiellement-faire-lattaque-dinjection-sql-suivante-",children:[],level:4},{value:"Question 3 : Quelle est la meilleure mani\xe8re de s\xe9curiser un identifiant et un mot de passe lors de leur transport vers une base de donn\xe9es ?",id:"question-3--quelle-est-la-meilleure-mani\xe8re-de-s\xe9curiser-un-identifiant-et-un-mot-de-passe-lors-de-leur-transport-vers-une-base-de-donn\xe9es-",children:[],level:4},{value:"Question 4 : Quelles sont les meilleures pratiques pour traiter les demandes GET et POST ?",id:"question-4--quelles-sont-les-meilleures-pratiques-pour-traiter-les-demandes-get-et-post-",children:[],level:4},{value:"Question 5 : Quelles m\xe9thodes peuvent \xeatre utilis\xe9es pour l&#39;anonymisation par masquage des donn\xe9es ?",id:"question-5--quelles-m\xe9thodes-peuvent-\xeatre-utilis\xe9es-pour-lanonymisation-par-masquage-des-donn\xe9es-",children:[],level:4},{value:"Question 6 : Quels sont les deux algorithmes de hachage les plus puissants aujourd\u2019hui ?",id:"question-6--quels-sont-les-deux-algorithmes-de-hachage-les-plus-puissants-aujourdhui-",children:[],level:4},{value:"Question 7 : Quel est un bon moyen d&#39;emp\xeacher un attaquant d&#39;apprendre le nom d\u2019objets d\u2019une base de donn\xe9es et de les utiliser dans une URL ?",id:"question-7--quel-est-un-bon-moyen-demp\xeacher-un-attaquant-dapprendre-le-nom-dobjets-dune-base-de-donn\xe9es-et-de-les-utiliser-dans-une-url-",children:[],level:4},{value:"Question 8 : Que fait HttpOnly pour les cookies ?",id:"question-8--que-fait-httponly-pour-les-cookies-",children:[],level:4},{value:"Question 9 : Parmi les propositions suivantes, quels sont les exemples d&#39;entit\xe9s externes XML ?",id:"question-9--parmi-les-propositions-suivantes-quels-sont-les-exemples-dentit\xe9s-externes-xml-",children:[],level:4},{value:"Question 10 : Qu\u2019est-ce que la d\xe9s\xe9rialisation non s\xe9curis\xe9e ?",id:"question-10--quest-ce-que-la-d\xe9s\xe9rialisation-non-s\xe9curis\xe9e-",children:[],level:4},{value:"Question 11 : En plus des r\xe8gles de l\u2019OWASP, quelles autres couches de s\xe9curit\xe9 peuvent aider \xe0 prot\xe9ger votre application web ?",id:"question-11--en-plus-des-r\xe8gles-de-lowasp-quelles-autres-couches-de-s\xe9curit\xe9-peuvent-aider-\xe0-prot\xe9ger-votre-application-web-",children:[],level:4},{value:"Question 12 : Lorsque vous encodez votre entr\xe9e pour la convertir en entit\xe9s de texte et de caract\xe8res, il s\u2019agit de :",id:"question-12--lorsque-vous-encodez-votre-entr\xe9e-pour-la-convertir-en-entit\xe9s-de-texte-et-de-caract\xe8res-il-sagit-de-",children:[],level:4}],level:2}],p={toc:m};function c(e){var n=e.components,s=(0,t.Z)(e,o);return(0,i.mdx)("wrapper",(0,a.Z)({},p,s,{components:n,mdxType:"MDXLayout"}),(0,i.mdx)("h1",{id:"prot\xe9gez-votre-code-avec-lowasp"},"Prot\xe9gez votre code avec l\u2019OWASP"),(0,i.mdx)("h2",{id:"prot\xe9gez-votre-code-contre-linjection"},"Prot\xe9gez votre code contre l\u2019injection"),(0,i.mdx)("p",null,(0,i.mdx)("a",{parentName:"p",href:"https://openclassrooms.com/fr/courses/6179306-securisez-vos-applications-web-avec-lowasp/6520701-protegez-votre-code-contre-l-injection"},"Prot\xe9gez votre code contre l\u2019injection - S\xe9curisez vos applications web avec l'OWASP - OpenClassrooms")),(0,i.mdx)(r.fG,{vimeoId:"376328700",mdxType:"Vimeo"}),(0,i.mdx)("br",null),(0,i.mdx)("p",null,"Dans ce chapitre, nous allons voir la premi\xe8re vuln\xe9rabilit\xe9 mais\xa0\xe9galement la plus fr\xe9quente, l\u2019injection. Nous verrons quels sont les types\nd\u2019injection et comment s\u2019en pr\xe9munir."),(0,i.mdx)("h3",{id:"d\xe9couvrez-linjection"},"D\xe9couvrez l'injection"),(0,i.mdx)("p",null,"Cette vuln\xe9rabilit\xe9 permet \xe0 un attaquant d\u2019",(0,i.mdx)("strong",{parentName:"p"},"injecter des donn\xe9es non ma\xeetris\xe9es")," qui seront ex\xe9cut\xe9es par l\u2019application et qui permettent\nd\u2019effectuer des actions qui ne sont normalement pas autoris\xe9es."),(0,i.mdx)("p",null,"Ces injections peuvent par exemple \xeatre des ",(0,i.mdx)("strong",{parentName:"p"},"requ\xeates SQL")," pour manipuler la base de donn\xe9es, du code JavaScript ou HTML."),(0,i.mdx)("div",{className:"admonition admonition-note alert alert--secondary"},(0,i.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,i.mdx)("h5",{parentName:"div"},(0,i.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,i.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"?")),(0,i.mdx)("div",{parentName:"div",className:"admonition-content"},(0,i.mdx)("p",{parentName:"div"},"\xc0 quel endroit un attaquant effectue une injection ?"))),(0,i.mdx)("p",null,"Dans une application web, il existe des champs ou des formulaires. Ce sont des composants des applications permettant la saisie de l\u2019utilisateur.\nCes champs sont g\xe9n\xe9ralement la cible d\u2019injections. Ils se pr\xe9sentent sous la forme d'un formulaire HTML ou d'un champ texte. Ce que vous avez\ntap\xe9 est ensuite trait\xe9. Si vous tapez un nom d'utilisateur et un mot de passe, ils seront alors envoy\xe9s \xe0 la base de donn\xe9es pour pouvoir vous\nauthentifier."),(0,i.mdx)("div",{className:"admonition admonition-info alert alert--info"},(0,i.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,i.mdx)("h5",{parentName:"div"},(0,i.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,i.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,i.mdx)("div",{parentName:"div",className:"admonition-content"},(0,i.mdx)("p",{parentName:"div"},"Le type d'attaque par injection le plus ",(0,i.mdx)("strong",{parentName:"p"},"connu")," est l'",(0,i.mdx)("strong",{parentName:"p"},"injection SQL"),"."))),(0,i.mdx)("p",null,"Dans le cas d\u2019une attaque par ",(0,i.mdx)("strong",{parentName:"p"},"injection SQL"),", au lieu de mettre un nom d'utilisateur et un mot de passe sur une page de connexion, un\nutilisateur malveillant entrera des donn\xe9es directement interpr\xe9t\xe9es par le moteur SQL, ce qui lui permettra de ",(0,i.mdx)("strong",{parentName:"p"},"modifier")," le comportement de\nvotre application."),(0,i.mdx)("p",null,"Prenons un exemple de requ\xeate SQL :"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-sql"},"SELECT * FROM accounts WHERE username='$username' AND password='$password'\n")),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"SELECT"),"\xa0est un mot cl\xe9 permettant de ",(0,i.mdx)("strong",{parentName:"li"},"s\xe9lectionner")," un \xe9l\xe9ment de la base de donn\xe9es."),(0,i.mdx)("li",{parentName:"ul"},"Le caract\xe8re ",(0,i.mdx)("inlineCode",{parentName:"li"},"*"),"\xa0indique que tous les \xe9l\xe9ments doivent \xeatre s\xe9lectionn\xe9s."),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"FROM"),"\xa0permet d\u2019indiquer la ",(0,i.mdx)("strong",{parentName:"li"},"table")," \xe0 utiliser. Dans notre cas, le nom de la table est \u2018accounts\u2019."),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"WHERE"),"\xa0sp\xe9cifie ce que vous voulez s\xe9lectionner."),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"username='$username' AND password='$password'"),"\xa0sont les param\xe8tres sp\xe9cifiques recherch\xe9s par cette requ\xeate.")),(0,i.mdx)("p",null,"Cette requ\xeate peut \xeatre formalis\xe9e par : \u201cDans la liste des comptes, s\xe9lectionne le nom d'utilisateur et le mot de passe qui sont associ\xe9s au\ndonn\xe9es sp\xe9cifi\xe9es.\u201d"),(0,i.mdx)("p",null,"Par exemple, disons que quelqu'un a cr\xe9\xe9 un compte avec le nom d'utilisateur : \u2018",(0,i.mdx)("em",{parentName:"p"},"John\u2019,")," et le mot de passe : ",(0,i.mdx)("em",{parentName:"p"},(0,i.mdx)("inlineCode",{parentName:"em"},"\u2018ThisIsMySUperS3cr3tPass\u2019")),".\nLa requ\xeate SQL sera la suivante :"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-sql"},"SELECT * FROM accounts WHERE username='John' AND password='ThisIsMySUperS3cr3tPass'\n")),(0,i.mdx)("p",null,"Si l\u2019utilisateur John et son mot de passe sont pr\xe9sents dans la base de donn\xe9es, l\u2019utilisateur sera authentifi\xe9."),(0,i.mdx)("p",null,"Cette requ\xeate classique peut \xeatre contourn\xe9e par le biais d\u2019une injection SQL. L\u2019exemple suivant nous montre un cas d\u2019exploitation classique."),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-sql"},"$username = 1' or '1' = '1\u2019\n$password = 1\u2019 or \u20181\u2019= \u20191\u2019\n")),(0,i.mdx)("p",null,"C'est ce qu'on appelle une ",(0,i.mdx)("strong",{parentName:"p"},"instruction conditionnelle")," ! Elle n\xe9cessite que les requ\xeates respectent des conditions pour s\u2019ex\xe9cuter."),(0,i.mdx)("p",null,"Dans ce champ, ",(0,i.mdx)("inlineCode",{parentName:"p"},"\u201c$username = 1\u201d et \u201c$password = 1\u201d"),"\xa0sont compar\xe9s \xe0 l'instruction ",(0,i.mdx)("inlineCode",{parentName:"p"},"'1=1'"),". Ici, peu importent le username et le password entr\xe9s :\nl\u2019instruction sera toujours valide."),(0,i.mdx)("p",null,"Si nous reprenons notre requ\xeate pr\xe9c\xe9dente, elle sera interpr\xe9t\xe9e de la mani\xe8re suivante :"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-sql"},"SELECT * FROM accounts WHERE username=1' or \u20181\u2019=\u20191' AND password=1' or \u20181\u2019=\u20191''\n")),(0,i.mdx)("p",null,"Un utilisateur malveillant sera ainsi en mesure de s\u2019authentifier avec n\u2019importe quel compte de la base de donn\xe9es, en l'occurrence, ici, le\npremier compte de la table Account sera utilis\xe9."),(0,i.mdx)("h3",{id:"s\xe9curisezune-application-contre-linjection-sql"},"S\xe9curisez\xa0une application contre l\u2019injection SQL"),(0,i.mdx)("p",null,"Pour garantir une protection contre l\u2019injection SQL, il est possible d\u2019utiliser un ",(0,i.mdx)("strong",{parentName:"p"},"pare-feu")," d'application web ou WAF, pour ",(0,i.mdx)("em",{parentName:"p"},"Web Application\nFirewall")," en anglais. Ce pare-feu se place entre l'utilisateur et l\u2019application web et permet de v\xe9rifier et d'intercepter les donn\xe9es envoy\xe9es.\nToutefois il est \xe9galement possible de s\xe9curiser l\u2019application directement dans le code."),(0,i.mdx)("h4",{id:"validezles-entr\xe9es"},"Validez\xa0les entr\xe9es"),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"La validation des entr\xe9es")," est une excellente pratique en tant que d\xe9veloppeur web.\xa0Elle limite ce que l'utilisateur peut mettre dans la\nzone de texte. Avez-vous d\xe9j\xe0 \xe9t\xe9 frustr\xe9 lors de la cr\xe9ation d'un compte parce qu'il n'\xe9tait pas possible de cr\xe9er un mot de passe sans\nchiffres ou lettres majuscules ?"),(0,i.mdx)("p",null,"C'est parce que la validation des entr\xe9es a \xe9t\xe9 impl\xe9ment\xe9e : l'entr\xe9e est analys\xe9e apr\xe8s avoir appuy\xe9 sur Entr\xe9e. Cela n'emp\xeachera pas\nl'injection, mais c'est une mesure que vous pouvez mettre en place pour limiter des attaques de base. En effet, les caract\xe8res sp\xe9ciaux\nsp\xe9cifiques \xe0 certains langages ne pourront pas \xeatre utilis\xe9s."),(0,i.mdx)("div",{className:"admonition admonition-note alert alert--secondary"},(0,i.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,i.mdx)("h5",{parentName:"div"},(0,i.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,i.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"?")),(0,i.mdx)("div",{parentName:"div",className:"admonition-content"},(0,i.mdx)("p",{parentName:"div"},"Quels types de caract\xe8res peut-on limiter lors de la saisie utilisateur ?"))),(0,i.mdx)("p",null,"Si vous avez dit le ",(0,i.mdx)("strong",{parentName:"p"},"signe \xe9gal")," et ",(0,i.mdx)("strong",{parentName:"p"},"l'apostrophe,")," vous \xeates sur la bonne voie ! En effet, ces caract\xe8res sont interpr\xe9t\xe9s par le moteur\nde base de donn\xe9es, ce qui veut dire que si un attaquant peut les rentrer dans un champ, ils pourront potentiellement alt\xe9rer le fonctionnement ;\nc\u2019est le principe d\u2019une injection SQL. ",(0,i.mdx)("img",{parentName:"p",src:"https://openclassrooms.com/bundles/common/images/smiley/clin.png",alt:";)"})),(0,i.mdx)("h4",{id:"param\xe9trez-vos-variables-"},"Param\xe9trez vos variables !"),(0,i.mdx)("p",null,"Vous pouvez \xe9crire vos requ\xeates SQL en ",(0,i.mdx)("strong",{parentName:"p"},"param\xe9trant")," les variables. C'est ce qu'on appelle une ",(0,i.mdx)("strong",{parentName:"p"},"requ\xeate pr\xe9par\xe9e"),". Examinons l'exemple\npr\xe9c\xe9dent."),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-sql"},"SELECT * FROM accounts WHERE username='$username' AND password='$password'\n")),(0,i.mdx)("p",null,"Pour l'instant, la requ\xeate connecte la variable $username directement \xe0 la base de donn\xe9es, la rendant vuln\xe9rable \xe0 l'injection. Avec une\nrequ\xeate pr\xe9par\xe9e, le code ressemblerait \xe0 ceci :"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-sql"},"SELECT * FROM accounts WHERE username='@username' AND password='@password'\n")),(0,i.mdx)("p",null,"Les variables Nom d'utilisateur et Mot de passe sont param\xe9tr\xe9es, elles seront donc\xa0d\xe9sormais pass\xe9es dans une m\xe9thode pour ex\xe9cuter la requ\xeate\nau lieu de se connecter directement \xe0 la base de donn\xe9es."),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-sql"},"$username = setUser(username)\n$password = setPassword(password)\n")),(0,i.mdx)("p",null,"Il existe de nombreuses fa\xe7ons de s\xe9curiser les requ\xeates SQL, mais comme la requ\xeate ne se connecte pas directement \xe0 la base de donn\xe9es, il\ns'agit de l'une des meilleures pratiques pour s\xe9curiser vos donn\xe9es contre l'injection SQL."),(0,i.mdx)("p",null,"Les langages Java, .NET, ColdFusion, PHP et Ruby ont \xe9galement des fonctions int\xe9gr\xe9es pour param\xe9trer vos variables."),(0,i.mdx)("h4",{id:"d\xe9couvrez-la-diff\xe9renceentre-requ\xeates-sql-stock\xe9es-ou-dynamiques"},"D\xe9couvrez la diff\xe9rence\xa0entre requ\xeates SQL stock\xe9es ou dynamiques"),(0,i.mdx)("p",null,"Lorsque vous codez un champ d\u2019entr\xe9e utilisateur sur votre application web, vous devez \xe9crire une ",(0,i.mdx)("strong",{parentName:"p"},"proc\xe9dure SQL")," pour que la base de donn\xe9es\nsache quelles donn\xe9es extraire. Il y a deux fa\xe7ons de le faire :\xa0\xa0",(0,i.mdx)("strong",{parentName:"p"},"stock\xe9 et dynamique"),". Une proc\xe9dure stock\xe9e est un ensemble d'instructions\nSQL pr\xe9compil\xe9es, stock\xe9es dans une base de donn\xe9es et ex\xe9cut\xe9es sur demande par le syst\xe8me de gestion de base de donn\xe9es qui manipule la base\nde donn\xe9es. Une proc\xe9dure dynamique est une technique de programmation qui vous permet de ",(0,i.mdx)("strong",{parentName:"p"},"construire")," des instructions SQL de mani\xe8re\ndynamique lors de l'ex\xe9cution. Les requ\xeates ne seront pas stock\xe9es mais dynamiquement cr\xe9\xe9es."),(0,i.mdx)("p",null,"Pour s\xe9curiser les requ\xeates SQL dynamiques, vous pouvez utiliser la fonction ",(0,i.mdx)("inlineCode",{parentName:"p"},"sp_executesql"),"\xa0dans votre proc\xe9dure SQL dynamique."),(0,i.mdx)("p",null,"Voyons un exemple d\u2019impl\xe9mentation avec les variables param\xe9tr\xe9es ci-dessous :"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-sql"},"CREATE PROCEDURE sp_owaspLogin\n@bind_username varchar(10)\n@bind_password varchar(10)\nAS\nBEGIN\nDECLARE @myquery varchar(100)\nSET @myquery = N\u2019SELECT login FROM accounts WHERE username = @username AND password = @password\u2019\nDECLARE @bind_user nvarchar(10) = N\u2019@username\u2019;\nDECLARE @bind_pass nvarchar(10) = N\u2019@password\u2019;\nEXEC sp_executesql @myquery, @bind_user, @username = @bind_username;\n")),(0,i.mdx)("p",null,"La requ\xeate SQL dynamique ci-dessus lie la variable ainsi que la fonction ",(0,i.mdx)("inlineCode",{parentName:"p"},"sp_executesql"),"\xa0pour s\xe9curiser le script."),(0,i.mdx)("h4",{id:"utilisez-un-object-relational-mapper-orm"},"Utilisez un Object Relational Mapper (ORM)"),(0,i.mdx)("p",null,"De nombreux langages disposent d'outils ",(0,i.mdx)("strong",{parentName:"p"},"ORM (Object Relational Mapper)")," qui peuvent ",(0,i.mdx)("strong",{parentName:"p"},"obfusquer")," votre requ\xeate, c\u2019est-\xe0-dire masquer son\nfonctionnement. Les modules ORM tels que ",(0,i.mdx)("em",{parentName:"p"},(0,i.mdx)("inlineCode",{parentName:"em"},"pg"))," et ",(0,i.mdx)("em",{parentName:"p"},(0,i.mdx)("inlineCode",{parentName:"em"},"knex"))," peuvent \xeatre utilis\xe9s avec des frameworks JavaScript."),(0,i.mdx)("p",null,"Regardons la requ\xeate SQL suivante :"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-sql"},"SELECT * FROM accounts WHERE username='@username' AND password='@password'\n")),(0,i.mdx)("p",null,"Tout d'abord, notez que ",(0,i.mdx)("inlineCode",{parentName:"p"},"@username et @password"),"\xa0sont param\xe9tr\xe9s !"),(0,i.mdx)("p",null,"Voici un exemple de la fa\xe7on dont une requ\xeate correcte sera ex\xe9cut\xe9e dans votre application web \xe0 l'aide de ",(0,i.mdx)("em",{parentName:"p"},"knex")," Node.js."),(0,i.mdx)("p",null,"Dans le code ci-dessous, ",(0,i.mdx)("em",{parentName:"p"},"knex")," ",(0,i.mdx)("strong",{parentName:"p"},"obfusque la requ\xeate"),". Cela signifie qu'il masque ce \xe0 quoi ressemble vraiment la requ\xeate SQL, ce qui permet\nd\u2019ajouter une couche de s\xe9curit\xe9 suppl\xe9mentaire."),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-sql"},"knex('accounts').where('username',john ).orWhere({password: ThisIsMySUperS3c3tPass , user: 'knex'})\n")),(0,i.mdx)("h4",{id:"s\xe9curisez-vos-applications-avec-lapi-owasp"},"S\xe9curisez vos applications avec l\u2019API OWASP"),(0,i.mdx)("p",null,"L'organisation OWASP dispose d'une API appel\xe9e ",(0,i.mdx)("em",{parentName:"p"},"the OWASP Enterprise Security API")," (ESAPI). Elle peut \xeatre utilis\xe9e pour s\xe9curiser vos\napplications web."),(0,i.mdx)("div",{className:"admonition admonition-info alert alert--info"},(0,i.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,i.mdx)("h5",{parentName:"div"},(0,i.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,i.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,i.mdx)("div",{parentName:"div",className:"admonition-content"},(0,i.mdx)("p",{parentName:"div"},"Pour en savoir plus sur l'ESAPI, visitez la\xa0",(0,i.mdx)("a",{parentName:"p",href:"https://www.owasp.org/index.php/Category:OWASP_Enterprise_Security_API"},"page web officielle"),"."))),(0,i.mdx)("h3",{id:"en-r\xe9sum\xe9"},"En r\xe9sum\xe9"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},"Les injections peuvent inclure (mais sans s'y limiter) des commandes SQL, JavaScript, HTML ou OS."),(0,i.mdx)("li",{parentName:"ul"},"Elles permettent de manipuler les entr\xe9es pour effectuer des actions et acc\xe9der \xe0 des donn\xe9es normalement non autoris\xe9es."),(0,i.mdx)("li",{parentName:"ul"},"Vous pouvez pr\xe9venir les attaques par injection en s\xe9curisant votre code avec la validation des entr\xe9es, les variables param\xe9tr\xe9es, les ORM\net les proc\xe9dures SQL stock\xe9es."),(0,i.mdx)("li",{parentName:"ul"},"Les proc\xe9dures SQL dynamiques peuvent \xeatre dangereuses, donc assurez-vous d'utiliser la fonction executesql() dans la base de donn\xe9es pour\nles s\xe9curiser.")),(0,i.mdx)("p",null,(0,i.mdx)("em",{parentName:"p"},"Nous venons de voir comment se pr\xe9munir contre les injections ; dans le prochain chapitre, nous verrons comment s\xe9curiser les m\xe9canismes\nd\u2019authentification dans votre application web.")),(0,i.mdx)("hr",null),(0,i.mdx)("h2",{id:"emp\xeachez-le-piratage-de-session"},"Emp\xeachez le piratage de session"),(0,i.mdx)("p",null,(0,i.mdx)("a",{parentName:"p",href:"https://openclassrooms.com/fr/courses/6179306-securisez-vos-applications-web-avec-lowasp/6520013-empechez-le-piratage-de-session"},"Emp\xeachez le piratage de session - S\xe9curisez vos applications web avec l'OWASP - OpenClassrooms")),(0,i.mdx)(r.fG,{vimeoId:"376328747",mdxType:"Vimeo"}),(0,i.mdx)("br",null),(0,i.mdx)("p",null,"L\u2019",(0,i.mdx)("strong",{parentName:"p"},"authentification")," est une fonctionnalit\xe9 cruciale dans votre application web pour permettre \xe0 vos utilisateurs d\u2019acc\xe9der \xe0 leur donn\xe9es et\n\xe0 leur environnement. Dans ce chapitre, nous allons voir comment s\xe9curiser l\u2019authentification."),(0,i.mdx)("h3",{id:"d\xe9finissez-le-piratage-de-session"},"D\xe9finissez le piratage de session"),(0,i.mdx)("p",null,"Le ",(0,i.mdx)("strong",{parentName:"p"},"piratage de session")," (ou Broken Authentication) est l\u2019attaque qui occupe la ",(0,i.mdx)("strong",{parentName:"p"},"deuxi\xe8me place du classement de l\u2019OWASP")," depuis 2013.\nConsid\xe9rant qu'elle occupait la troisi\xe8me place en 2010, l'OWASP d\xe9montre que l\u2019exploitation de l\u2019authentification est une faille courante."),(0,i.mdx)("p",null,"Alors qu'est-ce que c'est et pourquoi est-ce une attaque si populaire ?"),(0,i.mdx)("p",null,"Supposons que vous ayez un site qui exige que vous vous connectiez avec votre nom d'utilisateur et votre mot de passe pour acc\xe9der aux pages qui\ncontiennent des informations sur votre compte. Lorsque vous vous connectez, les informations d'identification sont transmises \xe0 la base de\ndonn\xe9es. Si le nom d'utilisateur et le mot de passe correspondent \xe0 ceux de la base de donn\xe9es, vous serez ",(0,i.mdx)("strong",{parentName:"p"},"authentifi\xe9s")," pour une session."),(0,i.mdx)("div",{className:"admonition admonition-info alert alert--info"},(0,i.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,i.mdx)("h5",{parentName:"div"},(0,i.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,i.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,i.mdx)("div",{parentName:"div",className:"admonition-content"},(0,i.mdx)("p",{parentName:"div"},"Une ",(0,i.mdx)("strong",{parentName:"p"},"session")," est une p\xe9riode de temps sp\xe9cifi\xe9e pendant laquelle un utilisateur authentifi\xe9 aura acc\xe8s \xe0 des pages et \xe0 des activit\xe9s\nsp\xe9cifiques de l'application."))),(0,i.mdx)("p",null,"\xc0 tout moment du processus d'authentification, un utilisateur malveillant peut ",(0,i.mdx)("strong",{parentName:"p"},"obtenir un acc\xe8s non autoris\xe9")," \xe0 la session et avoir acc\xe8s \xe0\ndes ",(0,i.mdx)("strong",{parentName:"p"},"donn\xe9es sensibles"),"."),(0,i.mdx)("p",null,"Une ",(0,i.mdx)("strong",{parentName:"p"},"session")," peut inclure des donn\xe9es personnelles, des donn\xe9es financi\xe8res et l'acc\xe8s \xe0 des informations prot\xe9g\xe9es ou \xe0 des secrets\ncommerciaux, par exemple."),(0,i.mdx)("div",{className:"admonition admonition-note alert alert--secondary"},(0,i.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,i.mdx)("h5",{parentName:"div"},(0,i.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,i.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"e ?")),(0,i.mdx)("div",{parentName:"div",className:"admonition-content"},(0,i.mdx)("p",{parentName:"div"},"\xc0 quoi ressemblent ces attaques ?"))),(0,i.mdx)("p",null,"Le piratage de l\u2019authentification peut \xeatre automatis\xe9 avec l\u2019utilisation de la technique de\xa0",(0,i.mdx)("strong",{parentName:"p"},"force\xa0brute"),", c\u2019est-\xe0-dire l\u2019utilisation d\u2019une\nmultitude de couples identifiant/mot de passe de mani\xe8re automatique, jusqu\u2019\xe0 obtenir le bon."),(0,i.mdx)("p",null,"Lorsqu'un utilisateur malveillant a un acc\xe8s non autoris\xe9 \xe0 une liste de noms d'utilisateur et de mots de passe, une attaque appel\xe9e\n",(0,i.mdx)("strong",{parentName:"p"},"credential stuffing")," peut \xeatre utilis\xe9e pour essayer toutes les combinaisons de noms d'utilisateur et de mots de passe, jusqu'\xe0 ce que le\npirate s'authentifie."),(0,i.mdx)("div",{className:"admonition admonition-info alert alert--info"},(0,i.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,i.mdx)("h5",{parentName:"div"},(0,i.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,i.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,i.mdx)("div",{parentName:"div",className:"admonition-content"},(0,i.mdx)("p",{parentName:"div"},"Le credential stuffing est un type d\u2019attaque o\xf9 des informations de comptes vol\xe9es, g\xe9n\xe9ralement des listes d'identifiants et des mots de passe\nassoci\xe9s, sont utilis\xe9s pour obtenir un acc\xe8s non autoris\xe9 \xe0 des comptes utilisateurs par le biais de demandes de connexion automatis\xe9e\nadress\xe9es \xe0 des applications web."))),(0,i.mdx)("h3",{id:"appr\xe9hendez-lutilisation-de-cookies"},"Appr\xe9hendez l'utilisation de cookies"),(0,i.mdx)("p",null,"Un cookie HTTP (\xe9galement appel\xe9 ",(0,i.mdx)("em",{parentName:"p"},"cookie web"),", ",(0,i.mdx)("em",{parentName:"p"},"cookie Internet"),", ",(0,i.mdx)("em",{parentName:"p"},"cookie de navigateur")," ou simplement ",(0,i.mdx)("em",{parentName:"p"},"cookie"),") est une petite donn\xe9e envoy\xe9e\ndepuis un site web et stock\xe9e sur l'ordinateur de l'utilisateur par\xa0un navigateur web lorsque l'utilisateur navigue."),(0,i.mdx)("p",null,"Les cookies ont \xe9t\xe9 con\xe7us pour constituer un m\xe9canisme fiable permettant aux sites web de m\xe9moriser des informations importantes (telles que\nles \xe9l\xe9ments ajout\xe9s au panier dans une boutique en ligne) ou d'enregistrer l'activit\xe9 de navigation de l'utilisateur (en se connectant ou en\nenregistrant les pages consult\xe9es). Ils peuvent \xe9galement \xeatre utilis\xe9s pour m\xe9moriser des informations arbitraires que l'utilisateur a\npr\xe9c\xe9demment entr\xe9es dans des champs de formulaire, telles que des noms, des adresses, des mots de passe et des num\xe9ros de carte de cr\xe9dit.\nVoil\xe0 pourquoi il repr\xe9sente un int\xe9r\xeat pour un attaquant."),(0,i.mdx)("div",{className:"admonition admonition-note alert alert--secondary"},(0,i.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,i.mdx)("h5",{parentName:"div"},(0,i.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,i.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"?")),(0,i.mdx)("div",{parentName:"div",className:"admonition-content"},(0,i.mdx)("p",{parentName:"div"},"Que se passe-t-il lorsqu'un site demande d'accepter\xa0des cookies ?"))),(0,i.mdx)("p",null,"Vous vous souvenez peut-\xeatre que votre navigateur vous a averti qu'un site web n\xe9cessite l'utilisation de ",(0,i.mdx)("strong",{parentName:"p"},"cookies")," pour que vous puissiez\nl'utiliser ?"),(0,i.mdx)("p",null,"HTTP ne peut pas enregistrer d'informations sur votre navigateur. Un cookie est donc un fichier tiers enregistr\xe9 qui donne un acc\xe8s\npersonnalis\xe9 \xe0 l'utilisateur du site. Les ",(0,i.mdx)("strong",{parentName:"p"},"cookies ont \xe9t\xe9 cr\xe9\xe9s pour vous faciliter la vie"),", de sorte \xe0 ce que vous n\u2019ayez pas besoin de\nvous reconnecter ou d'entrer\xa0les m\xeames\xa0donn\xe9es encore et encore. Ils aident un site web \xe0 se souvenir de ce que vous avez fait sur leur site\npour personnaliser l'exp\xe9rience. Ces cookies ne sont accessibles que par le site web qui les a cr\xe9\xe9s."),(0,i.mdx)("p",null,"Il existe deux types de cookies : les cookies de suivi et les cookies de session."),(0,i.mdx)("h5",{id:"d\xe9couvrez-les-cookies-de-suivi"},"D\xe9couvrez les cookies de suivi"),(0,i.mdx)("p",null,"Les cookies de suivi sont un type de cookie sp\xe9cifique distribu\xe9, partag\xe9 et lu sur au moins deux sites web non li\xe9s, dans le but de collecter\ndes informations ou \xe9ventuellement de vous pr\xe9senter des donn\xe9es personnalis\xe9es."),(0,i.mdx)("p",null,"Supposons que j'ach\xe8te des biscuits sur un site web appel\xe9 ",(0,i.mdx)("em",{parentName:"p"},"koookiestore.com,")," et qu'il t\xe9l\xe9charge un cookie sur mon navigateur avec des\ninformations qui m'identifient. Toutes mes activit\xe9s sur ce site seront enregistr\xe9es sur ",(0,i.mdx)("em",{parentName:"p"},"koookiestore.com")," via le cookie qui contient mon\nidentifiant."),(0,i.mdx)("figure",null,(0,i.mdx)("img",{src:"https://user.oc-static.com/upload/2019/11/12/15735532617311_image1.png",alt:"Image montrant le fonctionnement des cookies de suivi"}),(0,i.mdx)("figcaption",null,"Cookie de suivi")),(0,i.mdx)("p",null,"Puis, je d\xe9cide d'aller sur le site ",(0,i.mdx)("em",{parentName:"p"},"funnikaaaats.com,")," et soudain je vois toutes ces annonces me montrant les biscuits que je regardais sur\n",(0,i.mdx)("em",{parentName:"p"},"koookiestore.com !")),(0,i.mdx)("p",null,"Mais seul ",(0,i.mdx)("em",{parentName:"p"},"koookiestore.com")," peut acc\xe9der aux informations des cookies stock\xe9es sur son site, alors comment ",(0,i.mdx)("em",{parentName:"p"},"funnikaaaats.com")," a d\xe9couvert que\nj'aime ces cookies ?"),(0,i.mdx)("p",null,"funnikaaaats.com a ",(0,i.mdx)("strong",{parentName:"p"},"int\xe9gr\xe9 un code")," pour koookiestore.com \xe0 l'int\xe9rieur de son site web afin qu'il puisse acc\xe9der \xe0 votre cookie\nkoookistore.com. Et maintenant, ces informations sont stock\xe9es sous ce ",(0,i.mdx)("strong",{parentName:"p"},"cookie ID")," dans koookiestore.com."),(0,i.mdx)("p",null,"Maintenant, le cookie de suivi de ",(0,i.mdx)("em",{parentName:"p"},"koookiestore.com")," sait quels cookies et vid\xe9os de chat vous aimez."),(0,i.mdx)("p",null,"Bien que les cookies de suivi ne peuvent pas \xeatre utilis\xe9s pour pirater une session, ils peuvent repr\xe9senter un probl\xe8me concernant la\nconfidentialit\xe9 et la vie priv\xe9e, car ils permettent l\u2019acc\xe8s \xe0 vos habitudes de navigation."),(0,i.mdx)("h5",{id:"d\xe9couvrez-les-cookies-de-session"},"D\xe9couvrez les cookies de session"),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"Les cookies de session")," contiennent un ",(0,i.mdx)("strong",{parentName:"p"},"identifiant")," qui identifie une session."),(0,i.mdx)("p",null,"Supposons que vous vous connectez au site web de votre banque et que vous recevez un cookie qui est stock\xe9 dans votre navigateur et qui vous\ngarde connect\xe9 jusqu'\xe0 ce que la session expire."),(0,i.mdx)("p",null,"Dans ce cas, chaque session re\xe7oit un ",(0,i.mdx)("strong",{parentName:"p"},"ID de session"),". L'authentification peut \xeatre d\xe9tourn\xe9e si l'utilisateur malveillant devine le bon ID\nde session."),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"Avec le\xa0protocole HTTP"),", les sites web n'ont pas la possibilit\xe9 d'enregistrer des informations d'authentification ou de session sauf s'ils\nles stockent dans un fichier sur les navigateurs. C'est \xe0 \xe7a que servent les cookies de session."),(0,i.mdx)("p",null,"Souvent, le navigateur enregistre un cookie qui contient les informations de session, l'ID de session, la date et l'heure d'expiration."),(0,i.mdx)("p",null,"Des token peuvent \xeatre utilis\xe9s pour l'authentification avec le Single Sign-On (SSO). Un utilisateur re\xe7oit un ticket ou un jeton apr\xe8s\nauthentification, afin de se connecter \xe0 une session. Le pirate peut acc\xe9der au jeton et le r\xe9utiliser pour s\u2019authentifier sans avoir besoin\nd'un nom d'utilisateur ou d'un mot de passe."),(0,i.mdx)("h5",{id:"prot\xe9gez-vos-cookies-"},"Prot\xe9gez vos cookies !"),(0,i.mdx)("p",null,"Voici quelques recommandations pour garantir la s\xe9curit\xe9 des cookies :"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},"assurez-vous que les cookies sont chiffr\xe9s lors de la transmission via HTTPS ;"),(0,i.mdx)("li",{parentName:"ul"},"ne stockez pas d'informations d'identification en texte clair dans vos cookies ;"),(0,i.mdx)("li",{parentName:"ul"},"d\xe9finissez une date d'expiration pour vos cookies-session.")),(0,i.mdx)("h3",{id:"pr\xe9venez-votre-application-des-authentifications-non-autoris\xe9es"},"Pr\xe9venez votre application des authentifications non autoris\xe9es"),(0,i.mdx)("p",null,"Des recommandations simples peuvent \xeatre appliqu\xe9es :"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},"exigez de vos utilisateurs qu'ils aient un mot de passe fort, c'est-\xe0-dire contenant des majuscules, des minuscules, des chiffres et des\ncaract\xe8res sp\xe9ciaux. Il sera ainsi plus difficile pour un utilisateur malveillant de trouver le mot de passe ;"),(0,i.mdx)("li",{parentName:"ul"},"il est \xe9galement recommand\xe9 d'exiger des utilisateurs qu'ils changent r\xe9guli\xe8rement leur mot de passe en cas d\u2019attaque de credential stuffing ;"),(0,i.mdx)("li",{parentName:"ul"},"mettez\xa0en place\xa0le verrouillage de compte lorsqu'un utilisateur essaie de se connecter un trop grand nombre de fois sans y parvenir. Cela\npermet d'emp\xeacher les attaques de force brute ;"),(0,i.mdx)("li",{parentName:"ul"},"changez ou d\xe9sactivez les comptes par d\xe9faut ;"),(0,i.mdx)("li",{parentName:"ul"},"impl\xe9mentez une authentification forte, c\u2019est-\xe0-dire avec plusieurs facteurs d\u2019authentification, comme la validation par SMS ou par mail, par\nexemple.")),(0,i.mdx)("p",null,"Heureusement, il existe des frameworks pour vous aider \xe0 impl\xe9menter plus facilement un code s\xe9curis\xe9,\xa0quel\xa0que soit le langage que vous\nutilisez :"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("strong",{parentName:"li"},"ASP.NET Core Identity Framework")," peut \xeatre int\xe9gr\xe9 dans votre application web pour personnaliser vos besoins d'authentification. L'ajout\nd'ASP.NET Core IdentityServer vous permet d'utiliser les techniques de d\xe9veloppement s\xe9curis\xe9 pour l'authentification par jeton."),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("strong",{parentName:"li"},"Ruby")," a des fonctions (gems) comme ",(0,i.mdx)("strong",{parentName:"li"},"omniauth")," qui peuvent \xeatre impl\xe9ment\xe9es pour l'authentification."),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("strong",{parentName:"li"},"Java")," a ",(0,i.mdx)("strong",{parentName:"li"},"javax.security.auth"),", et l'",(0,i.mdx)("strong",{parentName:"li"},"API Java Authentication and Authorization Service (JAAS),")," qui\xa0peuvent configurer votre\nauthentification de la bonne fa\xe7on !"),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("strong",{parentName:"li"},"PHP")," a ",(0,i.mdx)("strong",{parentName:"li"},"PHPSec"),"\xa0peuvent \xeatre utilis\xe9s pour g\xe9rer la s\xe9curit\xe9 et les sessions.")),(0,i.mdx)("h3",{id:"pr\xe9venez-lauthentification-malveillante"},"Pr\xe9venez l'authentification malveillante"),(0,i.mdx)("p",null,"Voici un exemple d'entr\xe9e avant qu'elle ne soit transmise \xe0 la base de donn\xe9es."),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-sql"},"//Remove all characters from the email except letters, digits and !#$%&'*+-=?^_`{|}~@.[]\necho filter_var($dirtyAddress, FILTER_SANITIZE_EMAIL);\n")),(0,i.mdx)("p",null,"Une bonne pratique pour la ",(0,i.mdx)("strong",{parentName:"p"},"validation des entr\xe9es")," est de v\xe9rifier ",(0,i.mdx)("strong",{parentName:"p"},"toutes les entr\xe9es")," en supprimant les caract\xe8res non pertinents."),(0,i.mdx)("p",null,"En ",(0,i.mdx)("strong",{parentName:"p"},"Java"),", vous pouvez cr\xe9er une m\xe9thode pour hacher le mot de passe avec le framework Spring."),(0,i.mdx)("div",{className:"admonition admonition-info alert alert--info"},(0,i.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,i.mdx)("h5",{parentName:"div"},(0,i.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,i.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,i.mdx)("div",{parentName:"div",className:"admonition-content"},(0,i.mdx)("p",{parentName:"div"},"Le ",(0,i.mdx)("strong",{parentName:"p"},"hachage")," permet de g\xe9n\xe9rer une empreinte unique pour une entr\xe9e. Le probl\xe8me est qu\u2019il est possible d\u2019utiliser des rainbow tables,\nc\u2019est-\xe0-dire des listes de hash pr\xe9alablement calcul\xe9s, puis de les utiliser avec une attaque de force brute. Pour \xe9viter ce genre d\u2019attaque,\nil est possible d\u2019ajouter un ",(0,i.mdx)("strong",{parentName:"p"},"sel")," permettant d\u2019ajouter une donn\xe9e suppl\xe9mentaire, et ainsi renforcer la s\xe9curit\xe9."))),(0,i.mdx)("p",null,"Mais comment faire, concr\xe8tement ?"),(0,i.mdx)("p",null,"Tout d'abord, vous allez cr\xe9er un objet pour l'algorithme de chiffrement, et le saler."),(0,i.mdx)("p",null,"Le salage est une m\xe9thode permettant de renforcer la s\xe9curit\xe9 des informations qui sont destin\xe9es \xe0 \xeatre hach\xe9es (par exemple des mots de passe)\nen y ajoutant une donn\xe9e suppl\xe9mentaire afin d\u2019emp\xeacher que deux informations identiques conduisent \xe0 la m\xeame\xa0",(0,i.mdx)("em",{parentName:"p"},"empreinte (au m\xeame hash)"),". Le\nbut du salage est de lutter contre les attaques par analyse fr\xe9quentielle (permettant l\u2019analyse des fr\xe9quences des caract\xe8res employ\xe9s), les\nattaques utilisant des rainbow tables, les attaques par dictionnaire et les attaques par force brute."),(0,i.mdx)("p",null,"Un\xa0",(0,i.mdx)("strong",{parentName:"p"},"sel"),"\xa0est une\xa0",(0,i.mdx)("strong",{parentName:"p"},"s\xe9quence al\xe9atoire"),"\xa0utilis\xe9e en plus du chiffrement pour rendre le hachage impr\xe9visible."),(0,i.mdx)("p",null,"Prenons un exemple :"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-sql"},'MessageDigest md = MessageDigest.getInstance("MD5");\nmd.update(salt);\n')),(0,i.mdx)("p",null,"Ensuite, vous entrerez votre mot de passe en utilisant l'objet sal\xe9 pour assigner le hachage format\xe9 \xe0 ",(0,i.mdx)("inlineCode",{parentName:"p"},"hashedPassword"),"."),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-sql"},"byte[] hashedPassword = md.digest(passwordToHash.getBytes(StandardCharsets.UTF_8))) ;\n")),(0,i.mdx)("p",null,"Quel que soit le langage dans lequel vous d\xe9veloppez, il existe plusieurs solutions qui peuvent vous permettre de s\xe9curiser votre m\xe9canisme\nd'authentification !"),(0,i.mdx)("p",null,"Adopter les meilleures pratiques pour la gestion des sessions et des jetons est \xe9galement important car il s'agit d'une autre forme\nd'authentification. Les ",(0,i.mdx)("strong",{parentName:"p"},"cookies de session et les jetons")," peuvent rendre vos ",(0,i.mdx)("strong",{parentName:"p"},"sessions vuln\xe9rables"),"."),(0,i.mdx)("p",null,"Voici quelques conseils pour vous aider \xe0 d\xe9velopper vos m\xe9canismes d'identification et de validation de session :"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},"ne mettez pas l\u2019ID de session dans l\u2019URL ;"),(0,i.mdx)("li",{parentName:"ul"},"limitez la dur\xe9e de l'ID de session ;"),(0,i.mdx)("li",{parentName:"ul"},"modifiez le nom d'ID de session par d\xe9faut.")),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"PHP")," poss\xe8de une biblioth\xe8que appel\xe9e ",(0,i.mdx)("strong",{parentName:"p"},"SessionManager")," avec des fonctions qui peuvent \xeatre utilis\xe9es pour valider les sessions avec des\nrestrictions."),(0,i.mdx)("p",null,"Voici un exemple de la fonction ",(0,i.mdx)("inlineCode",{parentName:"p"},"preventHijacking()"),"\xa0du gestionnaire de sessions utilis\xe9 pour limiter une session \xe0 un h\xf4te et \xe0 une adresse\nIP sp\xe9cifiques. Si l'h\xf4te et l'adresse IP ne sont pas identiques, ils ne s'authentifieront pas. Cela permet de s\xe9curiser le m\xe9canisme\nd'authentification."),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-sql"},"static protected function preventHijacking()\n{\nif(!isset($_SESSION['IPaddress']) || !isset($_SESSION['userAgent']))\nreturn false;\nif ($_SESSION['IPaddress'] != $_SERVER['REMOTE_ADDR'])\nreturn false;\nif( $_SESSION['userAgent'] != $_SERVER['HTTP_USER_AGENT'])\nreturn false;\nreturn true\n}\n")),(0,i.mdx)("h3",{id:"connaissez-votre-niveau-de-protection"},"Connaissez votre niveau de protection"),(0,i.mdx)("div",{className:"admonition admonition-note alert alert--secondary"},(0,i.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,i.mdx)("h5",{parentName:"div"},(0,i.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,i.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"?")),(0,i.mdx)("div",{parentName:"div",className:"admonition-content"},(0,i.mdx)("p",{parentName:"div"},"Si j'impl\xe9mente toutes ces r\xe8gles, mon application web sera-t-elle s\xe9curis\xe9e ?"))),(0,i.mdx)("p",null,"Peu importe le nombre de couches de s\xe9curit\xe9 et de fonctionnalit\xe9s que vous ajoutez \xe0 votre code, il y a toujours des attaques auxquelles vous\nne serez pas pr\xe9par\xe9."),(0,i.mdx)("p",null,"Restez inform\xe9 des nouvelles vuln\xe9rabilit\xe9s afin de s\xe9curiser votre application\xa0contre de futures attaques."),(0,i.mdx)("div",{className:"admonition admonition-caution alert alert--warning"},(0,i.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,i.mdx)("h5",{parentName:"div"},(0,i.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,i.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,i.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"!")),(0,i.mdx)("div",{parentName:"div",className:"admonition-content"},(0,i.mdx)("p",{parentName:"div"},"Votre application n'est ",(0,i.mdx)("strong",{parentName:"p"},"jamais")," s\xfbre \xe0 100% car le risque z\xe9ro n\u2019existe pas !"))),(0,i.mdx)("p",null,"Cependant, en respectant ces r\xe8gles, vous pouvez pr\xe9venir les attaques courantes et r\xe9duire votre ",(0,i.mdx)("strong",{parentName:"p"},"surface d'attaque de 80 %"),"."),(0,i.mdx)("h3",{id:"en-r\xe9sum\xe9-1"},"En r\xe9sum\xe9"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},"Le piratage d\u2019authentification peut se produire lorsque les cookies ne sont pas s\xe9curis\xe9s."),(0,i.mdx)("li",{parentName:"ul"},"Utilisez la validation des entr\xe9es et limitez le nombre d'essais de connexion."),(0,i.mdx)("li",{parentName:"ul"},"Les attaques par force brute et credentials stuffing sont courantes."),(0,i.mdx)("li",{parentName:"ul"},"Prot\xe9gez les identifiants de session au moyen d\u2019algorithme de chiffrement."),(0,i.mdx)("li",{parentName:"ul"},"Limitez la dur\xe9e des sessions.")),(0,i.mdx)("p",null,(0,i.mdx)("em",{parentName:"p"},"Dans le prochain chapitre, nous verrons comment prot\xe9ger les donn\xe9es en transit.")),(0,i.mdx)("hr",null),(0,i.mdx)("h2",{id:"prot\xe9gez-les-donn\xe9es-en-transit"},"Prot\xe9gez les donn\xe9es en transit"),(0,i.mdx)("p",null,(0,i.mdx)("a",{parentName:"p",href:"https://openclassrooms.com/fr/courses/6179306-securisez-vos-applications-web-avec-lowasp/6520126-protegez-les-donnees-en-transit"},"Prot\xe9gez les donn\xe9es en transit - S\xe9curisez vos applications web avec l'OWASP - OpenClassrooms")),(0,i.mdx)(r.fG,{vimeoId:"376328815",mdxType:"Vimeo"}),(0,i.mdx)("br",null),(0,i.mdx)("p",null,"L'",(0,i.mdx)("strong",{parentName:"p"},"exposition des donn\xe9es sensibles")," est la troisi\xe8me vuln\xe9rabilit\xe9 dans le top 10 de l\u2019OWASP.\xa0Les donn\xe9es stock\xe9es et transmises dans\nl\u2019application doivent respecter les bonnes pratiques de s\xe9curit\xe9. Dans ce chapitre, nous aborderons la s\xe9curisation des donn\xe9es \xe9chang\xe9es."),(0,i.mdx)("p",null,"Mais comment faire pour s\xe9curiser ces donn\xe9es \xe9chang\xe9es ? Eh bien, cela passe par la s\xe9curisation de la couche de transport lors de l\u2019\xe9change\ndes donn\xe9es."),(0,i.mdx)("h3",{id:"d\xe9couvrez-comment-les-donn\xe9es-transitent-la-couche-de-transport"},"D\xe9couvrez comment les donn\xe9es transitent la couche de transport"),(0,i.mdx)("p",null,"Lorsque vous surfez sur Internet, votre navigateur utilise le les protocole HTTP (Hypertext Transfer Protocol)\xa0pour afficher les pages web, et\nle protocole\xa0",(0,i.mdx)("strong",{parentName:"p"},"Transmission Control Protocol/Internet Protocol (TCP/IP)"),"\xa0pour les transmettre."),(0,i.mdx)("p",null,"OK. Imaginons que vous tapez une URL dans votre barre de navigateur et que vous cliquez sur Entr\xe9e."),(0,i.mdx)("p",null,"Votre navigateur va lancer une connexion TCP, qui va envoyer des requ\xeates GET et POST pour vous connecter au serveur web associ\xe9 au nom de\ndomaine ou \xe0 l'adresse IP."),(0,i.mdx)("p",null,"Si le serveur web \xe9tablit la ",(0,i.mdx)("strong",{parentName:"p"},"connexion TCP"),"\xa0avec le navigateur, une r\xe9ponse avec le code status et le fichier demand\xe9 (g\xe9n\xe9ralement le\nfichier index.html pour la page web) sera transmise. Mais dans notre cas, les donn\xe9es transitent en HTTP et pas en HTTPS..."),(0,i.mdx)("p",null,"Ceci nous am\xe8ne \xe0 la premi\xe8re vuln\xe9rabilit\xe9. Les donn\xe9es transitant en HTTP peuvent \xeatre intercept\xe9es, car elles transitent en clair."),(0,i.mdx)("div",{className:"admonition admonition-note alert alert--secondary"},(0,i.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,i.mdx)("h5",{parentName:"div"},(0,i.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,i.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"?")),(0,i.mdx)("div",{parentName:"div",className:"admonition-content"},(0,i.mdx)("p",{parentName:"div"},"Mais alors\u2026 Comment un utilisateur malveillant peut avoir acc\xe8s \xe0 cette connexion TCP ?"))),(0,i.mdx)("h3",{id:"comprenez-lattaque-de-lhomme-du-milieu-mitm"},"Comprenez l\u2019attaque de l\u2019homme du milieu (MITM)"),(0,i.mdx)("p",null,"Prenons un exemple. Vous avez d\xe9cid\xe9 d'aller dans votre endroit pr\xe9f\xe9r\xe9 pour boire un caf\xe9 et vous utilisez le ",(0,i.mdx)("strong",{parentName:"p"},"Wi-Fi gratuit"),"\xa0pour surfer\nsur certains sites. \xc0 votre insu, un pirate a d\xe9cid\xe9 d'utiliser un sniffer r\xe9seau, qui enregistre les\xa0",(0,i.mdx)("strong",{parentName:"p"},"transmissions TCP")," directement sur son\nordinateur."),(0,i.mdx)("p",null,"Vous surfez et vous vous connectez \xe0 un site en HTTP pour envoyer des articles de blog. Le pirate sera en mesure d'acc\xe9der \xe0 vos informations\nd'identification et au contenu de votre blog, car celui-ci n'\xe9tait pas chiffr\xe9 ! Votre session a \xe9t\xe9 d\xe9tourn\xe9e et l'attaquant peut ainsi voler\nvos donn\xe9es."),(0,i.mdx)("p",null,"L'attaque de l'homme du milieu\xa0(",(0,i.mdx)("em",{parentName:"p"},"Man in the Middle"),", en anglais) est\xa0l'une des principales causes de\xa0",(0,i.mdx)("strong",{parentName:"p"},"d\xe9tournement de session"),".\xa0L'attaquant\nse place au milieu de votre communication, intercepte les connexions r\xe9seau et capte ainsi tout ce que vous envoyez."),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"Le vol de donn\xe9es"),"\xa0et le ",(0,i.mdx)("strong",{parentName:"p"},"d\xe9tournement de session"),"\xa0ne sont que quelques exemples de ce qu'un attaquant peut faire une fois sur le r\xe9seau.\nD'une fa\xe7on ou d'une autre, si les donn\xe9es sont envoy\xe9es en HTTP et sont en clair, il suffit de peu d'efforts pour interpr\xe9ter les donn\xe9es."),(0,i.mdx)("div",{className:"admonition admonition-note alert alert--secondary"},(0,i.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,i.mdx)("h5",{parentName:"div"},(0,i.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,i.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"?")),(0,i.mdx)("div",{parentName:"div",className:"admonition-content"},(0,i.mdx)("p",{parentName:"div"},"Mais... Comment je peux r\xe9soudre ce probl\xe8me ?"))),(0,i.mdx)("h3",{id:"utilisez-https"},"Utilisez HTTPS"),(0,i.mdx)("div",{className:"admonition admonition-note alert alert--secondary"},(0,i.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,i.mdx)("h5",{parentName:"div"},(0,i.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,i.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"?")),(0,i.mdx)("div",{parentName:"div",className:"admonition-content"},(0,i.mdx)("p",{parentName:"div"},"Attends\u2026\xa0C'est quoi, HTTPS ?"))),(0,i.mdx)("p",null,"HTTPS est\xa0la variante s\xe9curis\xe9e de HTML qui utilise les protocoles\xa0",(0,i.mdx)("strong",{parentName:"p"},"Secure Sockets Layer/Transport Layer Security")," (SSL/TLS) pour chiffrer\nles transmissions."),(0,i.mdx)("p",null,"Cela permet d'ajouter une couche de s\xe9curit\xe9 lorsque les donn\xe9es sont en transit."),(0,i.mdx)("p",null,"En r\xe8gle g\xe9n\xe9rale, si vous devez vous authentifier avec un mot de passe n'importe o\xf9 sur le site, utilisez HTTPS pour\xa0",(0,i.mdx)("strong",{parentName:"p"},"prot\xe9ger"),"\xa0le mot de\npasse lorsqu'il est transmis sur le r\xe9seau."),(0,i.mdx)("p",null,"Je vous conseille de\xa0configurer l'ensemble de votre application web avec HTTPS, qu'elle traite ou non des informations sensibles. En effet,\nGoogle marquera tous les sites HTTP comme non s\xe9curis\xe9s pour conduire plus de sites \xe0 utiliser HTTPS. Avoir un site configur\xe9 avec HTTPS\naugmentera la confiance de vos utilisateurs."),(0,i.mdx)("div",{className:"admonition admonition-info alert alert--info"},(0,i.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,i.mdx)("h5",{parentName:"div"},(0,i.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,i.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,i.mdx)("div",{parentName:"div",className:"admonition-content"},(0,i.mdx)("p",{parentName:"div"},"Pour en savoir plus, vous pouvez visiter la page\xa0de\xa0",(0,i.mdx)("a",{parentName:"p",href:"https://security.googleblog.com/2018/02/a-secure-web-is-here-to-stay.html"},"recommandations"),"\nde Google."))),(0,i.mdx)("div",{className:"admonition admonition-note alert alert--secondary"},(0,i.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,i.mdx)("h5",{parentName:"div"},(0,i.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,i.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"?")),(0,i.mdx)("div",{parentName:"div",className:"admonition-content"},(0,i.mdx)("p",{parentName:"div"},"Comment utiliser le protocole TLS pour s\xe9curiser une application ?"))),(0,i.mdx)("p",null,"Tout d'abord, obtenez un ",(0,i.mdx)("strong",{parentName:"p"},"certificat SSL"),"\xa0et ajoutez-le \xe0 votre serveur. Ce certificat est n\xe9cessaire pour chiffrer les donn\xe9es en cours de\ntransmission."),(0,i.mdx)("p",null,"Ensuite, codez\xa0vos pages\xa0avec HTTPS !"),(0,i.mdx)("div",{className:"admonition admonition-info alert alert--info"},(0,i.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,i.mdx)("h5",{parentName:"div"},(0,i.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,i.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,i.mdx)("div",{parentName:"div",className:"admonition-content"},(0,i.mdx)("p",{parentName:"div"},"Si vous voulez en savoir plus sur le processus d'obtention d'un certificat SSL pour votre application web, vous pouvez utiliser\n",(0,i.mdx)("a",{parentName:"p",href:"https://www.openssl.org/"},"OpenSSL"),"\xa0(en anglais) ou consulter\xa0",(0,i.mdx)("a",{parentName:"p",href:"https://github.com/zaproxy/zap-core-help/wiki/HelpUiDialogsOptionsDynsslcert"},"ce tutoriel"),"\n(en anglais)."))),(0,i.mdx)("h3",{id:"mettez-en-place-le-https"},"Mettez en place le HTTPS"),(0,i.mdx)("p",null,"Pour cr\xe9er un serveur web pour votre application web, ",(0,i.mdx)("strong",{parentName:"p"},"Node.js")," est une plateforme populaire. Cependant, il utilise HTTP par d\xe9faut pour la\ntransmission de donn\xe9es.\xa0"),(0,i.mdx)("p",null,"Pour utiliser HTTPS, Il suffit de sp\xe9cifier l'utilisation du module HTTPS sur Node.js."),(0,i.mdx)("p",null,"Pour d\xe9marrer un serveur HTTP sur Node.js, le code est le suivant :"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-javascript"},"var http = require('http');\nhttp.createServer(function (req, res) {\n\n}).listen(8080);\n")),(0,i.mdx)("p",null,"Il vous suffit d'ajouter un S et vous pouvez maintenant d\xe9marrer un serveur HTTPS tout aussi facilement (avec un certificat SSL, bien s\xfbr)."),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-javascript"},"var https = require('https');\nhttps.createServer(function (req, res) {\n\n}).listen(8080);\n")),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"ASP.NET")," a un module appel\xe9 ",(0,i.mdx)("strong",{parentName:"p"},"SecureWebPageModule,")," qui peut \xeatre ajout\xe9 au web.config avec l'ajout suivant :\n",(0,i.mdx)("inlineCode",{parentName:"p"},'<secureWebPages enabled="true">'),"."),(0,i.mdx)("p",null,(0,i.mdx)("inlineCode",{parentName:"p"},"[RequireHttps]")," peut \xe9galement \xeatre utilis\xe9 dans le fichier ",(0,i.mdx)("inlineCode",{parentName:"p"},"AccountController.cs"),". Enfin, ASP. NET prend en charge la r\xe9\xe9criture d'URL."),(0,i.mdx)("p",null,"Avec ",(0,i.mdx)("strong",{parentName:"p"},"Ruby on Rails"),", vous pouvez ex\xe9cuter un ",(0,i.mdx)("strong",{parentName:"p"},"serveur web NGINX")," en utilisant HTTPS, et cr\xe9er votre certificat :"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},"sur le fichier ",(0,i.mdx)("inlineCode",{parentName:"li"},"production.rb"),", changez la valeur ",(0,i.mdx)("inlineCode",{parentName:"li"},"config.force_ssl = true;")),(0,i.mdx)("li",{parentName:"ul"},"sur ",(0,i.mdx)("inlineCode",{parentName:"li"},"application.rb"),", \xe9crivez la ligne ",(0,i.mdx)("inlineCode",{parentName:"li"},'config.force_ssl = (ENV[ENABLE_HTTPS"] == "yes") ;')),(0,i.mdx)("li",{parentName:"ul"},"utilisez Rack pour forcer SSL en int\xe9grant la gem rack-ssl.")),(0,i.mdx)("p",null,"Quel que soit le langage que vous utilisez, assurez-vous que votre page de connexion et toutes les pages web qui font partie de la session\nutilisent HTTPS."),(0,i.mdx)("h3",{id:"s\xe9curisez-les-requ\xeates-get-et-post"},"S\xe9curisez les requ\xeates GET et POST"),(0,i.mdx)("p",null,"Lorsque vous mettez en place des connexions TCP dans vos requ\xeates, quelques r\xe8gles de s\xe9curit\xe9 peuvent \xeatre mises en place."),(0,i.mdx)("div",{className:"admonition admonition-info alert alert--info"},(0,i.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,i.mdx)("h5",{parentName:"div"},(0,i.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,i.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,i.mdx)("div",{parentName:"div",className:"admonition-content"},(0,i.mdx)("p",{parentName:"div"},"Lorsque la connexion TCP est \xe9tablie entre le navigateur et le serveur web, les informations envoy\xe9es sont divis\xe9es en trois parties. Tout\nd'abord, il y aura une requ\xeate GET ou POST avec une URL sp\xe9cifique. Ensuite, il y a un en-t\xeate (header) et le corps de la requ\xeate (body)."))),(0,i.mdx)("div",{className:"admonition admonition-note alert alert--secondary"},(0,i.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,i.mdx)("h5",{parentName:"div"},(0,i.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,i.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"?")),(0,i.mdx)("div",{parentName:"div",className:"admonition-content"},(0,i.mdx)("p",{parentName:"div"},"OK... Mais pourquoi parle-t-on de tout \xe7a ?"))),(0,i.mdx)("p",null,"Je vais vous l'expliquer tout de suite !"),(0,i.mdx)("p",null,"Une requ\xeate GET ressemble \xe0 ceci :"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-text"},"GET /index.html HTTP:1.1\nHeader:\nBody:\n")),(0,i.mdx)("p",null,"Ses param\xe8tres sont pr\xe9sents dans l'URL, et sont mis en cache dans le navigateur."),(0,i.mdx)("p",null,"Il est pr\xe9f\xe9rable d'utiliser une requ\xeate GET lorsque vous ",(0,i.mdx)("strong",{parentName:"p"},"r\xe9cup\xe9rez")," des informations. Cela signifie que vous pouvez interroger la base de\ndonn\xe9es, mais sans modification."),(0,i.mdx)("p",null,"Une requ\xeate POST ressemble \xe0 ceci :"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-text"},"POST https://securesite.com/resetpassword.php\nHeader:\nBody: password=password123 (encrypted)\n")),(0,i.mdx)("p",null,"Les requ\xeates POST sont utilis\xe9es pour apporter des ",(0,i.mdx)("strong",{parentName:"p"},"modifications")," \xe0 la base de donn\xe9es et doivent donc \xeatre ",(0,i.mdx)("strong",{parentName:"p"},"transmises")," avec un\nchiffrement par TLS."),(0,i.mdx)("p",null,"Ces requ\xeates\xa0ne permettent pas de sauvegarder les donn\xe9es en cache dans le navigateur, rendant ainsi les param\xe8tres\xa0contenus dans le corps de\nla requ\xeate facilement piratables."),(0,i.mdx)("div",{className:"admonition admonition-note alert alert--secondary"},(0,i.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,i.mdx)("h5",{parentName:"div"},(0,i.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,i.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"?")),(0,i.mdx)("div",{parentName:"div",className:"admonition-content"},(0,i.mdx)("p",{parentName:"div"},"Comment \xeatre s\xfbr que mes requ\xeates GET et POST ne sont pas expos\xe9es \xe0 des vuln\xe9rabilit\xe9s\xa0?"))),(0,i.mdx)("div",{className:"admonition admonition-info alert alert--info"},(0,i.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,i.mdx)("h5",{parentName:"div"},(0,i.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,i.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,i.mdx)("div",{parentName:"div",className:"admonition-content"},(0,i.mdx)("p",{parentName:"div"},"Vous pouvez coder jusqu'\xe0 obtenir quelque chose de parfait, mais il est \xe9galement possible d'utiliser des modules externes comme Ajax, Axios\nou jQuery."))),(0,i.mdx)("p",null,"Ces modules externes vous permettront de vous assurer que vous utilisez HTTPS pour toutes vos requ\xeates GET et POST."),(0,i.mdx)("div",{className:"admonition admonition-note alert alert--secondary"},(0,i.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,i.mdx)("h5",{parentName:"div"},(0,i.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,i.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"?")),(0,i.mdx)("div",{parentName:"div",className:"admonition-content"},(0,i.mdx)("p",{parentName:"div"},"D'accord.... Je vois bien que je dois faire de nombreuses choses pour s\xe9curiser mes donn\xe9es. Mais il doit bien exister un syst\xe8me de s\xe9curit\xe9\npar d\xe9faut sur mon navigateur, non ?"))),(0,i.mdx)("h3",{id:"tirez-parti-de-la-s\xe9curit\xe9-par-d\xe9faut-de-votre-navigateur"},"Tirez parti de la s\xe9curit\xe9 par d\xe9faut de votre navigateur"),(0,i.mdx)("p",null,"Tout \xe0 fait ! Parlons maintenant de\xa0",(0,i.mdx)("strong",{parentName:"p"},"Cross-Origin Resource Sharing (CORS)"),"."),(0,i.mdx)("p",null,"Votre navigateur fournit une s\xe9curit\xe9 \xe0 vos requ\xeates GET et POST par d\xe9faut. Lorsqu'une demande est faite, elle ne sera autoris\xe9e que si elle a\nla\xa0",(0,i.mdx)("strong",{parentName:"p"},"m\xeame origine"),"."),(0,i.mdx)("p",null,"Cela signifie qu'elle doit avoir les m\xeames nom de domaine, port, h\xf4tes et sch\xe9mas. Cette restriction n'est pas toujours utile si les requ\xeates\nn\xe9cessitent une transmission vers un autre port ou domaine. Lorsque cela se produit, l'application web est expos\xe9e \xe0 une attaque ",(0,i.mdx)("strong",{parentName:"p"},"CSRF"),"."),(0,i.mdx)("div",{className:"admonition admonition-info alert alert--info"},(0,i.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,i.mdx)("h5",{parentName:"div"},(0,i.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,i.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,i.mdx)("div",{parentName:"div",className:"admonition-content"},(0,i.mdx)("p",{parentName:"div"},"Le\xa0",(0,i.mdx)("strong",{parentName:"p"},"cross-site request forgery (CSRF)")," est un type de vuln\xe9rabilit\xe9 des services d'authentification web. L\u2019objet de cette attaque est de\ntransmettre \xe0 un utilisateur authentifi\xe9 une requ\xeate HTTP falsifi\xe9e qui pointe sur une action interne au site, afin qu'il l'ex\xe9cute sans en\navoir conscience et en utilisant ses propres droits."))),(0,i.mdx)("div",{className:"admonition admonition-note alert alert--secondary"},(0,i.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,i.mdx)("h5",{parentName:"div"},(0,i.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,i.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"?")),(0,i.mdx)("div",{parentName:"div",className:"admonition-content"},(0,i.mdx)("p",{parentName:"div"},"Comment r\xe9soudre ce probl\xe8me ?"))),(0,i.mdx)("p",null,"CORS peut \xeatre impl\xe9ment\xe9 pour \xe9viter les attaques CSRF, en ajoutant des politiques pour limiter l'acc\xe8s \xe0 une origine sp\xe9cifique ou un type de\nrequ\xeate HTTP, par exemple."),(0,i.mdx)("h3",{id:"adoptez-les-bonnes-pratiques"},"Adoptez les bonnes pratiques"),(0,i.mdx)("p",null,"Voici quelques recommandations pour prot\xe9ger vos donn\xe9es en transit :"),(0,i.mdx)("ol",null,(0,i.mdx)("li",{parentName:"ol"},"N'utilisez GET que pour r\xe9cup\xe9rer des informations."),(0,i.mdx)("li",{parentName:"ol"},"Utilisez POST pour les informations qui seront manipul\xe9es."),(0,i.mdx)("li",{parentName:"ol"},"Toutes les requ\xeates POST doivent utiliser HTTPS/SSL pour s'assurer que le corps est chiffr\xe9."),(0,i.mdx)("li",{parentName:"ol"},"V\xe9rifiez tous les modules tiers que vous utilisez pour cr\xe9er des requ\xeates GET/POST et utilisez HTTPS pour chacun d'entre eux !")),(0,i.mdx)("h3",{id:"en-r\xe9sum\xe9-2"},"En r\xe9sum\xe9"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},"Utilisez le HTTPS pour l'ensemble de votre site, m\xeame s'il ne contient pas de donn\xe9es sensibles."),(0,i.mdx)("li",{parentName:"ul"},"Utilisez les requ\xeates GET pour r\xe9cup\xe9rer les informations et POST pour modifier les informations."),(0,i.mdx)("li",{parentName:"ul"},"S\xe9curisez vos cookies pour qu'ils soient transmis par l'en-t\xeate et via HTTPS."),(0,i.mdx)("li",{parentName:"ul"},"S\xe9curisez vos sessions en ajoutant une date d'expiration, en s\xe9curisant l'ID et en ne mettant pas cet ID dans l'URL."),(0,i.mdx)("li",{parentName:"ul"},"L'utilisation du chiffrement dans la couche Transport peut pr\xe9venir les attaques MITM !")),(0,i.mdx)("p",null,(0,i.mdx)("em",{parentName:"p"},"Nous venons de voir comment prot\xe9ger les donn\xe9es en transit. Dans le prochain chapitre, nous verrons comment prot\xe9ger les donn\xe9es stock\xe9es\nsur votre application.")),(0,i.mdx)("hr",null),(0,i.mdx)("h2",{id:"prot\xe9gez-les-donn\xe9es-stock\xe9es-sur-une-application"},"Prot\xe9gez les donn\xe9es stock\xe9es sur une application"),(0,i.mdx)("p",null,(0,i.mdx)("a",{parentName:"p",href:"https://openclassrooms.com/fr/courses/6179306-securisez-vos-applications-web-avec-lowasp/6520207-protegez-les-donnees-stockees-sur-une-application"},"Prot\xe9gez les donn\xe9es stock\xe9es sur une application - S\xe9curisez vos applications web avec l'OWASP - OpenClassrooms")),(0,i.mdx)(r.fG,{vimeoId:"376328861",mdxType:"Vimeo"}),(0,i.mdx)("br",null),(0,i.mdx)("p",null,"Dans le chapitre pr\xe9c\xe9dent, nous avons parl\xe9 de la s\xe9curisation des ",(0,i.mdx)("strong",{parentName:"p"},"donn\xe9es lors de leur transmission"),"."),(0,i.mdx)("p",null,"Mais o\xf9 sont stock\xe9es les donn\xe9es et comment les prot\xe9ger ?"),(0,i.mdx)("p",null,"Lorsque vous visitez un site web et que vous entrez des donn\xe9es dans un formulaire, comme un nom d\u2019utilisateur et un mot de passe, ces donn\xe9es\nsont ensuite envoy\xe9es et une requ\xeate sur la base de donn\xe9es est effectu\xe9e, pour v\xe9rifier que l\u2019utilisateur existe et que le mot de passe entr\xe9\nest le bon. S\u2019ils correspondent, le serveur vous donne acc\xe8s \xe0 vos donn\xe9es stock\xe9es sur la base de donn\xe9es."),(0,i.mdx)("p",null,"Les ",(0,i.mdx)("strong",{parentName:"p"},"donn\xe9es stock\xe9es")," sont donc le contenu de la base de donn\xe9es. Typiquement, une base de donn\xe9es contiendra des ",(0,i.mdx)("strong",{parentName:"p"},"donn\xe9es sensibles")," sur\nun site qui n\xe9cessite une ",(0,i.mdx)("strong",{parentName:"p"},"authentification"),"."),(0,i.mdx)("p",null,"Nous savons comment effectuer des requ\xeates dans la base de donn\xe9es afin de pr\xe9venir les modifications non autoris\xe9es et l'exposition de la base\nde donn\xe9es. Mais si un attaquant arrive \xe0 contourner l\u2019authentification, comment pouvons-nous restreindre son acc\xe8s aux donn\xe9es ?"),(0,i.mdx)("p",null,"Pour cela, il existe un moyen s\xfbr, le ",(0,i.mdx)("strong",{parentName:"p"},"chiffrement des donn\xe9es"),"."),(0,i.mdx)("h3",{id:"d\xe9couvrez-les-algorithmes-de-hachage"},"D\xe9couvrez les algorithmes de hachage"),(0,i.mdx)("p",null,"Pour prot\xe9ger certaines donn\xe9es stock\xe9es sur une application, il est possible d\u2019utiliser\xa0des algorithmes de hachage."),(0,i.mdx)("p",null,"L'int\xe9r\xeat des algorithmes de hachage est qu\u2019ils permettent de calculer une empreinte (ou ",(0,i.mdx)("em",{parentName:"p"},"hash"),") d\u2019une cha\xeene de caract\xe8res, par exemple. Cette\nempreinte est utile pour \xe9viter de stocker en clair le mot de passe dans la base de donn\xe9es."),(0,i.mdx)("p",null,"Prenons un exemple. Nous avons une cha\xeene de caract\xe8res\xa0",(0,i.mdx)("em",{parentName:"p"},(0,i.mdx)("inlineCode",{parentName:"em"},"password123")),". Nous allons utiliser un algorithme de hachage pour obtenir une\nempreinte."),(0,i.mdx)("p",null,"Dans notre exemple, nous allons utiliser les algorithmes de hachage SHA1 et MD5. Nous obtenons l'empreinte suivante :"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-text"},"sha1:bab1298d948ebb34bd0f3faf5e596ebc0b27c615\nmd5:7576f3a00f6de47b0c72c5baf2d505b0\n")),(0,i.mdx)("div",{className:"admonition admonition-info alert alert--info"},(0,i.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,i.mdx)("h5",{parentName:"div"},(0,i.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,i.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,i.mdx)("div",{parentName:"div",className:"admonition-content"},(0,i.mdx)("p",{parentName:"div"},(0,i.mdx)("strong",{parentName:"p"},"SHA-1"),"\xa0(Secure Hash Algorithm) et ",(0,i.mdx)("strong",{parentName:"p"},"MD5")," (message-digest algorithm)\xa0sont des fonctions de hachage cryptographique."))),(0,i.mdx)("p",null,"La cha\xeene de caract\xe8res\xa0",(0,i.mdx)("em",{parentName:"p"},(0,i.mdx)("inlineCode",{parentName:"em"},"password123"))," est d\xe9sormais stock\xe9e sous la forme d'un hash MD5, rendant sa lecture impossible pour un utilisateur\nmalveillant."),(0,i.mdx)("p",null,"Cependant, certains attaquants r\xe9ussiront tout de m\xeame \xe0 contourner ce m\xe9canisme. Comme pour les cookies, il est\xa0possible d\u2019effectuer une\nattaque par ",(0,i.mdx)("strong",{parentName:"p"},"rainbow table"),", c\u2019est-\xe0-dire qu\u2019un attaquant va pr\xe9alablement ",(0,i.mdx)("strong",{parentName:"p"},"calculer des hash de mots de passe puis les utiliser avec une\nattaque de brute force pour trouver le bon"),"."),(0,i.mdx)("p",null,"Comme pour l'authentification, il est possible de contourner cette attaque en utilisant le salage."),(0,i.mdx)("p",null,"Sachez qu'il existe de nombreux algorithmes de hachage : Bcrypt, Scrypt, SHA, MD5, Argon5 et PBKDF2, par exemple. Contrairement aux algorithmes\nSHA et MD5, ",(0,i.mdx)("strong",{parentName:"p"},"Argon5, PBKDF2, Bcrypt")," et ",(0,i.mdx)("strong",{parentName:"p"},"Scrypt")," sont plus ax\xe9s sur la s\xe9curit\xe9 que sur l'efficacit\xe9. Cela signifie que le cassage de ces\nalgorithmes exige plus de ressources."),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"Argon5")," est un des algorithmes de hachage les plus puissants et fortement recommand\xe9s par l'",(0,i.mdx)("strong",{parentName:"p"},"OWASP"),"."),(0,i.mdx)("h3",{id:"s\xe9curisez-une-base-de-donn\xe9es"},"S\xe9curisez une base de donn\xe9es"),(0,i.mdx)("h4",{id:"g\xe9rez-lauthentification"},"G\xe9rez l'authentification"),(0,i.mdx)("p",null,"Pour s\xe9curiser l\u2019authentification, il existe de bonnes pratiques de s\xe9curit\xe9 simples \xe0 appliquer :"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},"supprimer les comptes par d\xe9faut en changeant les mots de passe connus ;"),(0,i.mdx)("li",{parentName:"ul"},"utiliser le principe de ",(0,i.mdx)("em",{parentName:"li"},"moindre privil\xe8ge")," pour vous assurer qu'un ou deux comptes seulement ont des privil\xe8ges \xe9lev\xe9s.")),(0,i.mdx)("div",{className:"admonition admonition-info alert alert--info"},(0,i.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,i.mdx)("h5",{parentName:"div"},(0,i.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,i.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,i.mdx)("div",{parentName:"div",className:"admonition-content"},(0,i.mdx)("p",{parentName:"div"},(0,i.mdx)("strong",{parentName:"p"},"Le principe de moindre privil\xe8ge")," est un autre concept fondamental de la s\xe9curit\xe9 des syst\xe8mes d\u2019information. Avec le moins de privil\xe8ges\npossible, vous vous assurez que tous les membres de l'organisation n'ont que les droits dont ils ont besoin sur le r\xe9seau pour exercer leur\nfonction ",(0,i.mdx)("em",{parentName:"p"},"sp\xe9cifique")," d\xe9finie, ni plus ni moins."))),(0,i.mdx)("h4",{id:"cachezdes-donn\xe9es-sensibles-dans-une-base-de-donn\xe9es"},"Cachez\xa0des donn\xe9es sensibles dans une base de donn\xe9es"),(0,i.mdx)("p",null,"Il existe plusieurs techniques qui permettent de cacher les donn\xe9es sensibles d\u2019une base de donn\xe9es et donc de s\xe9curiser une application."),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("strong",{parentName:"li"},"L'anonymisation")," est une technique recommand\xe9e par l\u2019OWASP pour cacher des donn\xe9es priv\xe9es en chiffrant, brouillant et supprimant des\nparties des donn\xe9es. Par exemple, si une demande est faite pour la date de naissance d'une personne pour s\u2019authentifier, seule l'ann\xe9e sera\nfournie par la base de donn\xe9es."),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("strong",{parentName:"li"},"La pseudonymisation")," est une technique recommand\xe9e par le RGPD.\xa0Elle remplace les donn\xe9es personnelles par des identifiants et des\npseudonymes artificiels pour cacher les donn\xe9es sensibles."),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("strong",{parentName:"li"},"La minimisation des donn\xe9es")," permet de se conformer \xe0 l'ensemble de r\xe8gles du RGPD. L'entreprise doit uniquement demander, enregistrer et\ntraiter les donn\xe9es personnelles requises. En d'autres termes, toute donn\xe9e personnelle demand\xe9e doit avoir un motif commercial solide.")),(0,i.mdx)("p",null,"Il existe deux fa\xe7ons d'appliquer ces techniques \xe0 votre base de donn\xe9es."),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("strong",{parentName:"li"},"Le masquage dynamique des donn\xe9es")," est un moyen d'appliquer des r\xe8gles d'anonymisation sur les colonnes de donn\xe9es sensibles. Lorsqu'une\ndemande est faite pour r\xe9cup\xe9rer les donn\xe9es des colonnes masqu\xe9es, elle n'appara\xeetra pas dans sa forme compl\xe8te. Ces donn\xe9es peuvent \xe9galement\n\xeatre cach\xe9es aux administrateurs de bases de donn\xe9es avec des r\xf4les qui bloquent l'acc\xe8s aux donn\xe9es sensibles.")),(0,i.mdx)("p",null,"Sur SQL Server, l'option ",(0,i.mdx)("em",{parentName:"p"},"masked with")," applique diff\xe9rentes fonctions de masquage. L\u2019option par d\xe9faut prend la valeur sensible et la remplace\npar une autre valeur lorsqu'elle est affich\xe9e. L'exemple ci-dessous montre son application sur une colonne Date de naissance."),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-sql"},"Birthdate DATE\nMASKED WITH (FUNCTION = 'default()') NOT NULL,\n")),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"MongoDB")," a la possibilit\xe9 d'utiliser un module appel\xe9 ",(0,i.mdx)("strong",{parentName:"p"},"Mongo Mask"),". Il peut \xeatre utilis\xe9 comme ceci sur l\u2019application :\n",(0,i.mdx)("inlineCode",{parentName:"p"},"var mongoMask = require('mongo-mask')"),". Sur la base de donn\xe9es, MongoDB a des acc\xe8s en lecture seule qui peuvent \xeatre sp\xe9cifi\xe9s dans le code."),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("strong",{parentName:"li"},"Cloner et g\xe9n\xe9rer des masques de donn\xe9es")," utilisant plusieurs bases de donn\xe9es. En utilisant le m\xeame sch\xe9ma, une base de donn\xe9es\nsuppl\xe9mentaire utilis\xe9e pour r\xe9cup\xe9rer des informations peut contenir des donn\xe9es masqu\xe9es pour les colonnes sensibles d\xe9j\xe0 pr\xe9sentes.")),(0,i.mdx)("p",null,"SQL Server, SQL Clone et SQL Data Generator peuvent \xeatre utilis\xe9s pour cr\xe9er une autre base de donn\xe9es avec des donn\xe9es g\xe9n\xe9r\xe9es pour masquer\nles donn\xe9es sensibles lors de leur r\xe9cup\xe9ration. Contrairement au masquage dynamique des donn\xe9es, il ne s'agit pas d'un masquage actif. Il\ns'agit d'une redirection de requ\xeate vers une autre base de donn\xe9es avec des donn\xe9es g\xe9n\xe9r\xe9es pour remplacer les donn\xe9es sensibles."),(0,i.mdx)("h3",{id:"en-r\xe9sum\xe9-3"},"En r\xe9sum\xe9"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},"S\xe9curisez votre base de donn\xe9es avec le chiffrement."),(0,i.mdx)("li",{parentName:"ul"},"Utilisez des algorithmes de hachage s\xe9curis\xe9s tels que Argon5, Scrypt, Bcrypt et PBKDF2."),(0,i.mdx)("li",{parentName:"ul"},"Utilisez pas les algorithmes de hachage SHA et MD5 avec salage."),(0,i.mdx)("li",{parentName:"ul"},"Les tables Rainbow automatisent les connexions avec des mots de passe pr\xe9hash\xe9s !"),(0,i.mdx)("li",{parentName:"ul"},"Le masquage des donn\xe9es peut \xeatre utilis\xe9 pour s\xe9curiser les donn\xe9es sensibles d\u2019une base de donn\xe9es.")),(0,i.mdx)("p",null,(0,i.mdx)("em",{parentName:"p"},"Nous venons de voir comment s\xe9curiser les donn\xe9es stock\xe9es dans votre application. Dans le prochain chapitre, nous verrons comment s\xe9curiser\nles contr\xf4les d\u2019acc\xe8s.")),(0,i.mdx)("hr",null),(0,i.mdx)("h2",{id:"emp\xeachez-lexploitation-des-contr\xf4les-dacc\xe8s"},"Emp\xeachez l'exploitation des contr\xf4les d'acc\xe8s"),(0,i.mdx)("p",null,(0,i.mdx)("a",{parentName:"p",href:"https://openclassrooms.com/fr/courses/6179306-securisez-vos-applications-web-avec-lowasp/6520299-empechez-lexploitation-des-controles-dacces"},"Emp\xeachez l'exploitation des contr\xf4les d'acc\xe8s - S\xe9curisez vos applications web avec l'OWASP - OpenClassrooms")),(0,i.mdx)(r.fG,{vimeoId:"376329296",mdxType:"Vimeo"}),(0,i.mdx)("br",null),(0,i.mdx)("p",null,"Passons maintenant \xe0 la gestion des contr\xf4les d'acc\xe8s et \xe0 leur s\xe9curisation."),(0,i.mdx)("h3",{id:"comprenez-le-principe-ducontr\xf4le-dacc\xe8s"},"Comprenez le principe du\xa0contr\xf4le d'acc\xe8s"),(0,i.mdx)("p",null,"Imaginez une ",(0,i.mdx)("strong",{parentName:"p"},"application web")," avec ",(0,i.mdx)("strong",{parentName:"p"},"quatre niveaux d\u2019acc\xe8s")," pour quatre groupes de personnes."),(0,i.mdx)("p",null,"Le premier groupe aura un acc\xe8s limit\xe9, le deuxi\xe8me groupe aura un acc\xe8s un peu plus privil\xe9gi\xe9, le troisi\xe8me groupe aura encore plus d\u2019acc\xe8s.\nEnfin, le quatri\xe8me groupe aura les acc\xe8s administrateur ou ",(0,i.mdx)("em",{parentName:"p"},"root"),"."),(0,i.mdx)("p",null,"Ces niveaux d\u2019acc\xe8s sont appel\xe9s ",(0,i.mdx)("em",{parentName:"p"},"r\xf4les"),"."),(0,i.mdx)("div",{className:"admonition admonition-info alert alert--info"},(0,i.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,i.mdx)("h5",{parentName:"div"},(0,i.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,i.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,i.mdx)("div",{parentName:"div",className:"admonition-content"},(0,i.mdx)("p",{parentName:"div"},"Pour en savoir plus, vous pouvez visiter cet aide-m\xe9moire de l\u2019",(0,i.mdx)("a",{parentName:"p",href:"https://github.com/OWASP/CheatSheetSeries/blob/master/cheatsheets/Access_Control_Cheat_Sheet.md"},"OWASP"),"."))),(0,i.mdx)("p",null,"Imaginons les ",(0,i.mdx)("strong",{parentName:"p"},"quatre r\xf4les suivant.")),(0,i.mdx)("table",null,(0,i.mdx)("thead",{parentName:"table"},(0,i.mdx)("tr",{parentName:"thead"},(0,i.mdx)("th",{parentName:"tr",align:null},"R\xf4le"),(0,i.mdx)("th",{parentName:"tr",align:null},"Niveau d'acc\xe8s"))),(0,i.mdx)("tbody",{parentName:"table"},(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},"guppy"),(0,i.mdx)("td",{parentName:"tr",align:null},"1")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},"poisson"),(0,i.mdx)("td",{parentName:"tr",align:null},"2")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},"dauphin"),(0,i.mdx)("td",{parentName:"tr",align:null},"3")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},"baleine"),(0,i.mdx)("td",{parentName:"tr",align:null},"4")))),(0,i.mdx)("p",null,"Dans cet exemple, vous devrez cr\xe9er un ",(0,i.mdx)("strong",{parentName:"p"},"acc\xe8s")," pour chaque r\xf4le. Assurez-vous que les r\xf4les guppy, poisson et dauphin ont des acc\xe8s limit\xe9s.\nLe r\xf4le baleine, lui, peut acc\xe9der \xe0 tout ce que les autres peuvent faire : c\u2019est l\u2019administrateur."),(0,i.mdx)("p",null,"Le ",(0,i.mdx)("strong",{parentName:"p"},"contr\xf4le d'acc\xe8s")," consiste \xe0 configurer votre application web pour s'assurer que les utilisateurs ne peuvent acc\xe9der qu'aux donn\xe9es\npermises par leur r\xf4le."),(0,i.mdx)("p",null,"L'authentification valide une identit\xe9, comme un nom d'utilisateur et un mot de passe. Une fois authentifi\xe9, vous pourrez acc\xe9der \xe0 certaines\npages. Si les contr\xf4les d\u2019acc\xe8s ne sont pas verrouill\xe9s, vous pourrez acc\xe9der \xe0 des pages et \xe0 des fonctionnalit\xe9s auxquelles vous n'\xeates\nnormalement pas autoris\xe9 \xe0 acc\xe9der, parfois sans le savoir."),(0,i.mdx)("h3",{id:"d\xe9couvrez-les-attaques-contre-le-contr\xf4le-dacc\xe8s"},"D\xe9couvrez les attaques contre le contr\xf4le d'acc\xe8s"),(0,i.mdx)("h4",{id:"appr\xe9hendez-larestriction-url"},"Appr\xe9hendez la\xa0restriction URL"),(0,i.mdx)("p",null,"Les attaques courantes contre le contr\xf4le d'acc\xe8s se produisent lorsqu'une ",(0,i.mdx)("strong",{parentName:"p"},"URL")," permet de ",(0,i.mdx)("strong",{parentName:"p"},"contourner l'authentification"),". Les pirates\ninformatiques utilisent la connaissance des formats et des mod\xe8les pour deviner l'URL des pages privil\xe9gi\xe9es qui n'ont pas \xe9t\xe9 configur\xe9es de\nmani\xe8re s\xe9curis\xe9e. Pour se prot\xe9ger contre ce type d'attaque, il est possible de mettre en place une ",(0,i.mdx)("strong",{parentName:"p"},"restriction URL"),"."),(0,i.mdx)("p",null,"Prenons le cas d\u2019une attaque utilisant les r\xf4les que nous avons d\xe9finis pr\xe9c\xe9demment."),(0,i.mdx)("p",null,"Un utilisateur du groupe guppy se connecte, et le lien de la page principale ressemble \xe0 ceci :"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-text"},"https://webdevfightshacker.bla/guppy_login.html\n")),(0,i.mdx)("p",null,"Vous remarquerez qu\u2019il y a une structure d\xe9finie. La page de login ",(0,i.mdx)("inlineCode",{parentName:"p"},"guppy_login.html"),"\xa0est d\xe9finie comme page principale."),(0,i.mdx)("p",null,"Un attaquant pourra par exemple \xeatre en mesure de deviner la page d\u2019authentification d\u2019un autre r\xf4le en devinant les pages des autres groupes\n(",(0,i.mdx)("inlineCode",{parentName:"p"},"poisson_login.html"),", par exemple)."),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-text"},"https://webdevfightshacker.bla/whale_login.html\n")),(0,i.mdx)("h4",{id:"comprenez-les-r\xe9f\xe9rences-directes-dobjets-non-s\xe9curis\xe9es-idor"},"Comprenez les r\xe9f\xe9rences directes d'objets non s\xe9curis\xe9es (IDOR)"),(0,i.mdx)("p",null,"Un utilisateur malveillant dispose de techniques pour acc\xe9der \xe0 une grande partie du code d'une application web. Une partie de ce code peut\nr\xe9v\xe9ler ",(0,i.mdx)("strong",{parentName:"p"},"comment une base de donn\xe9es est organis\xe9e"),". Le fait de fournir quelques informations sur la structure de l\u2019application web peut\npermettre \xe0 un utilisateur non autoris\xe9 d\u2019effectuer des actions malveillantes et de contourner les acc\xe8s pr\xe9d\xe9finis."),(0,i.mdx)("p",null,"Par exemple, si vous acc\xe9dez \xe0 votre compte sur un site et que vous \xeates sur la page principale, vous remarquez que l'",(0,i.mdx)("strong",{parentName:"p"},"adresse URL")," ressemble\n\xe0 ceci :"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-text"},"https://webdevfightshacker.bla/index.php/view?account=3453\n")),(0,i.mdx)("p",null,"Ici le ",(0,i.mdx)("strong",{parentName:"p"},"num\xe9ro 3453")," correspond a\xa0un\xa0nombre dans la base de donn\xe9es. Une personne malveillante pourrait ici modifier ce nombre pour acc\xe9der \xe0\nun compte en particulier."),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-text"},"https://webdevfightshacker.bla/index.php/view?account=1\n")),(0,i.mdx)("p",null,"Dans l'exemple ci-dessus, chaque compte est consid\xe9r\xe9 comme un objet. Lorsque vous faites une r\xe9f\xe9rence directe \xe0 cet objet dans l'URL en\najoutant ",(0,i.mdx)("inlineCode",{parentName:"p"},"account=1"),", vous donnez \xe0 l\u2019attaquant un indice sur la fa\xe7on dont votre application web et votre base de donn\xe9es sont configur\xe9es."),(0,i.mdx)("p",null,"Il pourra ainsi exploiter ces faiblesses pour acc\xe9der \xe0 certaines parties non autoris\xe9es de l'application."),(0,i.mdx)("h4",{id:"d\xe9couvrez-lattaque-null-byte-octet-nul"},"D\xe9couvrez l'attaque null byte (octet nul)"),(0,i.mdx)("p",null,"Une ",(0,i.mdx)("strong",{parentName:"p"},"attaque d'octet nul")," tire parti des ",(0,i.mdx)("strong",{parentName:"p"},"r\xe9f\xe9rences de l'objet"),". Les noms de page par d\xe9faut peuvent \xeatre bas\xe9s sur la configuration du\n",(0,i.mdx)("strong",{parentName:"p"},"mod\xe8le, de la vue")," et du ",(0,i.mdx)("strong",{parentName:"p"},"contr\xf4leur (MVC)")," que beaucoup d'applications web utilisent."),(0,i.mdx)("p",null,"Cela permet \xe0 un attaquant d'utiliser ces connaissances pour extraire une partie du code source de votre page !"),(0,i.mdx)("p",null,"Regardons un site web avec un lien de menu intitul\xe9\xa0",(0,i.mdx)("inlineCode",{parentName:"p"},"About_us.htm"),". Ceci montre que toutes les pages se terminent par ",(0,i.mdx)("inlineCode",{parentName:"p"},".htm"),"\xa0ou similaire."),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-text"},"webdevfightshacker.bla/fight/default.aspx?content=about_us.htm\n")),(0,i.mdx)("p",null,"L\u2019attaquant sait aussi que le fichier\xa0",(0,i.mdx)("em",{parentName:"p"},(0,i.mdx)("inlineCode",{parentName:"em"},"default.aspx.cs"))," est la page principale, et veut y jeter un coup d\u2019\u0153il pour plus d'informations."),(0,i.mdx)("p",null,"Un ",(0,i.mdx)("strong",{parentName:"p"},"octet nul (./)")," fait croire au navigateur que l'URL est compl\xe8te. La cha\xeene de caract\xe8res qui suit l'octet nul peut donner \xe0 l\u2019attaquant\nl'occasion de montrer le contenu de n'importe quel fichier."),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-text"},"webdevfightshacker.bla/fight/default.aspx?content=%20./default.aspx.cs%00.htm\n")),(0,i.mdx)("p",null,"Cet exemple montre la page ",(0,i.mdx)("em",{parentName:"p"},(0,i.mdx)("inlineCode",{parentName:"em"},"default.asps.cs.")),". Il sera ici possible d'acc\xe9der \xe0 n'importe quelle page et donc de contourner les contr\xf4les\nd'acc\xe8s mis en place."),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"Les r\xe9f\xe9rences directes d'objet")," peuvent \xe9galement appara\xeetre dans un ",(0,i.mdx)("strong",{parentName:"p"},"code d'erreur"),". L\u2019attaquant peut commencer \xe0 manipuler les entr\xe9es\npour voir quels types d'exceptions et d'erreurs apparaissent et ce qu'elles disent."),(0,i.mdx)("h4",{id:"s\xe9curisez-les-contr\xf4les-dacc\xe8s"},"S\xe9curisez les contr\xf4les d\u2019acc\xe8s"),(0,i.mdx)("ol",null,(0,i.mdx)("li",{parentName:"ol"},"Au lieu de nommer vos pages cibles avec un sens, utilisez un tableau de valeurs cl\xe9s qui font r\xe9f\xe9rence \xe0 vos objets."),(0,i.mdx)("li",{parentName:"ol"},"Modifiez les noms par d\xe9faut de vos pages web."),(0,i.mdx)("li",{parentName:"ol"},"Assurez-vous que toutes les pages ont un contr\xf4le d'authentification."),(0,i.mdx)("li",{parentName:"ol"},"Personnalisez vos exceptions et vos codes d'erreur.")),(0,i.mdx)("h3",{id:"en-r\xe9sum\xe9-4"},"En r\xe9sum\xe9"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},"Les applications web avec authentification ne garantissent pas que toutes les pages sont verrouill\xe9es par contr\xf4le d\u2019acc\xe8s."),(0,i.mdx)("li",{parentName:"ul"},"Les r\xe9f\xe9rences directes aux objets peuvent amener un attaquant \xe0 comprendre les mod\xe8les et la configuration des applications web."),(0,i.mdx)("li",{parentName:"ul"},"N'utilisez pas de noms pr\xe9visibles ou de r\xe9f\xe9rences directes \xe0 la base de donn\xe9es dans l'URL."),(0,i.mdx)("li",{parentName:"ul"},"Pr\xe9venez les attaques d'octets nuls en prot\xe9geant votre code source."),(0,i.mdx)("li",{parentName:"ul"},"Utilisez des r\xe9f\xe9rences d'objet indirectes avec des param\xe8tres et des combinaisons cl\xe9-valeur."),(0,i.mdx)("li",{parentName:"ul"},"Personnalisez vos codes d'erreur pour qu'ils ne r\xe9v\xe8lent pas les attributs de la base de donn\xe9es.")),(0,i.mdx)("p",null,(0,i.mdx)("em",{parentName:"p"},"Dans le prochain chapitre, nous aborderons les failles XSS et comment s\u2019en pr\xe9munir.")),(0,i.mdx)("hr",null),(0,i.mdx)("h2",{id:"stoppez-le-cross-site-scripting-xss"},"Stoppez le cross-site scripting (XSS)"),(0,i.mdx)("p",null,(0,i.mdx)("a",{parentName:"p",href:"https://openclassrooms.com/fr/courses/6179306-securisez-vos-applications-web-avec-lowasp/6520368-stoppez-le-cross-site-scripting-xss"},"Stoppez le cross-site scripting (XSS) - S\xe9curisez vos applications web avec l'OWASP - OpenClassrooms")),(0,i.mdx)(r.fG,{vimeoId:"376329347",mdxType:"Vimeo"}),(0,i.mdx)("br",null),(0,i.mdx)("p",null,"Dans ce chapitre, nous allons aborder les failles de cross-site scripting ou ",(0,i.mdx)("em",{parentName:"p"},"XSS"),"."),(0,i.mdx)("h3",{id:"d\xe9finissez-le-cross-site-scripting-"},"D\xe9finissez le cross-site scripting ?"),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"Les attaques cross-site scripting ou ",(0,i.mdx)("em",{parentName:"strong"},"XSS"))," sont faites pour prendre le contr\xf4le de votre ",(0,i.mdx)("strong",{parentName:"p"},"navigateur"),". Un attaquant qui y parvient aura\npotentiellement acc\xe8s \xe0 vos ",(0,i.mdx)("strong",{parentName:"p"},"cookies")," et \xe0 vos ",(0,i.mdx)("strong",{parentName:"p"},"sessions")," qui peuvent contenir des ",(0,i.mdx)("strong",{parentName:"p"},"donn\xe9es sensibles !")," Ces attaques peuvent \xe9galement\npermettre d\u2019apporter des modifications non autoris\xe9es \xe0 une application web et cr\xe9er des liens qui vous m\xe8neront vers des ",(0,i.mdx)("strong",{parentName:"p"},"sites malveillants !")),(0,i.mdx)("h4",{id:"d\xe9couvrez-les-attaques-utilisant-xss"},"D\xe9couvrez les attaques utilisant XSS"),(0,i.mdx)("p",null,"Avec une attaque XSS, un attaquant va essayer de prendre le contr\xf4le de votre navigateur en injectant un ",(0,i.mdx)("strong",{parentName:"p"},"script JavaScript")," dans\nl'application web. Il pourra l\u2019injecter directement dans un formulaire, mais il peut \xe9galement l\u2019injecter dans l'URL, l'en-t\xeate HTTP ou\nd'autres parties du framework utilis\xe9."),(0,i.mdx)("p",null,"Contrairement aux injections SQL, il ne s'agit pas de requ\xeates et de commandes SQL sur une base de donn\xe9es. ",(0,i.mdx)("strong",{parentName:"p"},"Une faille XSS s\u2019ex\xe9cute dans le\ncode de l'application web.")),(0,i.mdx)("p",null,"Revenons \xe0 la page de connexion avec le nom d'utilisateur et le mot de passe. Au lieu du nom d'utilisateur, le pirate va entrer :"),(0,i.mdx)("p",null,(0,i.mdx)("inlineCode",{parentName:"p"},"<script> I haxx000red you <\/script>")),(0,i.mdx)("p",null,"Sur une page de connexion qui n'est pas s\xe9curis\xe9e, il y aura une bo\xeete de dialogue qui s\u2019affichera. De plus, l'URL qui se trouve maintenant\ndans votre barre d'adresse peut \xeatre utilis\xe9e pour ex\xe9cuter directement ce script. Il est \xe9galement possible d'effectuer la m\xeame attaque avec\nune image, par exemple."),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-javascript"},"<img src oneerror= \u201calert(haaxxxx000red 4ever!)\u201d>\n")),(0,i.mdx)("p",null,"L'URL dans la barre d'adresse apr\xe8s l'ex\xe9cution du script pourrait ressembler \xe0 ceci :"),(0,i.mdx)("p",null,(0,i.mdx)("inlineCode",{parentName:"p"},"webdevfightshacker.bla/index.html?query=<img src + onerror%3Dalert%45%haaxxxx%87\u201d....>")),(0,i.mdx)("p",null,"Notez que le domaine sur l'URL a l'air l\xe9gitime, mais \xe0 la fin de l'URL, on peut voir le script qui a \xe9t\xe9 ajout\xe9. Ce lien peut ex\xe9cuter\xa0du\ncode arbitraire sur le navigateur. Un attaquant pourra transmettre cette URL \xe0 une cible\xa0qui ex\xe9cutera l'",(0,i.mdx)("strong",{parentName:"p"},"attaque XSS dans son environnement"),"."),(0,i.mdx)("div",{className:"admonition admonition-info alert alert--info"},(0,i.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,i.mdx)("h5",{parentName:"div"},(0,i.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,i.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,i.mdx)("div",{parentName:"div",className:"admonition-content"},(0,i.mdx)("p",{parentName:"div"},"Pour en savoir plus sur les attaques XSS, consultez l'aide-m\xe9moire de l'",(0,i.mdx)("a",{parentName:"p",href:"https://www.owasp.org/index.php/XSS_Filter_Evasion_Cheat_Sheet#Basic_XSS_Test_Without_Filter_Evasion"},"OWASP"),"\n(en anglais)."))),(0,i.mdx)("p",null,"Les attaques XSS ciblent \xe9galement les ",(0,i.mdx)("strong",{parentName:"p"},"cookies"),", exposant\xa0leur contenu dans une fen\xeatre pop-up. Par exemple, si vous avez envoy\xe9 une\ndemande de connexion \xe0 un serveur web et qu'il r\xe9pond par un cookie avec vos identifiants en texte clair, un script XSS s'ex\xe9cutera sur votre\nnavigateur et affichera une fen\xeatre pop-up avec vos identifiants qui \xe9taient sur le cookie."),(0,i.mdx)("div",{className:"admonition admonition-note alert alert--secondary"},(0,i.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,i.mdx)("h5",{parentName:"div"},(0,i.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,i.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"?")),(0,i.mdx)("div",{parentName:"div",className:"admonition-content"},(0,i.mdx)("p",{parentName:"div"},"Comment puis-je \xe9viter cette attaque de cookie ?"))),(0,i.mdx)("p",null,"Une option consiste \xe0 ajouter un ",(0,i.mdx)("strong",{parentName:"p"},"flag ",(0,i.mdx)("inlineCode",{parentName:"strong"},"HttpOnly"))," \xe0 vos cookies. Ce flag permet d\u2019emp\xeacher un script d'acc\xe9der aux cookies.\xa0",(0,i.mdx)("strong",{parentName:"p"},(0,i.mdx)("inlineCode",{parentName:"strong"},"HttpOnly")),"\nest un flag \xe0 mettre \xe0\xa0",(0,i.mdx)("inlineCode",{parentName:"p"},"true"),"\xa0dans la plupart des frameworks. Par exemple, Node.js a un module de cookies avec HttpOnly, et un middleware\nappel\xe9 ",(0,i.mdx)("strong",{parentName:"p"},"Helmet"),"."),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"Express PHP")," a une fonction\xa0",(0,i.mdx)("strong",{parentName:"p"},(0,i.mdx)("inlineCode",{parentName:"strong"},"setcookie()")),"\xa0 qui permet de configurer\xa0",(0,i.mdx)("strong",{parentName:"p"},(0,i.mdx)("inlineCode",{parentName:"strong"},"HttpOnly")),"\xa0 comme param\xe8tre, et ",(0,i.mdx)("strong",{parentName:"p"},"ASP.NET")," a l'option\n",(0,i.mdx)("inlineCode",{parentName:"p"},"_CookieHTTpOnly_")," et ",(0,i.mdx)("inlineCode",{parentName:"p"},"_CookieSecure_"),"."),(0,i.mdx)("div",{className:"admonition admonition-caution alert alert--warning"},(0,i.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,i.mdx)("h5",{parentName:"div"},(0,i.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,i.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,i.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"!")),(0,i.mdx)("div",{parentName:"div",className:"admonition-content"},(0,i.mdx)("p",{parentName:"div"},"Attention cependant, l\u2019option HttpOnly peut ne pas fonctionner sur les navigateurs obsol\xe8tes."),(0,i.mdx)("p",{parentName:"div"},"Les attaques XSS sont pass\xe9es de la troisi\xe8me \xe0 la septi\xe8me place du Top Ten de l'OWASP parce que les navigateurs ont renforc\xe9 leur s\xe9curit\xe9,\nrendant ces attaques plus difficiles."))),(0,i.mdx)("h4",{id:"respectez-les-bonnes-pratiques"},"Respectez les bonnes pratiques"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("strong",{parentName:"li"},"Appliquez la validation des donn\xe9es d'entr\xe9e"),"\xa0: pour emp\xeacher les attaques communes, il est possible de blacklister certains caract\xe8res\ncomme les balises script."),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("strong",{parentName:"li"},"Appliquez la transformation des entr\xe9es"),"\xa0: vous pouvez encoder toutes vos entr\xe9es dans une entit\xe9 de caract\xe8res HTML ou du texte pour\nqu'il n'ex\xe9cute aucun script. Il existe des fonctions simples et des biblioth\xe8ques qui peuvent vous aider \xe0 encoder tout votre HTML et\nJavaScript."),(0,i.mdx)("li",{parentName:"ul"},"Configurez vos cookies avec le flag ",(0,i.mdx)("strong",{parentName:"li"},"HttpOnly"),".")),(0,i.mdx)("h3",{id:"d\xe9couvrez-les-vuln\xe9rabilit\xe9s-csrf-cross-site-request-forgery-"},"D\xe9couvrez les vuln\xe9rabilit\xe9s CSRF (Cross-Site Request Forgery) ?"),(0,i.mdx)("p",null,"Un pirate peut cr\xe9er un ",(0,i.mdx)("strong",{parentName:"p"},"lien XSS")," et le distribuer par le biais de l'ing\xe9nierie sociale pour acc\xe9der au navigateur d'un utilisateur."),(0,i.mdx)("div",{className:"admonition admonition-info alert alert--info"},(0,i.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,i.mdx)("h5",{parentName:"div"},(0,i.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,i.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,i.mdx)("div",{parentName:"div",className:"admonition-content"},(0,i.mdx)("p",{parentName:"div"},"L\u2019ing\xe9nierie sociale est un type d\u2019attaque ne reposant pas sur une faille technique."))),(0,i.mdx)("p",null,"Si l'utilisateur clique sur le lien alors qu'une session est encore ouverte sur sa banque, le pirate peut ",(0,i.mdx)("strong",{parentName:"p"},"d\xe9tourner un jeton de session"),"\ndans le navigateur (en temps r\xe9el) pour acc\xe9der \xe0 cette session."),(0,i.mdx)("p",null,"Ces requ\xeates peuvent \xe9galement rester inactives jusqu'\xe0 ce que l'utilisateur ait cr\xe9\xe9 une session sur son navigateur. Regardons l\u2019exemple\nci-dessous :"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-xss"},"GET http://bank.com/transfer.do?acct=BOB&amount=100 HTTP/1.1\n")),(0,i.mdx)("p",null,"Dans notre exemple, ce lien XSS est un formulaire de demande GET, mais il pourrait aussi bien s'agir d'un formulaire de demande POST. Ce lien\neffectue une ",(0,i.mdx)("strong",{parentName:"p"},"transaction bancaire"),"."),(0,i.mdx)("p",null,"Cette transaction bancaire se produit ",(0,i.mdx)("strong",{parentName:"p"},"\xe0 l'insu de")," l'utilisateur qui peut ou non r\xe9aliser que le navigateur a toujours la session bancaire\nouverte."),(0,i.mdx)("h4",{id:"prot\xe9gezvotre-application-contre-une-faille-csrf-"},"Prot\xe9gez\xa0votre application contre une faille CSRF ?"),(0,i.mdx)("ol",null,(0,i.mdx)("li",{parentName:"ol"},"Exiger la r\xe9authentification pour toutes les demandes des utilisateurs."),(0,i.mdx)("li",{parentName:"ol"},"Utiliser un jeton unique pour chaque demande."),(0,i.mdx)("li",{parentName:"ol"},"Utiliser des jetons anti-falsification qui valident le jeton c\xf4t\xe9 client par rapport au jeton c\xf4t\xe9 serveur web."),(0,i.mdx)("li",{parentName:"ol"},"Effectuer des recherches sur les biblioth\xe8ques CSRF bas\xe9es sur la s\xe9curit\xe9.")),(0,i.mdx)("h3",{id:"en-r\xe9sum\xe9-5"},"En r\xe9sum\xe9"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},"Une faille ",(0,i.mdx)("strong",{parentName:"li"},"cross-site scripting ou XSS")," est un script qui peut \xeatre ex\xe9cut\xe9 dans votre site web."),(0,i.mdx)("li",{parentName:"ul"},"Emp\xeacher une faille XSS avec validation de l'entr\xe9e et un encodage de l'entr\xe9e."),(0,i.mdx)("li",{parentName:"ul"},"Prot\xe9gez vos cookies en activant l'option HttpOnly."),(0,i.mdx)("li",{parentName:"ul"},"Les attaques CSRF peuvent se produire via social engineering."),(0,i.mdx)("li",{parentName:"ul"},"Les attaques CSRF effectuent des transactions \xe0 l'insu de l'utilisateur.")),(0,i.mdx)("p",null,(0,i.mdx)("em",{parentName:"p"},"Dans le prochain chapitre, nous verrons les vuln\xe9rabilit\xe9s XXE et comment s\u2019en pr\xe9munir.")),(0,i.mdx)("hr",null),(0,i.mdx)("h2",{id:"prot\xe9gez-votre-code-contre-les-failles-xxe-et-la-d\xe9s\xe9rialisation-non-s\xe9curis\xe9e"},"Prot\xe9gez votre code contre les failles XXE et la d\xe9s\xe9rialisation non s\xe9curis\xe9e"),(0,i.mdx)("p",null,(0,i.mdx)("a",{parentName:"p",href:"https://openclassrooms.com/fr/courses/6179306-securisez-vos-applications-web-avec-lowasp/6520493-protegez-votre-code-contre-les-failles-xxe-et-la-deserialisation-non-securisee"},"Prot\xe9gez votre code contre les failles XXE et la d\xe9s\xe9rialisation non s\xe9curis\xe9e - S\xe9curisez vos applications web avec l'OWASP - OpenClassrooms")),(0,i.mdx)(r.fG,{vimeoId:"376329047",mdxType:"Vimeo"}),(0,i.mdx)("br",null),(0,i.mdx)("p",null,"Pour s\xe9curiser son code, il est important de respecter les bonnes pratiques de s\xe9curit\xe9 mais aussi d\u2019utiliser des fonctions qui permettent\nd\u2019ajouter des mesures de s\xe9curit\xe9 suppl\xe9mentaires. Dans ce chapitre, nous allons d\xe9finir ce que sont les failles XXE et d\xe9couvrir comment\ns\u2019en pr\xe9munir."),(0,i.mdx)("h3",{id:"d\xe9couvrez-les-xml-external-entities-xxe"},"D\xe9couvrez les XML External Entities (XXE)"),(0,i.mdx)("p",null,"Pour comprendre ce que sont les XXE, il faut d\u2019abord d\xe9finir le langage XML. Le ",(0,i.mdx)("strong",{parentName:"p"},"langage XML (",(0,i.mdx)("em",{parentName:"strong"},"Extensible Markup Language"),")")," a \xe9t\xe9 cr\xe9\xe9 pour\n",(0,i.mdx)("strong",{parentName:"p"},"stocker, partager")," et ",(0,i.mdx)("strong",{parentName:"p"},"transporter des donn\xe9es entre syst\xe8mes"),". Il est ind\xe9pendant de la plateforme et du langage."),(0,i.mdx)("p",null,"XML est utilis\xe9 pour transmettre des donn\xe9es d'une plateforme \xe0 l'autre. Beaucoup d'applications web utilisent XML pour g\xe9rer les donn\xe9es. Il\nressemble \xe0 HTML, mais fonctionne diff\xe9remment car HTML est utilis\xe9 pour pr\xe9senter les donn\xe9es en hypertexte sur un navigateur."),(0,i.mdx)("p",null,"Revenons au ",(0,i.mdx)("strong",{parentName:"p"},"formulaire de connexion")," d'un utilisateur. Ici, vous vous inscrivez sur\xa0un site avec votre nom, votre adresse e-mail et votre\nnum\xe9ro de t\xe9l\xe9phone. Une fois que vous avez appuy\xe9 sur ",(0,i.mdx)("em",{parentName:"p"},"Entr\xe9e"),", les informations que\xa0vous avez tap\xe9es\xa0deviennent des \xe9l\xe9ments sous forme XML."),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-xml"},'<?xml version="1.0" encoding="ISO-8859-1"?>\n<users>\n    <user>\n        <username>Batman</username>\n        <email>batman@superheroes.bla</email>\n        <phone>888-123-4567</phone>\n    </user>\n</users>\n')),(0,i.mdx)("p",null,"En XML, il existe des entit\xe9s internes et externes."),(0,i.mdx)("p",null,"Une ",(0,i.mdx)("strong",{parentName:"p"},"entit\xe9 interne")," est essentiellement une r\xe9f\xe9rence XML \xe0 un objet interne. Le code ci-dessous repr\xe9sente une entit\xe9 interne."),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-xml"},'<!ENTITY superhero "Batman">\n<!ENTITY origin "Gotham City">\n<character>&superhero;&origin;</character>\n')),(0,i.mdx)("p",null,"Une ",(0,i.mdx)("strong",{parentName:"p"},"entit\xe9 externe")," est une r\xe9f\xe9rence XML \xe0 une source externe comme un ",(0,i.mdx)("strong",{parentName:"p"},"chemin de fichier")," ou une ",(0,i.mdx)("strong",{parentName:"p"},"URL"),", des ",(0,i.mdx)("strong",{parentName:"p"},"images"),", des\n",(0,i.mdx)("strong",{parentName:"p"},"r\xe9f\xe9rences de documents")," ou des ",(0,i.mdx)("strong",{parentName:"p"},"liens de fichiers"),". Lorsque cette balise d'entit\xe9 externe est int\xe9gr\xe9e \xe0 une page web, elle sera\ndirectement affich\xe9e depuis son emplacement externe."),(0,i.mdx)("p",null,"Dans l\u2019exemple ci-dessous, la premi\xe8re entit\xe9 externe, le super-h\xe9ros, est une URL r\xe9f\xe9renc\xe9e. La deuxi\xe8me entit\xe9 externe, l'origine, fait\nr\xe9f\xe9rence \xe0 un ",(0,i.mdx)("strong",{parentName:"p"},"chemin de fichier")," sur un syst\xe8me de fichiers Linux. Le contenu du fichier sur ce chemin sera ",(0,i.mdx)("strong",{parentName:"p"},"affich\xe9 sur la page web"),".\nLe mot cl\xe9 ",(0,i.mdx)("strong",{parentName:"p"},"SYSTEM")," inclut le fichier r\xe9f\xe9renc\xe9 dans le document XML."),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-xml"},'<!ENTITY superhero SYSTEM "http://www.batman.bla">\n<!ENTITY origin SYSTEM "file:///usr/batman">\n<character>&superhero;&origin;</character>\n')),(0,i.mdx)("h3",{id:"d\xe9couvrez-le-fonctionnement-dune-attaque-xxe"},"D\xe9couvrez le fonctionnement d'une attaque XXE"),(0,i.mdx)("p",null,"Une attaque XXE ou ",(0,i.mdx)("em",{parentName:"p"},"injection XXE")," est un type d'attaque contre une application qui utilise XML. Cette attaque se produit lorsque l'entr\xe9e XML\ncontenant une r\xe9f\xe9rence \xe0 une entit\xe9 externe est trait\xe9e par un analyseur XML mal configur\xe9. Cette attaque peut entra\xeener la divulgation de\ndonn\xe9es confidentielles, un d\xe9ni de service, une falsification de requ\xeate c\xf4t\xe9 serveur et d'autres impacts sur le syst\xe8me."),(0,i.mdx)("div",{className:"admonition admonition-note alert alert--secondary"},(0,i.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,i.mdx)("h5",{parentName:"div"},(0,i.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,i.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"?")),(0,i.mdx)("div",{parentName:"div",className:"admonition-content"},(0,i.mdx)("p",{parentName:"div"},"Comment un pirate peut-il tirer profit d'une XXE ?"))),(0,i.mdx)("p",null,"Regardons la ligne du code ci-dessous."),(0,i.mdx)("p",null,(0,i.mdx)("inlineCode",{parentName:"p"},'<!ENTITY origin SYSTEM "file:///usr/batman">')),(0,i.mdx)("p",null,"Lorsque cette entit\xe9 est r\xe9f\xe9renc\xe9e, elle ",(0,i.mdx)("strong",{parentName:"p"},"affichera")," le contenu du fichier \xa0",(0,i.mdx)("inlineCode",{parentName:"p"},"/usr/batman.")),(0,i.mdx)("p",null,"Un attaquant peut avoir d\xe9lib\xe9r\xe9ment choisi de placer ce chemin d'acc\xe8s dans le XML pour obtenir un ",(0,i.mdx)("strong",{parentName:"p"},"acc\xe8s non autoris\xe9")," au contenu de ce\nfichier. Cette attaque est une forme d\u2019injection."),(0,i.mdx)("div",{className:"admonition admonition-note alert alert--secondary"},(0,i.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,i.mdx)("h5",{parentName:"div"},(0,i.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,i.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"?")),(0,i.mdx)("div",{parentName:"div",className:"admonition-content"},(0,i.mdx)("p",{parentName:"div"},"Comment fonctionne l'attaque par injection XML ?"))),(0,i.mdx)("p",null,"Pour une page de connexion normale, un d\xe9veloppeur web cr\xe9era une requ\xeate AJAX POST vers une page de connexion qui utilisera un nom XML et un\nmot de passe comme identifiants."),(0,i.mdx)("p",null,"Une requ\xeate POST est cr\xe9\xe9e pour aller \xe0 l'URL ",(0,i.mdx)("inlineCode",{parentName:"p"},"webdevfightshacker.bla/login.html"),"."),(0,i.mdx)("p",null,"Une fois sur la page de connexion, les donn\xe9es XML pr\xe9sentes dans la variable ",(0,i.mdx)("strong",{parentName:"p"},"xmlHero")," rempliront le formulaire Nom et mot de passe."),(0,i.mdx)("p",null,"La demande POST fournit une r\xe9ponse pour indiquer le succ\xe8s ou l'\xe9chec."),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-xml"},'var xmlHero = "\n<hero>\n    <name>Batgirl</name>\n    <password>ilovebatman</password>\n</hero>\u201d;\n$.ajax\n({\n    type: "POST",\n    url: "webdevfightshacker.bla/login.html",\n    data: xmlHero,\n    success: function(response)\n    { console.log(response);\n    }\n});\n')),(0,i.mdx)("p",null,"Le code ci-dessus montre une ",(0,i.mdx)("strong",{parentName:"p"},"requ\xeate POST")," qui ",(0,i.mdx)("strong",{parentName:"p"},"envoie les donn\xe9es XML")," assign\xe9es \xe0 la variable xmlHero."),(0,i.mdx)("p",null,"La page de connexion qui re\xe7oit cette requ\xeate POST utilise ensuite une ",(0,i.mdx)("strong",{parentName:"p"},"fonction d'analyse XML")," pour lire le contenu et l'affecter aux\nvariables qui correspondent au nom d'utilisateur et au mot de passe du formulaire."),(0,i.mdx)("p",null,"Une ",(0,i.mdx)("strong",{parentName:"p"},"injection XXE")," est utilis\xe9e pour lire le contenu d'un fichier et l'afficher sur le navigateur. Imaginons que le pirate soit int\xe9ress\xe9\npar un dossier sp\xe9cial appel\xe9 ",(0,i.mdx)("em",{parentName:"p"},"secretpower")," dans le r\xe9pertoire de ",(0,i.mdx)("em",{parentName:"p"},"Batgirl.")),(0,i.mdx)("p",null,"Le pirate commence \xe0 cr\xe9er une description de type de document pour une entit\xe9 nomm\xe9e ",(0,i.mdx)("em",{parentName:"p"},(0,i.mdx)("inlineCode",{parentName:"em"},"hax"))," et lui donne le chemin du fichier."),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-html"},"<!DOCTYPE hax [<!ELEMENT hax ANY >\n<!ENTITY hax SYSTEM \u201cC:\\Users\\SBatgirl\\Desktop\\secretpower\u201d>>\n")),(0,i.mdx)("p",null,"Ensuite, la variable ",(0,i.mdx)("inlineCode",{parentName:"p"},"hax"),"\xa0est r\xe9f\xe9renc\xe9e comme une entit\xe9 de caract\xe8re externe XML."),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-xml"},'var xmlHero = "\n<hero>\n    <name>&hax;</name>\n    <password>ilovebatman</password>\n</hero>\u201d;\n')),(0,i.mdx)("p",null,"Dans ce cas, l\u2019attaquant sera en mesure de r\xe9cup\xe9rer le mot de passe de Batgirl et d\u2019acc\xe9der \xe0 ses donn\xe9es."),(0,i.mdx)("h3",{id:"prot\xe9gez-votre-code-contre-les-injections-xxe"},"Prot\xe9gez votre code contre les injections XXE"),(0,i.mdx)("p",null,"Il existe un moyen de ",(0,i.mdx)("strong",{parentName:"p"},"d\xe9sactiver")," les entit\xe9s externes dans tous les langages. Il s'agit g\xe9n\xe9ralement d'une balise binaire ",(0,i.mdx)("strong",{parentName:"p"},"vrai/faux"),"."),(0,i.mdx)("p",null,"Par exemple, dans un ",(0,i.mdx)("strong",{parentName:"p"},"analyseur XML PHP"),", le code ressemblerait \xe0 ceci :"),(0,i.mdx)("p",null,(0,i.mdx)("inlineCode",{parentName:"p"},"libxml_disable_entity_loader (true) ;")),(0,i.mdx)("p",null,"Et en ",(0,i.mdx)("strong",{parentName:"p"},"Java")," :"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-java"},'factory.setFeature("http://apache.org/xml/features/disallow-doctype-decl", true);\n')),(0,i.mdx)("p",null,"Il existe d'autres ",(0,i.mdx)("strong",{parentName:"p"},"API d'analyse XML")," qui peuvent avoir des entit\xe9s externes activ\xe9es par d\xe9faut."),(0,i.mdx)("div",{className:"admonition admonition-info alert alert--info"},(0,i.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,i.mdx)("h5",{parentName:"div"},(0,i.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,i.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,i.mdx)("div",{parentName:"div",className:"admonition-content"},(0,i.mdx)("p",{parentName:"div"},"Pour obtenir la liste de ces API, vous pouvez consultez\xa0cette ",(0,i.mdx)("a",{parentName:"p",href:"https://github.com/OWASP/CheatSheetSeries/blob/master/cheatsheets/XML_External_Entity_Prevention_Cheat_Sheet.md"},"page"),"."))),(0,i.mdx)("h3",{id:"d\xe9couvrez-la-d\xe9s\xe9rialisation-non-s\xe9curis\xe9e"},"D\xe9couvrez la d\xe9s\xe9rialisation non s\xe9curis\xe9e"),(0,i.mdx)("p",null,"La\xa0d\xe9s\xe9rialisation non s\xe9curis\xe9e est une vuln\xe9rabilit\xe9 qui se produit lorsque des donn\xe9es non fiables sont utilis\xe9es pour abuser de la logique\nd'une application, causer un d\xe9ni de service (DoS, Deny of Service), ou m\xeame ex\xe9cuter du code arbitraire. Cette vuln\xe9rabilit\xe9 occupe la 8e\nplace du classement OWASP."),(0,i.mdx)("p",null,"Pour comprendre la d\xe9s\xe9rialisation non s\xe9curis\xe9e, il faut d\u2019abord comprendre ce qu\u2019est la s\xe9rialisation."),(0,i.mdx)("p",null,"Pour\xa0cet exemple, nous allons prendre un objet, comme un nom d'utilisateur et un mot de passe, et le mettre dans la base de donn\xe9es. Pour\npouvoir \xeatre stock\xe9, l'objet devra \xeatre converti en flux d'octets pour \xeatre transport\xe9 \xe0 travers le r\xe9seau afin d'acc\xe9der \xe0 la base de donn\xe9es.\nC'est ce qu'on appelle la ",(0,i.mdx)("strong",{parentName:"p"},(0,i.mdx)("em",{parentName:"strong"},"s\xe9rialisation")),". Lorsqu'il y a un appel pour ce m\xeame objet dans la base de donn\xe9es, il doit \xeatre ",(0,i.mdx)("strong",{parentName:"p"},"d\xe9s\xe9rialis\xe9"),"\n(conversion du flux d'octets en objet) avant son utilisation."),(0,i.mdx)("p",null,"Ce ",(0,i.mdx)("strong",{parentName:"p"},"processus de s\xe9rialisation/d\xe9s\xe9rialisation des objets")," ne se produit pas seulement avec les bases de donn\xe9es. Un objet peut changer son\n\xe9tat en un flux d'octets lorsqu'il est stock\xe9 dans un fichier, d'ordinateur \xe0 ordinateur ou en se d\xe9pla\xe7ant sur le r\xe9seau."),(0,i.mdx)("p",null,"Ces objets peuvent \xeatre des cookies, des flux vocaux, des jetons ou des fichiers cache, par exemple."),(0,i.mdx)("p",null,"La ",(0,i.mdx)("strong",{parentName:"p"},"d\xe9s\xe9rialisation non s\xe9curis\xe9e")," est une vuln\xe9rabilit\xe9 qui expose les donn\xe9es \xe0 une attaque ",(0,i.mdx)("strong",{parentName:"p"},"MITM"),"\xa0(homme du milieu), que nous avons vue\npr\xe9c\xe9demment, ou \xe0 une injection de code qui peut changer l'int\xe9grit\xe9 de l'objet quand il est d\xe9s\xe9rialis\xe9."),(0,i.mdx)("div",{className:"admonition admonition-info alert alert--info"},(0,i.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,i.mdx)("h5",{parentName:"div"},(0,i.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,i.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,i.mdx)("div",{parentName:"div",className:"admonition-content"},(0,i.mdx)("p",{parentName:"div"},(0,i.mdx)("strong",{parentName:"p"},"Java")," dispose de biblioth\xe8ques d\xe9di\xe9es \xe0 la s\xe9rialisation et \xe0 la d\xe9s\xe9rialisation. ",(0,i.mdx)("strong",{parentName:"p"},"YAML")," dispose de biblioth\xe8ques d\xe9di\xe9es \xe0 la\ns\xe9rialisation pour diff\xe9rents langages de programmation."))),(0,i.mdx)("p",null,"Par exemple, un cookie avec un identifiant de session et des informations d'identification est envoy\xe9 par le navigateur au serveur web\nex\xe9cutant ",(0,i.mdx)("strong",{parentName:"p"},"Java"),"."),(0,i.mdx)("p",null,"Ce\xa0cookie est s\xe9rialis\xe9 en utilisant la ",(0,i.mdx)("strong",{parentName:"p"},"classe Java OutputStream")," avec un constructeur. \xc0 partir de l\xe0, le code malveillant\xa0peut \xeatre\ninject\xe9 par un attaquant au moment de la s\xe9rialisation."),(0,i.mdx)("p",null,"Le cookie est d\xe9s\xe9rialis\xe9 \xe0 l\u2019aide de la classe ObjectInputStream de Java, sans constructeur. Le constructeur est cr\xe9\xe9 apr\xe8s la cr\xe9ation de\nl'objet. Sans v\xe9rification ni validation des entr\xe9es pendant le processus de d\xe9s\xe9rialisation."),(0,i.mdx)("p",null,"Un attaquant\xa0peut utiliser une classe Java Serializable ou Externalizable car elles sont d\xe9j\xe0 disponibles dans la biblioth\xe8que. Les valeurs\npeuvent \xeatre manipul\xe9es pour cr\xe9er des fonctionnalit\xe9s diff\xe9rentes de celles de l'objet d'origine."),(0,i.mdx)("p",null,"Voici un exemple avec Java :"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-java"},"public class Hacked extends Serializable {\n    private String cmd;\n    private void readObject(ObjectInputStream hackedbinary) {\n        hackedbinary.defaultReadObject();\n        Runtime.getRuntime().exec(cmd);\n    }\n}\n")),(0,i.mdx)("p",null,"Cette classe ",(0,i.mdx)("strong",{parentName:"p"},"Hacked")," cr\xe9e une biblioth\xe8que utilis\xe9e dans le syst\xe8me. La valeur de la variable de classe est appel\xe9e ",(0,i.mdx)("em",{parentName:"p"},"cmd")," (qui correspond \xe0\nl\u2019invite de commande)."),(0,i.mdx)("p",null,"Les m\xe9thodes ",(0,i.mdx)("inlineCode",{parentName:"p"},"readObject() defaultReadObject()"),"\xa0d\xe9s\xe9rialisent le binaire pour co\xefncider avec le processus de s\xe9rialisation au d\xe9but."),(0,i.mdx)("p",null,"Le fichier ",(0,i.mdx)("inlineCode",{parentName:"p"},"Runtime.getRuntime().exec(cmd)"),"\xa0ouvre une invite de commande permettant \xe0 l\u2019attaquant de modifier efficacement la fonctionnalit\xe9\nde l'objet original."),(0,i.mdx)("h4",{id:"pr\xe9venez-la-d\xe9s\xe9rialisation-non-s\xe9curis\xe9e"},"Pr\xe9venez la d\xe9s\xe9rialisation non s\xe9curis\xe9e"),(0,i.mdx)("p",null,"Dans l'exemple ci-dessus, la ",(0,i.mdx)("strong",{parentName:"p"},"classe Java ObjectInputStream")," restreint l'utilisation arbitraire de cette biblioth\xe8que en l'enveloppant dans\nla biblioth\xe8que SerialKiller. La ",(0,i.mdx)("a",{parentName:"p",href:"https://github.com/ikkisoft/SerialKiller"},"biblioth\xe8que Java SerialKiller")," a \xe9t\xe9 cr\xe9\xe9e pour pallier les\nprobl\xe8mes de d\xe9s\xe9rialisation."),(0,i.mdx)("p",null,"Pour emp\xeacher l'acc\xe8s privil\xe9gi\xe9 non autoris\xe9 \xe0 l'aide de l'objet d\xe9s\xe9rialis\xe9, une mesure d\xe9fensive consisterait \xe0 valider les donn\xe9es\nd'entr\xe9e et \xe0 v\xe9rifier la fonctionnalit\xe9 de l'objet."),(0,i.mdx)("h3",{id:"en-r\xe9sum\xe9-6"},"En r\xe9sum\xe9"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("strong",{parentName:"li"},"Des entit\xe9s XML externes")," peuvent \xeatre utilis\xe9es pour r\xe9v\xe9ler des donn\xe9es sensibles, des images et des r\xe9f\xe9rences de documents\nenregistr\xe9es sur un ordinateur."),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("strong",{parentName:"li"},"Les entit\xe9s XML externes")," devraient \xeatre d\xe9sactiv\xe9es."),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("strong",{parentName:"li"},"La d\xe9s\xe9rialisation non s\xe9curis\xe9e")," est la capacit\xe9 d'un attaquant \xe0 changer l'\xe9tat du code pendant sa conversion en binaire."),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("strong",{parentName:"li"},"La d\xe9s\xe9rialisation non s\xe9curis\xe9e")," peut \xeatre \xe9vit\xe9e en cr\xe9ant des contr\xf4les sur l'\xe9tat du code.")),(0,i.mdx)("p",null,(0,i.mdx)("em",{parentName:"p"},"Dans le prochain chapitre, nous aborderons la s\xe9curisation de votre environnement de d\xe9veloppement.")),(0,i.mdx)("hr",null),(0,i.mdx)("h2",{id:"s\xe9curisez-votre-environnement-de-d\xe9veloppement"},"S\xe9curisez votre environnement de d\xe9veloppement"),(0,i.mdx)("p",null,(0,i.mdx)("a",{parentName:"p",href:"https://openclassrooms.com/fr/courses/6179306-securisez-vos-applications-web-avec-lowasp/6520557-securisez-votre-environnement-de-developpement"},"S\xe9curisez votre environnement de d\xe9veloppement - S\xe9curisez vos applications web avec l'OWASP - OpenClassrooms")),(0,i.mdx)(r.fG,{vimeoId:"376329100",mdxType:"Vimeo"}),(0,i.mdx)("br",null),(0,i.mdx)("h3",{id:"faites-face-aux-vuln\xe9rabilit\xe9s-connues"},"Faites face aux vuln\xe9rabilit\xe9s connues"),(0,i.mdx)("p",null,"Il est important de faire des recherches sur les outils de votre environnement de d\xe9veloppement pour \xeatre au courant de toutes les\nvuln\xe9rabilit\xe9s et des m\xe9thodes d'att\xe9nuation. Documentez tous les modules, API et biblioth\xe8ques utilis\xe9s, ainsi que les vuln\xe9rabilit\xe9s connues\nafin de garder une trace des actions effectu\xe9es."),(0,i.mdx)("div",{className:"admonition admonition-note alert alert--secondary"},(0,i.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,i.mdx)("h5",{parentName:"div"},(0,i.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,i.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"?")),(0,i.mdx)("div",{parentName:"div",className:"admonition-content"},(0,i.mdx)("p",{parentName:"div"},"Comment savoir si un des outils\xa0que j'utilise pr\xe9sente une vuln\xe9rabilit\xe9 connue ?"))),(0,i.mdx)("p",null,"Pensez \xe0 consulter les bases de donn\xe9es sur le web. La base de donn\xe9es\xa0",(0,i.mdx)("a",{parentName:"p",href:"https://cve.mitre.org/"},"Common Vulnerabilities and Exposures")," (en\nanglais), cr\xe9\xe9e par le MITRE, est un excellent outil \xe0 utiliser."),(0,i.mdx)("div",{className:"admonition admonition-info alert alert--info"},(0,i.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,i.mdx)("h5",{parentName:"div"},(0,i.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,i.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,i.mdx)("div",{parentName:"div",className:"admonition-content"},(0,i.mdx)("p",{parentName:"div"},"Le MITRE est une organisation \xe0 but non lucratif qui effectue des travaux li\xe9s \xe0 la cybers\xe9curit\xe9."))),(0,i.mdx)("p",null,"Voici quelques conseils pour vous assurer que votre environnement est s\xe9curis\xe9 :"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("strong",{parentName:"li"},"documentez")," les versions de chaque composant de votre application, y compris le firmware de la carte r\xe9seau du serveur ;"),(0,i.mdx)("li",{parentName:"ul"},"examinez vos composants physiques, vos applications, votre syst\xe8me d'exploitation, vos API, vos biblioth\xe8ques et les versions des langages\nutilis\xe9es.")),(0,i.mdx)("h3",{id:"identifiez-votre-environnement-pour-\xe9viter-les-failles-de-s\xe9curit\xe9"},"Identifiez votre environnement pour \xe9viter les failles de s\xe9curit\xe9"),(0,i.mdx)("p",null,"Vous pouvez appliquer toutes\xa0les pratiques de programmation s\xe9curis\xe9e que vous connaissez, mais si vous vous retrouvez avec votre application\nweb dans un ",(0,i.mdx)("strong",{parentName:"p"},"environnement qui n'est pas s\xe9curis\xe9"),", cela peut l'ouvrir \xe0 ",(0,i.mdx)("strong",{parentName:"p"},"d'autres attaques"),"."),(0,i.mdx)("p",null,"Il est tr\xe8s important d'avoir une ",(0,i.mdx)("strong",{parentName:"p"},"bonne configuration de s\xe9curit\xe9")," pour l'environnement qui h\xe9berge votre application web afin d'assurer sa\ndisponibilit\xe9 et son int\xe9grit\xe9. Par ailleurs, il faudra \xe9galement mettre en place des couches de s\xe9curit\xe9 telles qu'un pare-feu (WAF). Ce\npare-feu devra \xeatre configur\xe9 de mani\xe8re optimale pour s'assurer que seuls les ports requis sont ouverts afin de renforcer la s\xe9curit\xe9. Un\noutil comme un SIEM (",(0,i.mdx)("em",{parentName:"p"},"Security information management system)")," peut d\xe9tecter les \xe9v\xe9nements et assurer la gestion de la s\xe9curit\xe9 du serveur."),(0,i.mdx)("p",null,"En dehors du serveur d'application web et du pare-feu, se trouve le ",(0,i.mdx)("strong",{parentName:"p"},"serveur physique")," lui-m\xeame. En r\xe8gle g\xe9n\xe9rale, les services cloud qui\nfournissent cet espace ont d\xe9j\xe0 mis en place des mesures de s\xe9curit\xe9. Assurez-vous que les ",(0,i.mdx)("strong",{parentName:"p"},"normes de conformit\xe9 pour le service cloud"),"\nutilis\xe9es sont conformes aux ",(0,i.mdx)("strong",{parentName:"p"},"exigences de la politique de s\xe9curit\xe9")," de votre application web. La configuration de s\xe9curit\xe9 du serveur\nphysique et du pare-feu pour la plateforme de cloud n\xe9cessitent une configuration stricte."),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"Le contr\xf4le d'acc\xe8s")," pour les composants externes de l'environnement, tels que la plateforme et l'administration du serveur, sont d'autres\nmoyens par lesquels un attaquant peut obtenir un contr\xf4le non autoris\xe9\xa0\xe0 une application web. Ces facteurs doivent \xeatre correctement\nconfigur\xe9s et document\xe9s."),(0,i.mdx)("h3",{id:"s\xe9curisez-votre-environnement"},"S\xe9curisez votre environnement"),(0,i.mdx)("p",null,"Apr\xe8s avoir pris connaissance des composants de votre environnement, vous devez vous assurer que les configurations sont \xe0 la hauteur de la\ns\xe9curit\xe9 requise. La bonne gestion des vuln\xe9rabilit\xe9s est un \xe9l\xe9ment critique pour maintenir la s\xe9curit\xe9 de votre application web."),(0,i.mdx)("p",null,"Prenons un exemple concret."),(0,i.mdx)("p",null,"Supposons que la plateforme sur laquelle est h\xe9berg\xe9e votre application web dispose d'une ",(0,i.mdx)("strong",{parentName:"p"},"console d'administration"),". Votre patron insiste\nsur le fait que la plateforme a la r\xe9putation d'\xeatre s\xe9curis\xe9e et qu'elle utilise un service cloud populaire ! Il vous dit aussi que tout est\nconfigur\xe9 et qu'il vous suffit de param\xe9trer votre application web sur la plateforme. Tout est s\xe9curis\xe9 !"),(0,i.mdx)("p",null,"Le site est ",(0,i.mdx)("strong",{parentName:"p"},"d\xe9tourn\xe9"),", et devinez quoi ? Les pirates avaient un ",(0,i.mdx)("strong",{parentName:"p"},"acc\xe8s complet")," \xe0 votre application web parce qu'ils pouvaient acc\xe9der \xe0\nla ",(0,i.mdx)("strong",{parentName:"p"},"console d'administration"),". Apparemment, certaines des ",(0,i.mdx)("strong",{parentName:"p"},"informations d'identification par d\xe9faut")," n'ont pas \xe9t\xe9 supprim\xe9es, et comme\nces informations d'identification sont d\xe9j\xe0 connues des attaquants, ils attendent que la m\xeame application web apparaisse avec les param\xe8tres\npar d\xe9faut !"),(0,i.mdx)("p",null,"La s\xe9curisation de votre code avec l\u2019OWASP n\u2019a pas d\u2019int\xe9r\xeat si un attaquant a acc\xe8s au code source et peut se connecter directement dans la\nconsole d'administration."),(0,i.mdx)("p",null,"Quelle est la le\xe7on \xe0 tirer ici ? S\xe9curisez toutes vos applications externes !"),(0,i.mdx)("p",null,"Une mauvaise configuration de s\xe9curit\xe9 peut se produire \xe0 n'importe quel niveau, y compris les services r\xe9seau, la plateforme, le serveur web,\nle serveur d'applications, la base de donn\xe9es, les frameworks, le code personnalis\xe9 et les machines virtuelles, conteneurs ou stockage\npr\xe9install\xe9s."),(0,i.mdx)("div",{className:"admonition admonition-info alert alert--info"},(0,i.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,i.mdx)("h5",{parentName:"div"},(0,i.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,i.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,i.mdx)("div",{parentName:"div",className:"admonition-content"},(0,i.mdx)("p",{parentName:"div"},"Vous pouvez en apprendre davantage avec\xa0sur cette page du site de l'",(0,i.mdx)("a",{parentName:"p",href:"https://www.owasp.org/index.php/Top_10-2017_A6-Security_Misconfiguration"},"OWASP"),"\n(en anglais)."))),(0,i.mdx)("p",null,"Pour les ",(0,i.mdx)("strong",{parentName:"p"},"services r\xe9seau"),", vous\xa0allez examiner l'infrastructure de votre serveur web et vous assurer que les meilleures pratiques sont\nutilis\xe9es pour s\xe9curiser vos services. Vous avez des serveurs FTP de base de donn\xe9es ou ",(0,i.mdx)("em",{parentName:"p"},"LDAP")," (Lightweight Directory Access Protocol) qui\npeuvent \xeatre compromis par les mauvaises personnes ! Les syst\xe8mes d'authentification doivent suivre les meilleures pratiques de s\xe9curit\xe9."),(0,i.mdx)("p",null,"Voici quelques bonnes questions \xe0 poser :"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},"Existe-t-il des pare-feux pour toutes les applications et tous les serveurs ?"),(0,i.mdx)("li",{parentName:"ul"},"Est-ce que seuls les ports n\xe9cessaires sont ouverts avec des ensembles de r\xe8gles limit\xe9s ?"),(0,i.mdx)("li",{parentName:"ul"},"Les pare-feux limitent-ils le type de trafic sur les ports ouverts ?"),(0,i.mdx)("li",{parentName:"ul"},"De plus, y a-t-il un processus mis en place pour d\xe9tecter les anomalies dans le trafic web ?")),(0,i.mdx)("p",null,"Le ",(0,i.mdx)("strong",{parentName:"p"},"trafic web")," devrait \xe9galement\xa0\xeatre surveill\xe9 pour d\xe9celer les anomalies. Imaginez si quelqu'un commen\xe7ait \xe0 effectuer des scans de ports\npour rechercher p\xe9riodiquement les ports ouverts. Il y a des outils qui peuvent d\xe9tecter de tels \xe9v\xe9nements pour avertir les administrateurs\nqu'il y a une tentative possible de piratage du site."),(0,i.mdx)("p",null,"Concernant ",(0,i.mdx)("strong",{parentName:"p"},"l'application et la plateforme"),", nous avons parl\xe9 du nom d'utilisateur et des mots de passe par d\xe9faut pour les serveurs, les\napplications et les bases de donn\xe9es. Nous avons \xe9galement pass\xe9 en revue la d\xe9tection et l'enregistrement des \xe9v\xe9nements possibles.\nAssurez-vous qu'ils ne r\xe9v\xe8lent pas les informations de base sur votre site, telles que les noms d'utilisateur, les fichiers, les\nconfigurations IP et les donn\xe9es de base pour l'entreprise et les personnes."),(0,i.mdx)("p",null,"Tous les aspects ",(0,i.mdx)("strong",{parentName:"p"},"administratifs")," tels que les r\xe9pertoires et les fichiers de configuration pour toutes les applications doivent \xeatre\nprot\xe9g\xe9s des regards indiscrets. Prot\xe9gez le code source et la structure des fichiers en vous assurant que le serveur web est verrouill\xe9."),(0,i.mdx)("p",null,"Toutes vos applications sont h\xe9berg\xe9es sur des syst\xe8mes d'exploitation. Assurez-vous que les applications ont un acc\xe8s ",(0,i.mdx)("strong",{parentName:"p"},"minimal")," au syst\xe8me\nd'exploitation, car le piratage du syst\xe8me d'exploitation est un moyen s\xfbr de prendre le contr\xf4le de votre application."),(0,i.mdx)("p",null,"Vous disposez \xe9galement de jetons d'acc\xe8s, de mots de passe d'authentification et de cl\xe9s de chiffrement ! Prot\xe9gez-les \xe9galement."),(0,i.mdx)("p",null,"Enfin, les ",(0,i.mdx)("strong",{parentName:"p"},"exceptions")," et les ",(0,i.mdx)("strong",{parentName:"p"},"codes d'erreur")," en disent long sur votre application, votre code source, le fonctionnement du r\xe9seau, la\nstructure des fichiers de votre base de donn\xe9es, les r\xe9pertoires de fichiers et plus encore. Les attaquants cherchent ce type d'information.\nUne stack trace peut \xeatre utile lorsque vous d\xe9boguez votre application ; cependant, si elle est utilis\xe9e \xe0 des fins malveillantes, la\nquantit\xe9 d'informations qu'elle peut r\xe9v\xe9ler peut \xeatre dangereuse !"),(0,i.mdx)("div",{className:"admonition admonition-info alert alert--info"},(0,i.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,i.mdx)("h5",{parentName:"div"},(0,i.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,i.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,i.mdx)("div",{parentName:"div",className:"admonition-content"},(0,i.mdx)("p",{parentName:"div"},"Une stack trace est la repr\xe9sentation des\xa0piles d'ex\xe9cution\xa0\xe0 un moment donn\xe9 lors de l'ex\xe9cution d'un\xa0programme informatique."))),(0,i.mdx)("h3",{id:"en-r\xe9sum\xe9-7"},"En r\xe9sum\xe9"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},"Lors de la conception d'une application web, \xe9valuez les composants pr\xe9sentant des vuln\xe9rabilit\xe9s connues."),(0,i.mdx)("li",{parentName:"ul"},"Les composants peuvent pr\xe9senter de nouvelles vuln\xe9rabilit\xe9s tout au long du cycle de vie du produit."),(0,i.mdx)("li",{parentName:"ul"},"Patchez toujours les zones pr\xe9sentant de nouvelles vuln\xe9rabilit\xe9s."),(0,i.mdx)("li",{parentName:"ul"},"Votre travail n'est pas termin\xe9 apr\xe8s que vous ayez \xe9crit un code s\xe9curis\xe9."),(0,i.mdx)("li",{parentName:"ul"},"Assurez-vous que les pare-feux et les plateformes sont prot\xe9g\xe9s et configur\xe9s de mani\xe8re \xe0 respecter les bonnes pratiques de s\xe9curit\xe9."),(0,i.mdx)("li",{parentName:"ul"},"Connectez-vous avec les administrateurs de bases de donn\xe9es pour vous assurer que la base de donn\xe9es est s\xe9curis\xe9e.")),(0,i.mdx)("p",null,(0,i.mdx)("em",{parentName:"p"},"Vous \xeates arriv\xe9 au bout de cette partie ! Bravo ! R\xe9alisez le quiz pour valider vos connaissances.")),(0,i.mdx)("hr",null),(0,i.mdx)("h2",{id:"quiz--prot\xe9gez-votre-code-avec-lowasp"},"Quiz : Prot\xe9gez votre code avec l'OWASP"),(0,i.mdx)("p",null,(0,i.mdx)("a",{parentName:"p",href:"https://openclassrooms.com/fr/courses/6179306-securisez-vos-applications-web-avec-lowasp/exercises/3757"},"Prot\xe9gez votre code avec l'OWASP - OpenClassrooms")),(0,i.mdx)("h4",{id:"comp\xe9tences-\xe9valu\xe9es"},"Comp\xe9tences \xe9valu\xe9es"),(0,i.mdx)("i",{class:"bi bi-check2-circle"})," Prot\xe9ger du code avec l'OWASP",(0,i.mdx)("hr",null),(0,i.mdx)("h4",{id:"question-1--choisissez-les-meilleurs-moyens-pour-s\xe9curiser-une-application-web-contre-une-attaque-par-injection-en-utilisant-username--1-ou-1--1"},"Question 1 : Choisissez les meilleurs moyens pour s\xe9curiser une application web contre une attaque par injection en utilisant ",(0,i.mdx)("inlineCode",{parentName:"h4"},"$username = '1' ou '1' = '1'"),"."),(0,i.mdx)("p",null,(0,i.mdx)("em",{parentName:"p"},"Attention, plusieurs r\xe9ponses sont possibles.")),(0,i.mdx)("i",{class:"bi bi-check-square-fill"})," Validation d'entr\xe9e",(0,i.mdx)("br",null),(0,i.mdx)("i",{class:"bi bi-check-square-fill"})," Param\xe9trage des variables",(0,i.mdx)("br",null),(0,i.mdx)("i",{class:"bi bi-check-square-fill"})," Utilisation du mappage relationnel objet (ORM)",(0,i.mdx)("br",null),(0,i.mdx)("i",{class:"bi bi-square"})," Pas d\u2019utilisation d\u2019une base de donn\xe9es SQL",(0,i.mdx)("br",null),(0,i.mdx)("br",null),(0,i.mdx)("p",null,(0,i.mdx)("em",{parentName:"p"},"La validation des entr\xe9es, le param\xe9trage de vos variables et l\u2019ORM sont tous de bons moyens de s\xe9curiser vos formulaires d\u2019entr\xe9e contre\nune attaque par injection. Il n'est pas toujours possible d'\xe9viter d'utiliser une base de donn\xe9es SQL.")),(0,i.mdx)("hr",null),(0,i.mdx)("h4",{id:"question-2--que-peut-potentiellement-faire-lattaque-dinjection-sql-suivante-"},"Question 2 : Que peut potentiellement faire l'attaque d'injection SQL suivante ?"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-sql"},"SELECT * FROM accounts WHERE username='1' or \u20181\u2019=\u20191'; DROP TABLE accounts;\n")),(0,i.mdx)("i",{class:"bi bi-circle"})," Elle\xa0s\xe9lectionne un compte et supprime le reste des comptes",(0,i.mdx)("br",null),(0,i.mdx)("i",{class:"bi bi-record-circle"})," Elle\xa0r\xe9v\xe8le tous les comptes \xe0 l'attaquant et supprime la table des comptes de la base de donn\xe9es",(0,i.mdx)("br",null),(0,i.mdx)("i",{class:"bi bi-circle"})," Elle cr\xe9e une bo\xeete de dialogue qui affiche le premier nom d'utilisateur",(0,i.mdx)("br",null),(0,i.mdx)("i",{class:"bi bi-circle"})," Elle change le langage de la base de donn\xe9es en Java",(0,i.mdx)("br",null),(0,i.mdx)("br",null),(0,i.mdx)("p",null,(0,i.mdx)("em",{parentName:"p"},"La premi\xe8re partie de la requ\xeate s\xe9lectionne tous les comptes avec un nom d'utilisateur et un mot de passe dans la table des comptes. La\ndeuxi\xe8me partie supprime tout ce qui se trouve dans la table des comptes.")),(0,i.mdx)("hr",null),(0,i.mdx)("h4",{id:"question-3--quelle-est-la-meilleure-mani\xe8re-de-s\xe9curiser-un-identifiant-et-un-mot-de-passe-lors-de-leur-transport-vers-une-base-de-donn\xe9es-"},"Question 3 : Quelle est la meilleure mani\xe8re de s\xe9curiser un identifiant et un mot de passe lors de leur transport vers une base de donn\xe9es ?"),(0,i.mdx)("i",{class:"bi bi-circle"})," Les chiffrer sur la page de connexion",(0,i.mdx)("br",null),(0,i.mdx)("i",{class:"bi bi-record-circle"})," Les chiffrer avec HTTPS",(0,i.mdx)("br",null),(0,i.mdx)("i",{class:"bi bi-circle"})," Ils peuvent rester en clair",(0,i.mdx)("br",null),(0,i.mdx)("i",{class:"bi bi-circle"})," Utiliser une proc\xe9dure SQL stock\xe9e",(0,i.mdx)("br",null),(0,i.mdx)("br",null),(0,i.mdx)("p",null,(0,i.mdx)("em",{parentName:"p"},"La meilleure pratique consiste \xe0 utiliser HTTPS dans vos demandes de page de connexion. Une fois que le mot de passe est dans la base de\ndonn\xe9es, chiffrez-le \xe0 l'aide d'un algorithme de hachage sugg\xe9r\xe9.")),(0,i.mdx)("hr",null),(0,i.mdx)("h4",{id:"question-4--quelles-sont-les-meilleures-pratiques-pour-traiter-les-demandes-get-et-post-"},"Question 4 : Quelles sont les meilleures pratiques pour traiter les demandes GET et POST ?"),(0,i.mdx)("p",null,(0,i.mdx)("em",{parentName:"p"},"Attention, plusieurs r\xe9ponses sont possibles.")),(0,i.mdx)("i",{class:"bi bi-check-square-fill"})," Utiliser les requ\xeates GET pour r\xe9cup\xe9rer des informations",(0,i.mdx)("br",null),(0,i.mdx)("i",{class:"bi bi-square"})," Utiliser les requ\xeates GET pour modifier les informations",(0,i.mdx)("br",null),(0,i.mdx)("i",{class:"bi bi-square"})," Utiliser les requ\xeates POST pour r\xe9cup\xe9rer des informations",(0,i.mdx)("br",null),(0,i.mdx)("i",{class:"bi bi-check-square-fill"})," Utilisez les requ\xeates POST pour modifier les informations",(0,i.mdx)("br",null),(0,i.mdx)("br",null),(0,i.mdx)("p",null,(0,i.mdx)("em",{parentName:"p"},"Les requ\xeates GET r\xe9v\xe8lent des informations dans l'URL. Elles doivent donc \xeatre utilis\xe9es pour extraire des informations de la base de donn\xe9es.\nLes demandes POST cachent des informations dans le corps et sont consid\xe9r\xe9es comme plus s\xe9curis\xe9es. Elles doivent \xeatre utilis\xe9s lors de la\nmodification d'informations dans la base de donn\xe9es.")),(0,i.mdx)("hr",null),(0,i.mdx)("h4",{id:"question-5--quelles-m\xe9thodes-peuvent-\xeatre-utilis\xe9es-pour-lanonymisation-par-masquage-des-donn\xe9es-"},"Question 5 : Quelles m\xe9thodes peuvent \xeatre utilis\xe9es pour l'anonymisation par masquage des donn\xe9es ?"),(0,i.mdx)("p",null,(0,i.mdx)("em",{parentName:"p"},"Attention, plusieurs r\xe9ponses sont possibles.")),(0,i.mdx)("i",{class:"bi bi-check-square-fill"})," La suppression de certaines parties de donn\xe9es",(0,i.mdx)("br",null),(0,i.mdx)("i",{class:"bi bi-check-square-fill"})," Le chiffrement des donn\xe9es",(0,i.mdx)("br",null),(0,i.mdx)("i",{class:"bi bi-check-square-fill"})," Le brouillage des donn\xe9es",(0,i.mdx)("br",null),(0,i.mdx)("i",{class:"bi bi-square"})," Le stockages des donn\xe9es en m\xe9moire",(0,i.mdx)("br",null),(0,i.mdx)("br",null),(0,i.mdx)("p",null,(0,i.mdx)("em",{parentName:"p"},"Masquer, chiffrer et brouiller les donn\xe9es sont trois m\xe9thodes de masquage des donn\xe9es utilis\xe9es pour s\xe9curiser les donn\xe9es sensibles.")),(0,i.mdx)("hr",null),(0,i.mdx)("h4",{id:"question-6--quels-sont-les-deux-algorithmes-de-hachage-les-plus-puissants-aujourdhui-"},"Question 6 : Quels sont les deux algorithmes de hachage les plus puissants aujourd\u2019hui ?"),(0,i.mdx)("i",{class:"bi bi-circle"})," SHA1 et MD5",(0,i.mdx)("br",null),(0,i.mdx)("i",{class:"bi bi-record-circle"})," Argon5 et Bcrypt",(0,i.mdx)("br",null),(0,i.mdx)("i",{class:"bi bi-circle"})," TLS et SSL",(0,i.mdx)("br",null),(0,i.mdx)("i",{class:"bi bi-circle"})," Scrypt et PBDFK2",(0,i.mdx)("br",null),(0,i.mdx)("br",null),(0,i.mdx)("p",null,(0,i.mdx)("em",{parentName:"p"},"Argon5, Bcrypt, SHA1, MD5, Scrypt et PBDFK2 sont tous des algorithmes de hachage recommand\xe9s pour s\xe9curiser les donn\xe9es. SHA1 et MD5 sont\ns\xfbrs s'ils sont utilis\xe9s avec des techniques de salage. TLS et SSL sont des protocoles TCP/IP. Les deux algorithmes les plus puissants\naujourd\u2019hui sont Argon5 et Bcrypt.")),(0,i.mdx)("hr",null),(0,i.mdx)("h4",{id:"question-7--quel-est-un-bon-moyen-demp\xeacher-un-attaquant-dapprendre-le-nom-dobjets-dune-base-de-donn\xe9es-et-de-les-utiliser-dans-une-url-"},"Question 7 : Quel est un bon moyen d'emp\xeacher un attaquant d'apprendre le nom d\u2019objets d\u2019une base de donn\xe9es et de les utiliser dans une URL ?"),(0,i.mdx)("i",{class:"bi bi-record-circle"})," Utiliser des paires cl\xe9-valeur au lieu de r\xe9f\xe9rences de page directes avec des noms significatifs",(0,i.mdx)("br",null),(0,i.mdx)("i",{class:"bi bi-circle"})," Num\xe9roter les pages progressivement",(0,i.mdx)("br",null),(0,i.mdx)("i",{class:"bi bi-circle"})," Utiliser les codes d'erreur par d\xe9faut",(0,i.mdx)("br",null),(0,i.mdx)("i",{class:"bi bi-circle"})," Utiliser les noms de page par d\xe9faut dans la structure MVC",(0,i.mdx)("br",null),(0,i.mdx)("br",null),(0,i.mdx)("p",null,(0,i.mdx)("em",{parentName:"p"},"Une pratique recommand\xe9e pour \xe9viter les r\xe9f\xe9rences directes aux objets de la base de donn\xe9es consiste \xe0 utiliser des paires cl\xe9-valeur. La\nnum\xe9rotation incr\xe9mentielle des pages, l\u2019utilisation de codes d\u2019erreur par d\xe9faut et l\u2019utilisation de noms de page par d\xe9faut sont toutes des\npratiques \xe0 \xe9viter.")),(0,i.mdx)("hr",null),(0,i.mdx)("h4",{id:"question-8--que-fait-httponly-pour-les-cookies-"},"Question 8 : Que fait HttpOnly pour les cookies ?"),(0,i.mdx)("i",{class:"bi bi-circle"})," Il active les cookies pour HTTP seulement",(0,i.mdx)("br",null),(0,i.mdx)("i",{class:"bi bi-record-circle"})," Il n'autorise pas les scripts malveillants \xe0 acc\xe9der aux cookies",(0,i.mdx)("br",null),(0,i.mdx)("i",{class:"bi bi-circle"})," Il permet de voler des informations d'identification",(0,i.mdx)("br",null),(0,i.mdx)("i",{class:"bi bi-circle"})," Il d\xe9code les cookies",(0,i.mdx)("br",null),(0,i.mdx)("br",null),(0,i.mdx)("p",null,(0,i.mdx)("em",{parentName:"p"},"Lors de l'utilisation d\u2019HttpOnly, l'application web est prot\xe9g\xe9e contre les scripts malveillants pouvant acc\xe9der aux cookies.")),(0,i.mdx)("hr",null),(0,i.mdx)("h4",{id:"question-9--parmi-les-propositions-suivantes-quels-sont-les-exemples-dentit\xe9s-externes-xml-"},"Question 9 : Parmi les propositions suivantes, quels sont les exemples d'entit\xe9s externes XML ?"),(0,i.mdx)("p",null,(0,i.mdx)("em",{parentName:"p"},"Attention, plusieurs r\xe9ponses sont possibles.")),(0,i.mdx)("i",{class:"bi bi-square"})," Code pour un champ d'alerte",(0,i.mdx)("br",null),(0,i.mdx)("i",{class:"bi bi-check-square-fill"})," Images",(0,i.mdx)("br",null),(0,i.mdx)("i",{class:"bi bi-check-square-fill"})," R\xe9f\xe9rences de documents",(0,i.mdx)("br",null),(0,i.mdx)("i",{class:"bi bi-square"})," Dossier qui stocke des biblioth\xe8ques de code",(0,i.mdx)("br",null),(0,i.mdx)("i",{class:"bi bi-check-square-fill"})," Liens de fichiers",(0,i.mdx)("br",null),(0,i.mdx)("br",null),(0,i.mdx)("p",null,(0,i.mdx)("em",{parentName:"p"},"Les entit\xe9s externes XML sont des images, des r\xe9f\xe9rences de documents et des liens de fichiers.")),(0,i.mdx)("hr",null),(0,i.mdx)("h4",{id:"question-10--quest-ce-que-la-d\xe9s\xe9rialisation-non-s\xe9curis\xe9e-"},"Question 10 : Qu\u2019est-ce que la d\xe9s\xe9rialisation non s\xe9curis\xe9e ?"),(0,i.mdx)("i",{class:"bi bi-record-circle"})," Un attaquant qui modifie le code en cours de d\xe9s\xe9rialisation",(0,i.mdx)("br",null),(0,i.mdx)("i",{class:"bi bi-circle"})," Un attaquant qui modifie le code apr\xe8s sa d\xe9s\xe9rialisation",(0,i.mdx)("br",null),(0,i.mdx)("i",{class:"bi bi-circle"})," Un attaquant qui modifie le code de Java en bytecode Java",(0,i.mdx)("br",null),(0,i.mdx)("br",null),(0,i.mdx)("p",null,(0,i.mdx)("em",{parentName:"p"},"La d\xe9s\xe9rialisation non s\xe9curis\xe9e est une attaque qui se produit pendant le processus de s\xe9rialisation. Le code est modifi\xe9 lorsqu'il est\nconverti en binaire, puis ex\xe9cut\xe9 lorsqu'il est d\xe9s\xe9rialis\xe9 \xe0 son \xe9tat d'origine.")),(0,i.mdx)("hr",null),(0,i.mdx)("h4",{id:"question-11--en-plus-des-r\xe8gles-de-lowasp-quelles-autres-couches-de-s\xe9curit\xe9-peuvent-aider-\xe0-prot\xe9ger-votre-application-web-"},"Question 11 : En plus des r\xe8gles de l\u2019OWASP, quelles autres couches de s\xe9curit\xe9 peuvent aider \xe0 prot\xe9ger votre application web ?"),(0,i.mdx)("p",null,(0,i.mdx)("em",{parentName:"p"},"Attention, plusieurs r\xe9ponses sont possibles.")),(0,i.mdx)("i",{class:"bi bi-check-square-fill"})," Un pare-feu de serveur physique",(0,i.mdx)("br",null),(0,i.mdx)("i",{class:"bi bi-check-square-fill"})," Un pare-feu d\u2019application web",(0,i.mdx)("br",null),(0,i.mdx)("i",{class:"bi bi-check-square-fill"})," Des services cloud s\xe9curis\xe9s",(0,i.mdx)("br",null),(0,i.mdx)("i",{class:"bi bi-square"})," Un gardien de s\xe9curit\xe9 \xe0 c\xf4t\xe9 du serveur",(0,i.mdx)("br",null),(0,i.mdx)("br",null),(0,i.mdx)("p",null,(0,i.mdx)("em",{parentName:"p"},"Les pare-feux sur les serveurs physiques, les pare-feux d'applications web et les services de cloud s\xe9curis\xe9s sont tous des composants\nimportants pour la s\xe9curisation d\u2019une application web sur un serveur. Un agent de s\xe9curit\xe9 n'est pas en mesure d'emp\xeacher les attaques de\nr\xe9seau.")),(0,i.mdx)("hr",null),(0,i.mdx)("h4",{id:"question-12--lorsque-vous-encodez-votre-entr\xe9e-pour-la-convertir-en-entit\xe9s-de-texte-et-de-caract\xe8res-il-sagit-de-"},"Question 12 : Lorsque vous encodez votre entr\xe9e pour la convertir en entit\xe9s de texte et de caract\xe8res, il s\u2019agit de :"),(0,i.mdx)("i",{class:"bi bi-circle"})," Un script intersite",(0,i.mdx)("br",null),(0,i.mdx)("i",{class:"bi bi-circle"})," Une validation d'entr\xe9e",(0,i.mdx)("br",null),(0,i.mdx)("i",{class:"bi bi-record-circle"})," Une transformation d'entr\xe9e",(0,i.mdx)("br",null),(0,i.mdx)("i",{class:"bi bi-circle"})," Un \xe9diteur de code",(0,i.mdx)("br",null),(0,i.mdx)("br",null),(0,i.mdx)("p",null,(0,i.mdx)("em",{parentName:"p"},"La transformation d'entr\xe9e consiste \xe0 coder les valeurs d'entr\xe9e pour emp\xeacher un code script\xe9 de s'ex\xe9cuter sur une application web.")))}c.isMDXComponent=!0}}]);