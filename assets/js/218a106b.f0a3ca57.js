"use strict";(self.webpackChunkmon_web_dev_wiki=self.webpackChunkmon_web_dev_wiki||[]).push([[2069],{39941:function(e,n,a){a.r(n),a.d(n,{frontMatter:function(){return l},contentTitle:function(){return d},metadata:function(){return u},toc:function(){return m},default:function(){return c}});var t=a(83117),r=a(80102),s=(a(67294),a(3905)),o=(a(26396),a(58215),a(56222)),i=["components"],l={id:"3-Ecrivez_du_code_propre_et_facile_a_maintenir",title:"\xc9crivez du code propre et facile \xe0 maintenir"},d="\xc9crivez du code propre et facile \xe0 maintenir",u={unversionedId:"OpenClassrooms/Construisez_un_site_e-commerce/Apprenez_a_programmer_avec_JavaScript/3-Ecrivez_du_code_propre_et_facile_a_maintenir",id:"OpenClassrooms/Construisez_un_site_e-commerce/Apprenez_a_programmer_avec_JavaScript/3-Ecrivez_du_code_propre_et_facile_a_maintenir",title:"\xc9crivez du code propre et facile \xe0 maintenir",description:"Travaillez sur les fonctions",source:"@site/docs/OpenClassrooms/5-Construisez_un_site_e-commerce/2-Apprenez_a_programmer_avec_JavaScript/3-Ecrivez_du_code_propre_et_facile_a_maintenir.mdx",sourceDirName:"OpenClassrooms/5-Construisez_un_site_e-commerce/2-Apprenez_a_programmer_avec_JavaScript",slug:"/OpenClassrooms/Construisez_un_site_e-commerce/Apprenez_a_programmer_avec_JavaScript/3-Ecrivez_du_code_propre_et_facile_a_maintenir",permalink:"/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Construisez_un_site_e-commerce/Apprenez_a_programmer_avec_JavaScript/3-Ecrivez_du_code_propre_et_facile_a_maintenir",editUrl:"https://github.com/gylgyl2000/Mon_Web_Dev_Wiki/edit/master/website/docs/OpenClassrooms/5-Construisez_un_site_e-commerce/2-Apprenez_a_programmer_avec_JavaScript/3-Ecrivez_du_code_propre_et_facile_a_maintenir.mdx",tags:[],version:"current",sidebarPosition:3,frontMatter:{id:"3-Ecrivez_du_code_propre_et_facile_a_maintenir",title:"\xc9crivez du code propre et facile \xe0 maintenir"},sidebar:"openClassroomsSidebar",previous:{title:"G\xe9rez la logique d'un programme en JavaScript",permalink:"/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Construisez_un_site_e-commerce/Apprenez_a_programmer_avec_JavaScript/2-Gerez_la_logique_d_un_programme_en_JavaScript"},next:{title:"Retenez les notions du cours",permalink:"/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Construisez_un_site_e-commerce/Apprenez_a_programmer_avec_JavaScript/4-Retenez-les-notions-du-cours"}},m=[{value:"Travaillez sur les fonctions",id:"travaillez-sur-les-fonctions",children:[{value:"Comprenez les fonctions",id:"comprenez-les-fonctions",children:[{value:"Pratiquez la note moyenne",id:"pratiquez-la-note-moyenne",children:[{value:"<em>Calculer une moyenne</em>",id:"calculer-une-moyenne",children:[],level:5},{value:"<em>Parcourir un tableau</em>",id:"parcourir-un-tableau",children:[],level:5},{value:"Solution",id:"solution",children:[],level:5}],level:4}],level:3},{value:"En r\xe9sum\xe9",id:"en-r\xe9sum\xe9",children:[],level:3}],level:2},{value:"D\xe9finissez des m\xe9thodes d&#39;instance et des propri\xe9t\xe9s",id:"d\xe9finissez-des-m\xe9thodes-dinstance-et-des-propri\xe9t\xe9s",children:[{value:"Tirez parti des classes avec des m\xe9thodes d&#39;instance",id:"tirez-parti-des-classes-avec-des-m\xe9thodes-dinstance",children:[{value:"Pratiquez les m\xe9thodes instance",id:"pratiquez-les-m\xe9thodes-instance",children:[{value:"Solution",id:"solution-1",children:[],level:5}],level:4}],level:3},{value:"D\xe9couvrez les m\xe9thodes statiques",id:"d\xe9couvrez-les-m\xe9thodes-statiques",children:[],level:3},{value:"En r\xe9sum\xe9",id:"en-r\xe9sum\xe9-1",children:[],level:3}],level:2},{value:"\xc9crivez des fonctions propres",id:"\xe9crivez-des-fonctions-propres",children:[{value:"Pourquoi la propret\xe9 du code est-elle importante ?",id:"pourquoi-la-propret\xe9-du-code-est-elle-importante-",children:[],level:3},{value:"\xcatre une fonction ou ne pas \xeatre",id:"\xeatre-une-fonction-ou-ne-pas-\xeatre",children:[{value:"Ne vous r\xe9p\xe9tez pas",id:"ne-vous-r\xe9p\xe9tez-pas",children:[],level:4},{value:"Pratiquez le principe DRY",id:"pratiquez-le-principe-dry",children:[],level:4},{value:"Quelqu&#39;un sait-il ce que fait ce truc ?",id:"quelquun-sait-il-ce-que-fait-ce-truc-",children:[],level:4}],level:3},{value:"Laissez des commentaires",id:"laissez-des-commentaires",children:[],level:3},{value:"\xc9crivez du code avec style",id:"\xe9crivez-du-code-avec-style",children:[{value:"Qu&#39;y a-t-il dans un nom ?",id:"quy-a-t-il-dans-un-nom-",children:[{value:"Utilisez les conventions de nommage",id:"utilisez-les-conventions-de-nommage",children:[],level:5},{value:"Choisissez un nom",id:"choisissez-un-nom",children:[],level:5}],level:4},{value:"Mettez en forme votre code",id:"mettez-en-forme-votre-code",children:[],level:4},{value:"Pratiquez l\u2019\xe9criture de code propre",id:"pratiquez-l\xe9criture-de-code-propre",children:[{value:"Correction expliqu\xe9e de l\u2019exercice",id:"correction-expliqu\xe9e-de-lexercice",children:[],level:5},{value:"Code non DRY",id:"code-non-dry",children:[],level:5},{value:"Code mal nomm\xe9",id:"code-mal-nomm\xe9",children:[],level:5},{value:"Code mal mis en forme",id:"code-mal-mis-en-forme",children:[],level:5}],level:4}],level:3},{value:"En r\xe9sum\xe9",id:"en-r\xe9sum\xe9-2",children:[],level:3}],level:2},{value:"Testez qu&#39;une fonction fait ce qu&#39;elle dit",id:"testez-quune-fonction-fait-ce-quelle-dit",children:[{value:"Comprenez l&#39;importance des tests",id:"comprenez-limportance-des-tests",children:[],level:3},{value:"Qu&#39;est-ce que le test?",id:"quest-ce-que-le-test",children:[{value:"Cr\xe9ez des tests unitaires",id:"cr\xe9ez-des-tests-unitaires",children:[],level:4}],level:3},{value:"D\xe9couvrez les tests d&#39;int\xe9gration",id:"d\xe9couvrez-les-tests-dint\xe9gration",children:[],level:3},{value:"Appr\xe9hendez les tests fonctionnels",id:"appr\xe9hendez-les-tests-fonctionnels",children:[{value:"Comment \xe7a se passe dans la pratique ?",id:"comment-\xe7a-se-passe-dans-la-pratique-",children:[],level:4}],level:3},{value:"En r\xe9sum\xe9",id:"en-r\xe9sum\xe9-3",children:[],level:3}],level:2},{value:"D\xe9boguez votre fonction",id:"d\xe9boguez-votre-fonction",children:[{value:"Affichez la console",id:"affichez-la-console",children:[],level:3},{value:"Utilisez des outils pour d\xe9veloppeur",id:"utilisez-des-outils-pour-d\xe9veloppeur",children:[],level:3},{value:"D\xe9boguez avec un canard en plastique",id:"d\xe9boguez-avec-un-canard-en-plastique",children:[],level:3},{value:"Pratiquez les <code>console.log</code>",id:"pratiquez-les-consolelog",children:[{value:"Correction",id:"correction",children:[],level:4},{value:"Conclusion de l\u2019exercice",id:"conclusion-de-lexercice",children:[],level:4}],level:3},{value:"En r\xe9sum\xe9",id:"en-r\xe9sum\xe9-4",children:[],level:3}],level:2},{value:"D\xe9couvrez la r\xe9cursivit\xe9\xa0: l&#39;appel de fonctions \xe0 l&#39;int\xe9rieur d&#39;elles-m\xeames",id:"d\xe9couvrez-la-r\xe9cursivit\xe9-lappel-de-fonctions-\xe0-lint\xe9rieur-delles-m\xeames",children:[{value:"Pratiquez la r\xe9cursivit\xe9",id:"pratiquez-la-r\xe9cursivit\xe9",children:[{value:"Correction",id:"correction-1",children:[],level:5}],level:3},{value:"En r\xe9sum\xe9",id:"en-r\xe9sum\xe9-5",children:[],level:3}],level:2},{value:"R\xe9sum\xe9 de la partie 3",id:"r\xe9sum\xe9-de-la-partie-3",children:[],level:2},{value:"Quiz : Aidez \xe0 cr\xe9er une application de suivi de livres pour les lecteurs !",id:"quiz--aidez-\xe0-cr\xe9er-une-application-de-suivi-de-livres-pour-les-lecteurs-",children:[{value:"Comp\xe9tences \xe9valu\xe9es",id:"comp\xe9tences-\xe9valu\xe9es",children:[],level:4},{value:"Description",id:"description",children:[{value:"Comment compl\xe9ter cette activit\xe9",id:"comment-compl\xe9ter-cette-activit\xe9",children:[],level:5}],level:4},{value:"Votre mission, si vous l&#39;acceptez",id:"votre-mission-si-vous-lacceptez",children:[],level:4},{value:"Question 1 : Lequel des mots suivants appara\xeet dans l&#39;alerte navigateur une fois l&#39;exercice termin\xe9 ?",id:"question-1--lequel-des-mots-suivants-appara\xeet-dans-lalerte-navigateur-une-fois-lexercice-termin\xe9-",children:[],level:4}],level:2}],p={toc:m};function c(e){var n=e.components,a=(0,r.Z)(e,i);return(0,s.mdx)("wrapper",(0,t.Z)({},p,a,{components:n,mdxType:"MDXLayout"}),(0,s.mdx)("h1",{id:"\xe9crivez-du-code-propre-et-facile-\xe0-maintenir"},"\xc9crivez du code propre et facile \xe0 maintenir"),(0,s.mdx)("h2",{id:"travaillez-sur-les-fonctions"},"Travaillez sur les fonctions"),(0,s.mdx)("p",null,(0,s.mdx)("a",{parentName:"p",href:"https://openclassrooms.com/fr/courses/6175841-apprenez-a-programmer-avec-javascript/6279223-travaillez-sur-les-fonctions"},"Travaillez sur les fonctions - Apprenez \xe0 programmer avec JavaScript - OpenClassrooms")),(0,s.mdx)(o.fG,{vimeoId:"528290872",mdxType:"Vimeo"}),(0,s.mdx)("br",null),(0,s.mdx)("p",null,"Dans la deuxi\xe8me partie de ce cours, vous avez d\xe9couvert des notions de base en d\xe9veloppement. Poursuivons avec les fonctions."),(0,s.mdx)("h3",{id:"comprenez-les-fonctions"},"Comprenez les fonctions"),(0,s.mdx)("p",null,"Une ",(0,s.mdx)("strong",{parentName:"p"},"fonction")," est un bloc de code auquel vous attribuez un nom. Quand vous ",(0,s.mdx)("strong",{parentName:"p"},"appelez")," cette fonction, vous ex\xe9cutez le code qu'elle\ncontient. Par exemple, dans les vid\xe9os d'enregistrement d'\xe9crans, vous m'avez vu appeler la fonction ",(0,s.mdx)("inlineCode",{parentName:"p"},"console.log()"),", qui contient du code\npermettant d'imprimer sur la console\xa0mais vous pouvez cr\xe9er n\u2019importe quelle fonction vous m\xeame :"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},"/* On d\xe9finit la fonction */\nfunction afficherDeuxValeurs(valeur1, valeur2) {\n    console.log('Premi\xe8re valeur:' + valeur1);\n    console.log('Deuxi\xe8me valeur:' + valeur2);\n}\n\n/* On ex\xe9cute la fonction */\nafficherDeuxValeurs(12, 'Bonjour');\n\n/* On obtient dans la console\n   > Premi\xe8re valeur:12\n   > Deuxi\xe8me valeur:Bonjour */\n")),(0,s.mdx)("p",null,"Beaucoup de fonctions ont besoin de variables pour effectuer leur travail. Quand vous cr\xe9ez ou ",(0,s.mdx)("strong",{parentName:"p"},"d\xe9clarez")," une fonction, vous indiquez la\nliste des variables dont elle a besoin pour effectuer son travail : vous d\xe9finissez les ",(0,s.mdx)("strong",{parentName:"p"},"param\xe8tres")," de la fonction."),(0,s.mdx)("p",null,"Ensuite, \xe0 l'appel de la fonction, vous lui attribuez des ",(0,s.mdx)("strong",{parentName:"p"},"valeurs")," pour ses param\xe8tres. Les valeurs sont les ",(0,s.mdx)("strong",{parentName:"p"},"arguments")," d'appel."),(0,s.mdx)("p",null,"Enfin, votre fonction peut vous donner un r\xe9sultat : une ",(0,s.mdx)("strong",{parentName:"p"},"valeur de retour"),". Supposons que vous ayez une fonction qui compte le nombre de\nmots dans une cha\xeene :"),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},"le param\xe8tre sera une cha\xeene dont vous allez compter les mots ;"),(0,s.mdx)("li",{parentName:"ul"},"l'argument sera toute cha\xeene attribu\xe9e \xe0 votre fonction quand vous l'appelez ;"),(0,s.mdx)("li",{parentName:"ul"},"la valeur de retour sera le nombre de mots.")),(0,s.mdx)("p",null,"Commen\xe7ons par une fonction tr\xe8s simple qui ajoute des nombres."),(0,s.mdx)("h4",{id:"pratiquez-la-note-moyenne"},"Pratiquez la note moyenne"),(0,s.mdx)("p",null,(0,s.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2021/03/24/16165901356926_A-vous-de-jouer.png",alt:"16165901356926_A-vous-de-jouer.png"})),(0,s.mdx)("p",null,"Rendez-vous sur cet ",(0,s.mdx)("a",{parentName:"p",href:"https://codepen.io/nicolaspatschkowski/pen/jOPKPaO"},"\xe9diteur CodePen"),".\xa0"),(0,s.mdx)("p",null,"Avant de commencer l\u2019exercice, nous allons juste revoir deux notions : le calcul d\u2019une moyenne et comment parcourir un tableau."),(0,s.mdx)("h5",{id:"calculer-une-moyenne"},(0,s.mdx)("em",{parentName:"h5"},"Calculer une moyenne")),(0,s.mdx)("p",null,"Lorsque l\u2019on a un ensemble de valeurs, le calcul de la moyenne se fait en 3 \xe9tapes :"),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},"on fait la somme de toutes les valeurs (qu\u2019on nommera\xa0",(0,s.mdx)("inlineCode",{parentName:"li"},"sommeValeurs"),") ;"),(0,s.mdx)("li",{parentName:"ul"},"on compte le nombre de valeurs que l\u2019on a (qu\u2019on nommera\xa0",(0,s.mdx)("inlineCode",{parentName:"li"},"nombreValeurs"),") ;"),(0,s.mdx)("li",{parentName:"ul"},"on calcule la moyenne en faisant\xa0",(0,s.mdx)("inlineCode",{parentName:"li"},"moyenne = sommeValeurs / nombreValeurs"),".")),(0,s.mdx)("h5",{id:"parcourir-un-tableau"},(0,s.mdx)("em",{parentName:"h5"},"Parcourir un tableau")),(0,s.mdx)("p",null,"Lorsque l\u2019on a un tableau (par exemple ",(0,s.mdx)("inlineCode",{parentName:"p"},"monTableau"),") on utilise la boucle ",(0,s.mdx)("inlineCode",{parentName:"p"},"for of"),"."),(0,s.mdx)("p",null,"Par exemple :"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},"for (let elementDeTableau of monTableau) {\n    console.log(elementDeTableau);\n    /* Affiche chaque \xe9l\xe9ment individuellement */\n}\n")),(0,s.mdx)("p",null,"Vous pouvez manipuler\xa0",(0,s.mdx)("inlineCode",{parentName:"p"},"elementDeTableau"),"\xa0comme bon vous semble (par exemple, l\u2019ajouter dans un autre tableau, l'additionner avec une variable\nglobale, etc.)."),(0,s.mdx)("p",null,"Votre application de streaming permet aux utilisateurs de noter les s\xe9ries sur 5 \xe9toiles. Votre coll\xe8gue a construit le composant pour afficher\nla note moyenne pour chaque s\xe9rie, mais elle a besoin que vous \xe9criviez la fonction qui va calculer cette moyenne."),(0,s.mdx)("p",null,"Elle vous explique que la fonction doit prendre un tableau de nombres comme argument, et retourner un nombre qui correspond \xe0 la note moyenne\ncalcul\xe9e."),(0,s.mdx)("p",null,"Suivez les \xe9tapes suivantes :"),(0,s.mdx)("ol",null,(0,s.mdx)("li",{parentName:"ol"},"Au bon endroit dans la d\xe9claration de fonction, choisissez un nom pour le param\xe8tre de votre fonction. N'oubliez pas, ce sera un tableau de\nnombres.",(0,s.mdx)("br",null),"\nPour calculer une moyenne, on ajoute toutes les valeurs ensemble, puis on divise par le nombre de valeurs."),(0,s.mdx)("li",{parentName:"ol"},"Cr\xe9ez une variable qui stockera la somme de tous les nombres du tableau. Initialisez-la avec la valeur z\xe9ro."),(0,s.mdx)("li",{parentName:"ol"},"Sachant que le param\xe8tre re\xe7u est un tableau de nombres, utilisez une boucle ",(0,s.mdx)("inlineCode",{parentName:"li"},"for")," pour ajouter chaque nombre du tableau \xe0 votre variable\n",(0,s.mdx)("inlineCode",{parentName:"li"},"somme"),"."),(0,s.mdx)("li",{parentName:"ol"},"Cr\xe9ez une constante qui contient le r\xe9sultat de la somme finale divis\xe9e par le nombre de valeurs dans le tableau re\xe7u en argument."),(0,s.mdx)("li",{parentName:"ol"},"Faites en sorte que la fonction retourne le r\xe9sultat final."),(0,s.mdx)("li",{parentName:"ol"},"BONUS : La troisi\xe8me s\xe9rie, ",(0,s.mdx)("em",{parentName:"li"},"Les Insectes de L'Isla Clara"),", n'a pas l'air de fonctionner correctement. En fait, elle n'a pas encore re\xe7u de\nnote, donc le tableau pass\xe9 ne contient aucune valeur.")),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},"const calculateAverageRating = (tableau) => {\n  let nombre = tableau.length;\n  let valeur = 0;\n  for (let i in tableau) {\n    valeur = valeur + tableau[i];\n  }\n  let moyenne = valeur / nombre;\n  return moyenne;\n}\n\nconst tauRatings = [5, 4, 5, 5, 1, 2];\nconst colinRatings = [5, 5, 5, 4, 5];\n\nconst tauAverage = calculateAverageRating(tauRatings); /* 3.7 */\nconst colinAverage = calculateAverageRating(colinRatings); /* 4.8 */\n")),(0,s.mdx)(o.sp,{codePenId:"jOPKPaO",mdxType:"CodePen"}),(0,s.mdx)("h5",{id:"solution"},"Solution"),(0,s.mdx)("p",null,"Vous avez termin\xe9 ? ",(0,s.mdx)("a",{parentName:"p",href:"https://codepen.io/nicolaspatschkowski/pen/MWwxpvg"},"Voici un nouveau CodePen avec une solution")," \xe0 l\u2019exercice."),(0,s.mdx)(o.sp,{codePenId:"MWwxpvg",mdxType:"CodePen"}),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},"const calculateAverageRating = (ratings) => {\n    if(ratings.length === 0) {\n        return 0;\n    }\n    let sum = 0;\n    for (let rating of ratings) {\n        sum += rating;\n    }\n    return sum / ratings.length;\n}\n\nconst tauRatings = [5, 4, 5, 5, 1, 2];\nconst colinRatings = [5, 5, 5, 4, 5];\n\nconst tauAverage = calculateAverageRating(tauRatings);\nconst colinAverage = calculateAverageRating(colinRatings);\n")),(0,s.mdx)("p",null,"Voici quelques explications suppl\xe9mentaires :"),(0,s.mdx)("p",null,"La fonction commence par le code suivant :"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},"if (ratings.length === 0) {\n    return 0;\n}\n")),(0,s.mdx)("p",null,"Explication : on souhaite faire la moyenne des valeurs pr\xe9sentes dans le tableau\xa0",(0,s.mdx)("inlineCode",{parentName:"p"},"ratings"),". Mais dans le cas o\xf9 le tableau est vide, on\nsouhaite retourner la valeur 0. La propri\xe9t\xe9\xa0",(0,s.mdx)("inlineCode",{parentName:"p"},"length"),"\xa0de\xa0",(0,s.mdx)("inlineCode",{parentName:"p"},"ratings"),"\xa0permet donc de conna\xeetre la longueur du tableau et de faire alors une\ncondition en cons\xe9quence."),(0,s.mdx)("p",null,"Ensuite nous avons le code suivant :"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},"let sum = 0;\nfor (let rating of ratings) {\n    sum += rating;\n}\n")),(0,s.mdx)("p",null,"Explication : Ce code a pour objectif de faire la somme de tous les \xe9l\xe9ments du tableau. Pour cela, on cr\xe9e une variable\xa0",(0,s.mdx)("inlineCode",{parentName:"p"},"sum"),"\xa0avec comme\nvaleur initiale 0. Ensuite on parcourt le tableau\xa0",(0,s.mdx)("inlineCode",{parentName:"p"},"ratings"),"\xa0et pour chaque \xe9l\xe9ment on additionne la valeur avec la valeur de\xa0",(0,s.mdx)("inlineCode",{parentName:"p"},"sum"),"\xa0et le\nr\xe9sultat est stock\xe9 dans\xa0",(0,s.mdx)("inlineCode",{parentName:"p"},"sum"),". Une fois l\u2019ensemble de ce code ex\xe9cut\xe9,\xa0",(0,s.mdx)("inlineCode",{parentName:"p"},"sum"),"\xa0contient donc la somme de toutes les valeurs du tableau."),(0,s.mdx)("p",null,"Pour finir, nous avons le code suivant :"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},"return sum / ratings.length;\n")),(0,s.mdx)("p",null,"Explication : Nous disposons maintenant de la variable\xa0",(0,s.mdx)("inlineCode",{parentName:"p"},"sum"),"\xa0qui contient la somme de tous les \xe9l\xe9ments du tableau, et de l\u2019expression\n",(0,s.mdx)("inlineCode",{parentName:"p"},"ratings.length"),"\xa0qui donne le nombre d'\xe9l\xe9ments du tableau. Avec ces \xe9l\xe9ments, nous retournons le calcul de la moyenne."),(0,s.mdx)("h3",{id:"en-r\xe9sum\xe9"},"En r\xe9sum\xe9"),(0,s.mdx)("p",null,"Dans ce chapitre, vous avez appris :"),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},"ce qu'est une fonction, comment en d\xe9clarer une et comment en appeler une ;"),(0,s.mdx)("li",{parentName:"ul"},"ce que sont les param\xe8tres, les arguments et les valeurs de retour ;"),(0,s.mdx)("li",{parentName:"ul"},"\xe0 \xe9crire une fonction qui parcourt un tableau de nombres pour calculer leur moyenne ;")),(0,s.mdx)("p",null,(0,s.mdx)("em",{parentName:"p"},"Dans le chapitre suivant, nous allons nous int\xe9resser \xe0 un type de fonction associ\xe9 \xe0 une classe : les m\xe9thodes.")),(0,s.mdx)("hr",null),(0,s.mdx)("h2",{id:"d\xe9finissez-des-m\xe9thodes-dinstance-et-des-propri\xe9t\xe9s"},"D\xe9finissez des m\xe9thodes d'instance et des propri\xe9t\xe9s"),(0,s.mdx)("p",null,(0,s.mdx)("a",{parentName:"p",href:"https://openclassrooms.com/fr/courses/6175841-apprenez-a-programmer-avec-javascript/6279381-definissez-des-methodes-dinstance-et-des-proprietes"},"D\xe9finissez des m\xe9thodes d'instance et des propri\xe9t\xe9s - Apprenez \xe0 programmer avec JavaScript - OpenClassrooms")),(0,s.mdx)(o.fG,{vimeoId:"528290966",mdxType:"Vimeo"}),(0,s.mdx)("br",null),(0,s.mdx)("p",null,(0,s.mdx)("strong",{parentName:"p"},"Rappel sur la notion de propri\xe9t\xe9 de classe")),(0,s.mdx)("p",null,"Avant d'aborder la notion de m\xe9thode d'instance, sur laquelle nous allons nous concentrer dans ce cours, il est important d\u2019expliquer la notion\nde propri\xe9t\xe9 de classe. C\u2019est une variable interne \xe0 cette classe que l\u2019on peut d\xe9finir par d\xe9faut et faire \xe9voluer au fur et \xe0 mesure de\nl\u2019ex\xe9cution de notre code. Il n\u2019est pas rare d\u2019utiliser le terme \u201cattribut\u201d au lieu de \"propri\xe9t\xe9\", mais cela repr\xe9sente bien la m\xeame chose."),(0,s.mdx)("p",null,"Prenons l\u2019exemple d\u2019une classe qui repr\xe9senterait un compte bancaire, et que l\u2019on appellerait du coup\xa0",(0,s.mdx)("inlineCode",{parentName:"p"},"BankAccount"),". On pourrait trouver comme\npropri\xe9t\xe9s\xa0",(0,s.mdx)("inlineCode",{parentName:"p"},"owner")," (permettant d\u2019identifier le propri\xe9taire du compte) et\xa0",(0,s.mdx)("inlineCode",{parentName:"p"},"balance"),"\xa0(permettant de conna\xeetre le montant disponible sur le\ncompte). Ainsi, lorsque que l\u2019on cr\xe9e une instance de\xa0",(0,s.mdx)("inlineCode",{parentName:"p"},"BankAccount"),"\xa0avec un propri\xe9taire et un montant initial en argument, on pourra exploiter\npar la suite ces propri\xe9t\xe9s pour afficher leurs valeurs, les utiliser pour des calculs, les modifier, etc."),(0,s.mdx)("h3",{id:"tirez-parti-des-classes-avec-des-m\xe9thodes-dinstance"},"Tirez parti des classes avec des m\xe9thodes d'instance"),(0,s.mdx)("p",null,"Si vous revenez au chapitre sur les classes, nous les avons utilis\xe9es pour cr\xe9er des objets ayant certaines propri\xe9t\xe9s. Maintenant que vous avez\ncommenc\xe9 \xe0 d\xe9couvrir les fonctions, vous pouvez ajouter des ",(0,s.mdx)("strong",{parentName:"p"},"m\xe9thodes d'instance")," \xe0 ces classes, pour augmenter leur puissance et leur\nutilit\xe9."),(0,s.mdx)("p",null,"Une m\xe9thode d'instance est une fonction faisant partie d'une classe, et qui agit sur une instance de cette classe. Reprenons notre exemple de\nclasse\xa0",(0,s.mdx)("inlineCode",{parentName:"p"},"BankAccount"),"\xa0(compte bancaire) :"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},"class BankAccount {\n    constructor(owner, balance) {\n        this.owner = owner;\n        this.balance = balance;\n    }\n}\n")),(0,s.mdx)("p",null,"Vous pouvez ensuite cr\xe9er une instance de cette classe appel\xe9e\xa0",(0,s.mdx)("inlineCode",{parentName:"p"},"newAccount"),"\xa0(nouveau compte) :"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},'const newAccount = new BankAccount("Will Alexander", 500);\n')),(0,s.mdx)("div",{className:"admonition admonition-caution alert alert--warning"},(0,s.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,s.mdx)("h5",{parentName:"div"},(0,s.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,s.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,s.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"!")),(0,s.mdx)("div",{parentName:"div",className:"admonition-content"},(0,s.mdx)("p",{parentName:"div"},"N'oubliez pas qu'un objet (une instance d'une classe est un objet) est un type par r\xe9f\xe9rence, donc vous pouvez toujours apporter des\nmodifications \xe0 l'instance de\xa0",(0,s.mdx)("inlineCode",{parentName:"p"},"newAccount"),"\xa0\u2013 la partie ",(0,s.mdx)("em",{parentName:"p"},"constante")," d\xe9signe une ",(0,s.mdx)("strong",{parentName:"p"},"r\xe9f\xe9rence")," \xe0 cette instance."))),(0,s.mdx)("p",null,"Telle quelle, l'instance n'est pas tr\xe8s utile. Vous pourriez afficher son solde \xe0 la console par ",(0,s.mdx)("inlineCode",{parentName:"p"},"newAccount.balance"),", mais si on pensait\nplut\xf4t \xe0 ajouter une mise en forme ? Vous pouvez pour cela ajouter une m\xe9thode \xe0 la classe !"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},'class BankAccount {\n    constructor(owner, balance) {\n        this.owner = owner;\n        this.balance = balance;\n    }\n    showBalance() {\n        console.log("Solde: " + this.balance + " EUR");\n    }\n}\n')),(0,s.mdx)("p",null,"La nouvelle m\xe9thode ci-dessus, d\xe9clar\xe9e par son nom suivi par\xa0(), utilise le mot cl\xe9\xa0",(0,s.mdx)("inlineCode",{parentName:"p"},"this"),"\xa0pour acc\xe9der \xe0 la propri\xe9t\xe9\xa0",(0,s.mdx)("inlineCode",{parentName:"p"},"balance"),"\xa0de l'instance,\net l'afficher sur la console avec une mise en forme suppl\xe9mentaire. Ceci signifie que vous pouvez utiliser la notation dot sur l'instance\n",(0,s.mdx)("inlineCode",{parentName:"p"},"newAccount"),"\xa0pour appeler sa m\xe9thode\xa0",(0,s.mdx)("inlineCode",{parentName:"p"},"showBalance()")," :"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},'const newAccount = new BankAccount("Will Alexander", 500);\n\nnewAccount.showBalance(); /* imprime "Solde: 500 EUR" \xe0 la console */\n')),(0,s.mdx)("p",null,"Vous pouvez aussi ajouter des m\xe9thodes capables de modifier les propri\xe9t\xe9s de l'instance. Dans ce cas, ajoutez les m\xe9thodes\xa0",(0,s.mdx)("inlineCode",{parentName:"p"},"deposit()"),"\xa0(d\xe9p\xf4t)\net\xa0",(0,s.mdx)("inlineCode",{parentName:"p"},"withdraw()"),"\xa0(retrait) \xe0 la classe, en n'oubliant pas que les deux ont besoin d'un param\xe8tre\xa0",(0,s.mdx)("inlineCode",{parentName:"p"},"amount"),"\xa0(montant) (parce que vous devez savoir\ncombien d\xe9poser ou retirer !) :"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},'class BankAccount {\n    constructor(owner, balance) {\n        this.owner = owner;\n        this.balance = balance;\n    }\n    showBalance() {\n        console.log("Solde: " + this.balance + " EUR");\n    }\n    deposit(amount) {\n        console.log("D\xe9p\xf4t de " + amount + " EUR");\n        this.balance += amount;\n        this.showBalance();\n    }\n    withdraw(amount) {\n        if (amount > this.balance) {\n            console.log("Retrait refus\xe9 !");\n        } else {\n            console.log("Retrait de " + amount + " EUR");\n            this.balance -= amount;\n            this.showBalance();\n        }\n    }\n}\n')),(0,s.mdx)("p",null,"La m\xe9thode\xa0",(0,s.mdx)("inlineCode",{parentName:"p"},"deposit()"),"\xa0affiche le montant du d\xe9p\xf4t sur la console, ajoute le montant au solde de l'instance, puis appelle la m\xe9thode\n",(0,s.mdx)("inlineCode",{parentName:"p"},"showBalance()"),"\xa0de l'instance, imprimant ainsi le nouveau solde sur la console."),(0,s.mdx)("div",{className:"admonition admonition-info alert alert--info"},(0,s.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,s.mdx)("h5",{parentName:"div"},(0,s.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,s.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,s.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,s.mdx)("div",{parentName:"div",className:"admonition-content"},(0,s.mdx)("p",{parentName:"div"},"Dans le corps d'une classe, le mot cl\xe9 ",(0,s.mdx)("em",{parentName:"p"},"this")," fait r\xe9f\xe9rence \xe0 l'",(0,s.mdx)("strong",{parentName:"p"},"instance")," cr\xe9\xe9e de la classe. Dans cet exemple, il fait r\xe9f\xe9rence \xe0\n",(0,s.mdx)("inlineCode",{parentName:"p"},"newAccount"),"."))),(0,s.mdx)("p",null,"La m\xe9thode\xa0",(0,s.mdx)("inlineCode",{parentName:"p"},"withdraw()"),"\xa0v\xe9rifie si le montant demand\xe9 est sup\xe9rieur au solde actuel. Si c'est le cas, il refuse le retrait ; sinon, il\nl'autorise, en soustrayant le montant du solde et en affichant le nouveau solde sur la console."),(0,s.mdx)("h4",{id:"pratiquez-les-m\xe9thodes-instance"},"Pratiquez les m\xe9thodes instance"),(0,s.mdx)("p",null,(0,s.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2021/03/24/16165901356926_A-vous-de-jouer.png",alt:"16165901356926_A-vous-de-jouer.png"})),(0,s.mdx)("p",null,"Voyons maintenant comment utiliser des m\xe9thodes d'instance pour enregistrer l'application de diffusion vid\xe9o."),(0,s.mdx)("p",null,"Rendez-vous sur cet ",(0,s.mdx)("a",{parentName:"p",href:"https://codepen.io/nicolaspatschkowski/pen/eYNKJmP"},"\xe9diteur CodePen"),"."),(0,s.mdx)("p",null,'Plut\xf4t que d\'utiliser une fonction pour calculer la note moyenne pour une s\xe9rie, on a d\xe9cid\xe9 que la classe Show (ou "S\xe9rie") devrait g\xe9rer les\nnouvelles notes automatiquement.'),(0,s.mdx)("p",null,"Comme vous pouvez le constater, la classe\xa0",(0,s.mdx)("inlineCode",{parentName:"p"},"Show"),"\xa0contient un ",(0,s.mdx)("inlineCode",{parentName:"p"},"Array\xa0ratings"),", pour les notes, qui est initialis\xe9 vide, et une propri\xe9t\xe9\n",(0,s.mdx)("inlineCode",{parentName:"p"},"averageRating"),"\xa0(note moyenne) de z\xe9ro."),(0,s.mdx)("ol",null,(0,s.mdx)("li",{parentName:"ol"},"D\xe9clarez une m\xe9thode instance dans la classe\xa0",(0,s.mdx)("inlineCode",{parentName:"li"},"Show"),"\xa0appel\xe9e\xa0",(0,s.mdx)("inlineCode",{parentName:"li"},"addRating()"),". Elle prendra une\xa0",(0,s.mdx)("inlineCode",{parentName:"li"},"rating"),"\xa0(la note), qui sera un nombre entre 1\net 5, comme param\xe8tre."),(0,s.mdx)("li",{parentName:"ol"},"La m\xe9thode\xa0",(0,s.mdx)("inlineCode",{parentName:"li"},"addRating()")," doit :    ",(0,s.mdx)("ul",{parentName:"li"},(0,s.mdx)("li",{parentName:"ul"},"ajouter la note re\xe7ue au tableau ",(0,s.mdx)("inlineCode",{parentName:"li"},"ratings"),"\xa0de l'instance ;"),(0,s.mdx)("li",{parentName:"ul"},"recalculer la valeur\xa0",(0,s.mdx)("inlineCode",{parentName:"li"},"averageRating"),"\xa0de l'instance.")))),(0,s.mdx)("p",null,'Cliquez sur le bouton "Check ratings" pour v\xe9rifier si les s\xe9ries se mettent \xe0 jour correctement. Vous pouvez cliquer plusieurs fois sur le\nbouton pour voir l\'\xe9volution des notes moyennes.'),(0,s.mdx)(o.sp,{codePenId:"eYNKJmP",mdxType:"CodePen"}),(0,s.mdx)("h5",{id:"solution-1"},"Solution"),(0,s.mdx)("p",null,(0,s.mdx)("a",{parentName:"p",href:"https://codepen.io/nicolaspatschkowski/pen/poJYedM"},"Voici un nouveau CodePen avec une solution")," \xe0 l\u2019exercice."),(0,s.mdx)(o.sp,{codePenId:"poJYedM",mdxType:"CodePen"}),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},"class Show {\n  constructor(title, numberOfSeasons) {\n    this.title = title;\n    this.numberOfSeasons = numberOfSeasons;\n    this.ratings = [];\n    this.averageRating = 0;\n  }\n\n  addRating(rating) {\n    this.ratings.push(rating);\n    let sum = 0;\n    for (let rating of this.ratings) {\n      sum += rating;\n    }\n\n    this.averageRating = sum / this.ratings.length;\n  }\n}\n")),(0,s.mdx)("h3",{id:"d\xe9couvrez-les-m\xe9thodes-statiques"},"D\xe9couvrez les m\xe9thodes statiques"),(0,s.mdx)("p",null,"Il existe un type sp\xe9cial de m\xe9thode pouvant \xeatre ajout\xe9e \xe0 une classe : la m\xe9thode ",(0,s.mdx)("strong",{parentName:"p"},"statique"),". Elle est diff\xe9rente des m\xe9thodes d'instance\nparce qu'elle n'est ",(0,s.mdx)("strong",{parentName:"p"},"pas")," li\xe9e \xe0 une instance particuli\xe8re d'une classe, mais \xe0 la classe elle-m\xeame. Utilisez-la pour cr\xe9er des ",(0,s.mdx)("strong",{parentName:"p"},"m\xe9thodes\nutilitaires")," (helper en anglais) o\xf9 vous n'aurez pas besoin d'une instance d'une classe pour les utiliser. Vous pourrez vous en servir comme\nbo\xeete \xe0 outils de fonctions que vous utiliserez souvent."),(0,s.mdx)("p",null,"Par exemple, en JavaScript, l'objet\xa0",(0,s.mdx)("inlineCode",{parentName:"p"},"Math"),"\xa0contient beaucoup de m\xe9thodes utiles :"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},"const randomNumber = Math.random();\n/* cr\xe9e un nombre al\xe9atoire sur l'intervalle [0, 1] */\n\nconst roundMeDown = Math.floor(495.966);\n/* arrondit vers le bas \xe0 l'entier le plus proche, renvoie 495 */\n")),(0,s.mdx)("p",null,"Vous n'avez pas besoin de cr\xe9er par\xa0",(0,s.mdx)("inlineCode",{parentName:"p"},"new"),"\xa0une instance de l'objet\xa0",(0,s.mdx)("inlineCode",{parentName:"p"},"Math"),"\xa0pour utiliser ces m\xe9thodes ; il suffit de les appeler sur l'objet\n",(0,s.mdx)("inlineCode",{parentName:"p"},"Math"),"\xa0global."),(0,s.mdx)("p",null,"Ces deux m\xe9thodes ont \xe9t\xe9 utilis\xe9es dans l'exercice pr\xe9c\xe9dent en arri\xe8re-plan, pour cr\xe9er un nombre al\xe9atoire d'\xe9valuations pour les composants\nde la s\xe9rie !"),(0,s.mdx)("p",null,"Vous pouvez cr\xe9er vos propres m\xe9thodes statiques par le mot cl\xe9\xa0",(0,s.mdx)("inlineCode",{parentName:"p"},"static"),"\xa0!"),(0,s.mdx)("p",null,"Observons la classe suivante :"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},'class BePolite {\n    static sayHello() {\n        console.log("Hello!");\n    }\n    static sayHelloTo(name) {\n        console.log("Hello " + name + "!");\n    }\n    static add(firstNumber, secondNumber) {\n        return firstNumber + secondNumber;\n    }\n}\n\nBePolite.sayHello(); /* imprime "Hello!" */\n\nBePolite.sayHelloTo("Will"); /* imprime "Hello Will!" */\n\nconst sum = BePolite.add(2, 3); /* sum = 5 */\n')),(0,s.mdx)("p",null,"Vous n'avez pas besoin d'ajouter un\xa0",(0,s.mdx)("inlineCode",{parentName:"p"},"constructor"),"\xa0\xe0 votre classe, car vous n'allez pas l'instancier. Vous avez une m\xe9thode qui :"),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},"imprime un message g\xe9n\xe9rique ;"),(0,s.mdx)("li",{parentName:"ul"},"accepte un argument et l'utilise pour cr\xe9er un message ;"),(0,s.mdx)("li",{parentName:"ul"},"renvoie une valeur \xe0 partir des arguments que vous lui envoyez.")),(0,s.mdx)("p",null,"Toutes ces fonctionnalit\xe9s pourraient \xeatre des ",(0,s.mdx)("strong",{parentName:"p"},"fonctions"),", mais l'avantage d'utiliser des m\xe9thodes de classe statiques est par exemple de\npouvoir les regrouper par cat\xe9gorie ou par type."),(0,s.mdx)("h3",{id:"en-r\xe9sum\xe9-1"},"En r\xe9sum\xe9"),(0,s.mdx)("p",null,"Dans ce chapitre, nous nous sommes int\xe9ress\xe9s \xe0 deux types de m\xe9thodes de classe :"),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},"les m\xe9thodes d'",(0,s.mdx)("strong",{parentName:"li"},"instance"),", qui agissent sur les instances individuelles d'une classe ;"),(0,s.mdx)("li",{parentName:"ul"},"les m\xe9thodes ",(0,s.mdx)("strong",{parentName:"li"},"statiques"),", qui ne s'appuient pas sur une instance d'une classe.")),(0,s.mdx)("p",null,(0,s.mdx)("em",{parentName:"p"},"Dans le chapitre qui suit, nous allons voir comment \xe9crire des fonctions, et du code propre qui soit facile \xe0 lire, \xe0 maintenir et \xe0 adapter !")),(0,s.mdx)("hr",null),(0,s.mdx)("h2",{id:"\xe9crivez-des-fonctions-propres"},"\xc9crivez des fonctions propres"),(0,s.mdx)("p",null,(0,s.mdx)("a",{parentName:"p",href:"https://openclassrooms.com/fr/courses/6175841-apprenez-a-programmer-avec-javascript/6279785-ecrivez-des-fonctions-propres"},"\xc9crivez des fonctions propres - Apprenez \xe0 programmer avec JavaScript - OpenClassrooms")),(0,s.mdx)(o.fG,{vimeoId:"528291060",mdxType:"Vimeo"}),(0,s.mdx)("br",null),(0,s.mdx)("h3",{id:"pourquoi-la-propret\xe9-du-code-est-elle-importante-"},"Pourquoi la propret\xe9 du code est-elle importante ?"),(0,s.mdx)("p",null,"Avant de plonger dans les m\xe9thodes de codage propre, voyons pourquoi il est important de garder votre code aussi propre que possible."),(0,s.mdx)("figure",null,(0,s.mdx)("img",{src:"https://user.oc-static.com/upload/2021/03/23/16165081788266_image7.jpg",alt:"Photo d'une personne qui code et qui se fait aider par une autre"}),(0,s.mdx)("figcaption",null,"Coder proprement")),(0,s.mdx)("p",null,"Pensez au lieu le plus d\xe9sordonn\xe9 et le moins rang\xe9 de votre domicile. Il peut s'agir d'un tiroir, d'un placard ou m\xeame d'une pi\xe8ce enti\xe8re. \xc0\nquel point est-ce difficile de trouver quelque chose \xe0 cet endroit ? Si vous l'avez r\xe9cemment utilis\xe9, ce n'est peut-\xeatre pas si difficile,\nmais si c'\xe9tait il y a longtemps, les choses peuvent devenir complexes."),(0,s.mdx)("p",null,"C'est la m\xeame chose, ou m\xeame pire, avec le code. Si vous n'y avez pas jet\xe9 un \u0153il depuis quelques mois et que vous ne l'avez pas \xe9crit\nproprement, il peut \xeatre tr\xe8s long de se rappeler ce que fait quelle fonction, et comment les choses s'organisent entre elles."),(0,s.mdx)("p",null,"Imaginez maintenant que vous ayez h\xe9rit\xe9 du tiroir, du placard ou de la chambre mal rang\xe9e de quelqu'un d'autre, qui ne vivrait plus ici. C'est\n\xe0 cela que ressemble le travail sur le code d'une personne qui ne l'a pas maintenu propre !"),(0,s.mdx)("div",{className:"admonition admonition-info alert alert--info"},(0,s.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,s.mdx)("h5",{parentName:"div"},(0,s.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,s.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,s.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,s.mdx)("div",{parentName:"div",className:"admonition-content"},(0,s.mdx)("p",{parentName:"div"},"Proverbe de d\xe9veloppeur : codez toujours comme si la personne qui devra maintenir ce code \xe9tait un psychopathe violent sachant o\xf9 vous vivez."))),(0,s.mdx)("p",null,"Maintenant que vous savez ",(0,s.mdx)("strong",{parentName:"p"},"pourquoi")," vous devez coder proprement, voyons ",(0,s.mdx)("strong",{parentName:"p"},"comment")," faire !"),(0,s.mdx)("h3",{id:"\xeatre-une-fonction-ou-ne-pas-\xeatre"},"\xcatre une fonction ou ne pas \xeatre"),(0,s.mdx)("div",{className:"admonition admonition-note alert alert--secondary"},(0,s.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,s.mdx)("h5",{parentName:"div"},(0,s.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,s.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,s.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"?")),(0,s.mdx)("div",{parentName:"div",className:"admonition-content"},(0,s.mdx)("p",{parentName:"div"},"Quand devrait-on utiliser des fonctions ? Combien faut-il en \xe9crire ? Quelle devrait \xeatre leur longueur ?"))),(0,s.mdx)("p",null,"Jetons un \u0153il \xe0 quelques situations o\xf9 les fonctions contribuent \xe0 la propret\xe9 de votre code."),(0,s.mdx)("h4",{id:"ne-vous-r\xe9p\xe9tez-pas"},"Ne vous r\xe9p\xe9tez pas"),(0,s.mdx)("p",null,"Si vous vous trouvez \xe0 \xe9crire plusieurs fois le m\xeame code, vous devriez probablement le ",(0,s.mdx)("strong",{parentName:"p"},"refactoriser")," dans une ",(0,s.mdx)("strong",{parentName:"p"},"fonction.")),(0,s.mdx)("p",null,"La ",(0,s.mdx)("strong",{parentName:"p"},"refactorisation")," du code consiste \xe0 modifier la ",(0,s.mdx)("strong",{parentName:"p"},"structure")," d'un \xe9l\xe9ment de code sans changer son comportement."),(0,s.mdx)("p",null,"Observons le code suivant :"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},'if (firstUser.online) {\n    if (firstUser.accountType === "normal") {\n        console.log("Hello " + firstUser.name + "!");\n    } else {\n        console.log("Welcome back premium user " + firstUser.name + "!");\n    }\n}\nif (secondUser.online) {\n    if (secondUser.accountType === "normal") {\n        console.log("Hello " + secondUser.name + "!");\n    } else {\n        console.log("Welcome back premium user " + secondUser.name + "!");\n    }\n}\nif (thirdUser.online) {\n    if (thirdUser.accountType === "normal") {\n        console.log("Hello " + thirdUser.name + "!");\n    } else {\n        console.log("Welcome back premium user " + thirdUser.name + "!");\n    }\n}\n')),(0,s.mdx)("p",null,"Nous r\xe9p\xe9tons ici la m\xeame t\xe2che plusieurs fois pour des utilisateurs diff\xe9rents. C'est une bonne occasion de factoriser votre code dans une\nfonction :"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},'const sendWelcomeMessageToUser = (user) => {\n    if (user.online) {\n        if (user.accountType === "normal") {\n            console.log("Hello " + user.name + "!");\n        } else {\n            console.log("Welcome back premium user " + user.name + "!");\n        }\n    }\n}\nsendWelcomeMessageToUser(firstUser);\n\nsendWelcomeMessageToUser(secondUser);\n\nsendWelcomeMessageToUser(thirdUser);\n')),(0,s.mdx)("p",null,"Nous avons cr\xe9\xe9 une fonction\xa0",(0,s.mdx)("inlineCode",{parentName:"p"},"sendWelcomeMessageToUser"),"\xa0(un nom qui exprime clairement ce que fait la fonction) et l'avons appel\xe9e pour chaque\nutilisateur. Dans ce cas, nous avons r\xe9duit la quantit\xe9 de code de 23 lignes \xe0 13, tout en le rendant plus lisible. Gr\xe2ce \xe0 un nom de fonction\ndescriptif, vous pouvez indiquer que nous envoyons un message de bienvenue \xe0 trois utilisateurs."),(0,s.mdx)("p",null,(0,s.mdx)("strong",{parentName:"p"},"DRY")," \u2013 ",(0,s.mdx)("strong",{parentName:"p"},(0,s.mdx)("em",{parentName:"strong"},"D")),(0,s.mdx)("em",{parentName:"p"},"on't")," ",(0,s.mdx)("strong",{parentName:"p"},(0,s.mdx)("em",{parentName:"strong"},"R")),(0,s.mdx)("em",{parentName:"p"},"epeat")," ",(0,s.mdx)("strong",{parentName:"p"},(0,s.mdx)("em",{parentName:"strong"},"Y")),(0,s.mdx)("em",{parentName:"p"},"ourself")," (Ne vous r\xe9p\xe9tez pas) \u2013 est un principe de programmation qui r\xe9duit au minimum la\nr\xe9p\xe9tition du code."),(0,s.mdx)("h4",{id:"pratiquez-le-principe-dry"},"Pratiquez le principe DRY"),(0,s.mdx)("p",null,(0,s.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2021/03/24/16165901356926_A-vous-de-jouer.png",alt:"16165901356926_A-vous-de-jouer.png"})),(0,s.mdx)("p",null,"Voici une activit\xe9 o\xf9 vous devrez trouver o\xf9 le code n\xe9cessite une factorisation, et comment le faire."),(0,s.mdx)("p",null,"Rendez-vous sur cet ",(0,s.mdx)("a",{parentName:"p",href:"https://codepen.io/nicolaspatschkowski/pen/NWqzNrJ"},"\xe9diteur CodePen"),". Ce code importe des s\xe9ries depuis la base de\ndonn\xe9es, en g\xe9n\xe8re les informations pour les composants du site, et les met dans un tableau \xe0 exporter."),(0,s.mdx)("p",null,"Cependant, pour l'instant, le m\xeame code est r\xe9p\xe9t\xe9 pour chaque s\xe9rie. L'endroit parfait pour une fonction !"),(0,s.mdx)("ol",null,(0,s.mdx)("li",{parentName:"ol"},"Cr\xe9ez une fonction qui vous permet de refactoriser ce code, afin de le raccourcir et de le rendre plus lisible."),(0,s.mdx)("li",{parentName:"ol"},"Appelez votre nouvelle fonction pour chaque s\xe9rie pour cr\xe9er le composant correspondant, en passant les arguments appropri\xe9s.")),(0,s.mdx)(o.sp,{codePenId:"NWqzNrJ",mdxType:"CodePen"}),(0,s.mdx)("p",null,(0,s.mdx)("strong",{parentName:"p"},"Solution")),(0,s.mdx)("p",null,"Vous avez termin\xe9 ? Alors ",(0,s.mdx)("a",{parentName:"p",href:"https://codepen.io/nicolaspatschkowski/pen/ExjMWdN"},"voici un nouveau CodePen avec une solution")," \xe0 l\u2019exercice."),(0,s.mdx)(o.sp,{codePenId:"ExjMWdN",mdxType:"CodePen"}),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},"const generateComponent = (show) => {\n  const titleText = show.title;\n  const seasonsText = show.numberOfSeasons + ' seasons';\n  const episodesText = show.episodesPerSeason + ' episodes per season';\n  return {\n    titleText,\n    seasonsText,\n    episodesText\n  };\n}\n\nconst tauComponent = generateComponent(tau);\nconst meldrumComponent = generateComponent(meldrum);\nconst claraComponent = generateComponent(clara);\n\nconst showComponents = [tauComponent, meldrumComponent, claraComponent];\n")),(0,s.mdx)("h4",{id:"quelquun-sait-il-ce-que-fait-ce-truc-"},"Quelqu'un sait-il ce que fait ce truc ?"),(0,s.mdx)("p",null,"Avec des fonctions qui ne font qu'une seule chose (et dont le nom d\xe9crit ce qu'elles font), vous pouvez rendre votre code bien plus propre et\nplus facile \xe0 comprendre :"),(0,s.mdx)("p",null,"Voyons la fonction suivante :"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},'const printStringStats = (stringToTest) => {\n    const wordArray = stringToTest.split(" ");\n    const wordCount = wordArray.length;\n    let letterCount = 0;\n    for (let word of wordArray) {\n        word.replace(/[.,\\/#!$%\\^&\\*;:{}=\\-_`~()]/g, "");\n        letterCount += word.length;\n    }\n    const averageWordLength = parseFloat((letterCount / wordCount).toFixed(2));\n    const stringStats = {\n        wordCount: wordCount,\n        letterCount: letterCount,\n        averageWordLength: averageWordLength\n    };\n    console.log(stringStats);\n}\n')),(0,s.mdx)("p",null,"Bien qu'il y ait un nom descriptif, et que vous puissiez voir qu'il s'agit d'imprimer le nombre de mots, le nombre de lettres et la longueur\nmoyenne des mots d'une cha\xeene, il se passe tellement de choses qu'il est difficile de suivre si vous ne comprenez pas chaque ligne. Cette\nfonction fait trop de choses d'un coup."),(0,s.mdx)("p",null,"Voyons maintenant cette refactorisation :"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},'const getWordCount = (stringToTest) => {\n    const wordArray = stringToTest.split(" ");\n    return wordArray.length;\n}\nconst getLetterCount = (stringToTest) => {\n    const wordArray = stringToTest.split(" ");\n    let totalLetters = 0;\n    for (let word of wordArray) {\n        word.replace(/[.,\\/#!$%\\^&\\*;:{}=\\-_`~()]/g, "");\n        totalLetters += word.length;\n    }\n    return totalLetters;\n}\nconst getAverageWordLength = (stringToTest) => {\n    return parseFloat((getLetterCount(stringToTest) / getWordCount(stringToTest)).toFixed(2));\n}\nconst printStringStats = (stringToTest) => {\n    console.log({\n        wordCount: getWordCount(stringToTest),\n        letterCount: getLetterCount(stringToTest),\n        averageWordLength: getAverageWordLength(stringToTest)\n    })\n}\n')),(0,s.mdx)("p",null,"Bien que cette version soit plus longue, il y a trois fonctions\xa0\u2013 ",(0,s.mdx)("inlineCode",{parentName:"p"},"getWordCount"),"\xa0(qui renvoie le nombre de mots),\xa0",(0,s.mdx)("inlineCode",{parentName:"p"},"getLetterCount"),"\xa0(qui renvoie\nle nombre de lettres) et\xa0",(0,s.mdx)("inlineCode",{parentName:"p"},"getAverageWordLength"),"\xa0(qui renvoie la longueur moyenne des mots)\xa0 \u2013 appel\xe9es par la fonction\xa0",(0,s.mdx)("inlineCode",{parentName:"p"},"printStringStats"),"\xa0(qui\nimprime les statistiques de la cha\xeene de caract\xe8res)."),(0,s.mdx)("p",null,"Vous pouvez ne pas comprendre la complexit\xe9 de chaque fonction, mais vous pouvez bien comprendre ce qui se passe parce qu'",(0,s.mdx)("strong",{parentName:"p"},"elles ne font\nqu'une seule chose"),", mentionn\xe9e dans leur nom. Vous pourriez utiliser les fonctions individuelles sans avoir besoin de savoir ce qui se passe\nsous le capot."),(0,s.mdx)("div",{className:"admonition admonition-info alert alert--info"},(0,s.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,s.mdx)("h5",{parentName:"div"},(0,s.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,s.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,s.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,s.mdx)("div",{parentName:"div",className:"admonition-content"},(0,s.mdx)("p",{parentName:"div"},"\"La premi\xe8re r\xe8gle des fonctions est qu'elles devraient \xeatre petites. La deuxi\xe8me r\xe8gle des fonctions est qu'elles devraient \xeatre encore plus\npetites.\""),(0,s.mdx)("p",{parentName:"div"},"\u2013 ",(0,s.mdx)("em",{parentName:"p"},"Robert C. Martin, Clean Code: A Handbook of Agile Software Craftsmanship")))),(0,s.mdx)("h3",{id:"laissez-des-commentaires"},"Laissez des commentaires"),(0,s.mdx)("p",null,"C'est en apprenant \xe0 laisser des commentaires clairs et coh\xe9rents que vous brillerez en tant que d\xe9veloppeur. N\xe9anmoins, ne commentez pas\nchaque ligne ou fonction. Les commentaires doivent clarifier ce qui n'est pas imm\xe9diatement apparent \xe0 la lecture du code."),(0,s.mdx)("p",null,"Il y a deux types de commentaires \u2013 sur une seule ligne et sur plusieurs lignes \u2013 et chacun a sa place. Ajoutons des commentaires \xe0 notre\nexemple pr\xe9c\xe9dent :"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},"const getWordCount = (stringToTest) => {\n    const wordArray = stringToTest.split(' ');\n    return wordArray.length;\n}\nconst getLetterCount = (stringToTest) => {\n    const wordArray = stringToTest.split(' ');\n    let totalLetters = 0;\n    for (let word of wordArray) {\n        /* retire la ponctuation pour ne compter que les lettres */\n        word.replace(/[.,\\/#!$%\\^&\\*;:{}=\\-_`~()]/g, \"\");\n        totalLetters += word.length;\n    }\n    return totalLetters;\n}\n/* renvoie la longueur moyenne des mots\n** arrondie \xe0 deux chiffres apr\xe8s la virgule */\nconst getAverageWordLength = (stringToTest) => {\n    return parseFloat((getLetterCount(stringToTest) / getWordCount(stringToTest)).toFixed(2));\n}\nconst printStringStats = (stringToTest) => {\n    console.log({\n        wordCount: getWordCount(stringToTest),\n        letterCount: getLetterCount(stringToTest),\n        averageWordLength: getAverageWordLength(stringToTest)\n    })\n}\n")),(0,s.mdx)("p",null,"Comme vous pouvez le voir, toutes les fonctions ou lignes n'ont pas de commentaire :"),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},"le commentaire sur une seule ligne explique la raison de l'appel, d'apparence complexe, \xe0\xa0",(0,s.mdx)("inlineCode",{parentName:"li"},"replace"),"\xa0;"),(0,s.mdx)("li",{parentName:"ul"},"le commentaire sur plusieurs lignes explique que la longueur moyenne du mot sera renvoy\xe9e \xe0 2 d\xe9cimales pr\xe8s, car ce n'est pas imm\xe9diatement\napparent.")),(0,s.mdx)("p",null,"Laisser juste le nombre correct de commentaires est une forme d'art, mais vous y arriverez en pratiquant ! Assurez-vous donc de commenter\nvotre code !"),(0,s.mdx)("h3",{id:"\xe9crivez-du-code-avec-style"},"\xc9crivez du code avec style"),(0,s.mdx)("p",null,"Adopter un style ",(0,s.mdx)("strong",{parentName:"p"},"coh\xe9rent")," est n\xe9cessaire pour que le code reste propre, et bien qu'il n'y ait pas de ",(0,s.mdx)("strong",{parentName:"p"},"bonne fa\xe7on")," absolue de faire les\nchoses, il y a un certain nombre de conventions qui peuvent vous faciliter la vie."),(0,s.mdx)("h4",{id:"quy-a-t-il-dans-un-nom-"},"Qu'y a-t-il dans un nom ?"),(0,s.mdx)("h5",{id:"utilisez-les-conventions-de-nommage"},"Utilisez les conventions de nommage"),(0,s.mdx)("p",null,"Comme vous l'avez vu jusqu'\xe0 pr\xe9sent, les noms de variable et de fonction dans JavaScript sont g\xe9n\xe9ralement \xe9crits en \"camel case\" minuscule\n(",(0,s.mdx)("inlineCode",{parentName:"p"},"getWordCount"),",\xa0",(0,s.mdx)("inlineCode",{parentName:"p"},"numberOfCats"),'), alors que les noms de classe sont \xe9crits en "camel case" majuscule (',(0,s.mdx)("inlineCode",{parentName:"p"},"PremiumAccount"),",\xa0",(0,s.mdx)("inlineCode",{parentName:"p"},"SpecialGuest"),"). Vous\nn'\xeates pas oblig\xe9 d'utiliser cette convention ; n\xe9anmoins, elle facilite la lecture de votre code car elle est respect\xe9e par la grande\nmajorit\xe9 des d\xe9veloppeurs."),(0,s.mdx)("h5",{id:"choisissez-un-nom"},"Choisissez un nom"),(0,s.mdx)("div",{className:"admonition admonition-info alert alert--info"},(0,s.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,s.mdx)("h5",{parentName:"div"},(0,s.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,s.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,s.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,s.mdx)("div",{parentName:"div",className:"admonition-content"},(0,s.mdx)("p",{parentName:"div"},'"Vous devriez choisir un nom de variable avec le m\xeame soin que pour votre premier enfant."'),(0,s.mdx)("p",{parentName:"div"},"\u2013 ",(0,s.mdx)("em",{parentName:"p"},"Robert C. Martin, Clean Code: A Handbook of Agile Software Craftsmanship")))),(0,s.mdx)("p",null,"Des noms clairs et descriptifs pour les variables et les fonctions sont plus faciles \xe0 lire que des noms raccourcis, obscurs ou al\xe9atoires.\nVoyez par exemple la fonction :"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},"const lc = (s) => {\n    const w = s.split(' ');\n    let l = 0;\n    for (let wel of w) {\n        wel.replace(/[.,\\/#!$%\\^&\\*;:{}=\\-_`~()]/g, \"\");\n        l += wel.length;\n    }\n    return l;\n}\n")),(0,s.mdx)("p",null,"Cette fonction fait parfaitement ce qu'elle est cens\xe9e faire. Mais que fait-elle ?"),(0,s.mdx)("p",null,"100 points si vous l'avez reconnue comme la fonction de comptage de lettres de notre exemple pr\xe9c\xe9dent !"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},"const getLetterCount = (stringToTest) => {\n    const wordArray = stringToTest.split(' ');\n    let totalLetters = 0;\n    for (let word of wordArray) {\n        /* retire la ponctuation pour ne compter que les lettres */\n        word.replace(/[.,\\/#!$%\\^&\\*;:{}=\\-_`~()]/g, \"\");\n        totalLetters += word.length;\n    }\n    return totalLetters;\n}\n")),(0,s.mdx)("p",null,"Choisissez vos noms avec attention, et votre code sera clair et facile \xe0 lire (et vous n'aurez plus \xe0 \xe9crire autant de commentaires !)."),(0,s.mdx)("h4",{id:"mettez-en-forme-votre-code"},"Mettez en forme votre code"),(0,s.mdx)("p",null,"Le terme ",(0,s.mdx)("strong",{parentName:"p"},(0,s.mdx)("em",{parentName:"strong"},"mise en forme du code"))," recouvre beaucoup de domaines ; en voici quelques-uns :"),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)("strong",{parentName:"li"},"mise en retrait"),(0,s.mdx)("br",null),"\nTabulations ou espaces ? Deux espaces ou quatre ? Quel que soit votre choix, gardez le m\xeame style partout :")),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},"if (userOnline) {\n    for (let message of user.messages) {\nmessage.send();\n}\n\nsendNotification();\n}\n")),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)("strong",{parentName:"li"},"Espacement"),(0,s.mdx)("br",null),"\nLes versions ci-dessous ont le m\xeame fonctionnement :")),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},"if(condition) {\n    let i=0;\ni+=condition.thing;\n    let j=i-3;\n}\n\nif (condition) {\n\n    let i = 0;\n\ni += condition.thing;\n\n    let j = i - 3;\n\n}\n")),(0,s.mdx)("p",null,"En g\xe9n\xe9ral, en ajoutant un peu d'espace, vous rendez le code plus facile \xe0 lire, mais les deux sont techniquement corrects. Vous ne pouvez\nn\xe9anmoins en choisir qu'un !"),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)("strong",{parentName:"li"},"Positionnement des accolades"))),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},"if (condition) {\ndoTheThing();\n} else {\ndoTheOtherThing();\n}\n\nif (condition)\n{\ndoTheThing();\n}\n\nelse\n{\ndoTheOtherThing();\n}\n")),(0,s.mdx)("p",null,"La mise en forme du code est source de nombreuses discussions entre les d\xe9veloppeurs, et d\xe9pend souvent du reste de votre \xe9quipe. Pour \xe9crire\nvotre propre code, choisissez le style que vous pr\xe9f\xe9rez et ",(0,s.mdx)("strong",{parentName:"p"},"tenez-vous-y")," !"),(0,s.mdx)("h4",{id:"pratiquez-l\xe9criture-de-code-propre"},"Pratiquez l\u2019\xe9criture de code propre"),(0,s.mdx)("p",null,(0,s.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2021/03/24/16165901356926_A-vous-de-jouer.png",alt:"16165901356926_A-vous-de-jouer.png"})),(0,s.mdx)("p",null,"Voici un code js avec plusieurs fonctions et diff\xe9rentes mauvaises pratiques rendant le code pas propre. Votre objectif est de cr\xe9er une\nfonction pour all\xe9ger votre code."),(0,s.mdx)("div",{className:"admonition admonition-info alert alert--info"},(0,s.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,s.mdx)("h5",{parentName:"div"},(0,s.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,s.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,s.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,s.mdx)("div",{parentName:"div",className:"admonition-content"},(0,s.mdx)("p",{parentName:"div"},"Avant de commenter le code, vous pourrez trouver le code pas propre sur le ",(0,s.mdx)("a",{parentName:"p",href:"https://codepen.io/quentin-laurent/pen/gOLJzMo"},"CodePen \xe0 cette adresse"),"."),(0,s.mdx)("p",{parentName:"div"},"Tentez de rendre le code propre par vous-m\xeame, et vous pourrez ensuite comparer avec le code propre sur le ",(0,s.mdx)("a",{parentName:"p",href:"https://codepen.io/quentin-laurent/pen/abBrGjB"},"CodePen \xe0 cette adresse"),"."))),(0,s.mdx)("h5",{id:"correction-expliqu\xe9e-de-lexercice"},"Correction expliqu\xe9e de l\u2019exercice"),(0,s.mdx)("p",null,"L\u2019exercice est coup\xe9 en 3 parties :"),(0,s.mdx)("h5",{id:"code-non-dry"},"Code non DRY"),(0,s.mdx)("p",null,(0,s.mdx)("em",{parentName:"p"},"Code avant correction :")),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},'/* variable de diff\xe9rentes personnes */\nlet personne1 = "Jean";\nlet personne2 = "Paul";\nlet person3 = "Marcel";\n\n/* On met la premi\xe8re lettre en majuscule, on salue la premi\xe8re personne\net on donne le nombre de lettre dans son pr\xe9nom */\npersonne1 = personne1[0].toUpperCase() + personne1.substr(1);\nconst longueurPrenom1 = personne1.length;\nconsole.log(`Bonjour ${personne1}, ton pr\xe9nom contient ${longueurPrenom1} lettres`);\n\n/* On met la premi\xe8re lettre en majuscule, on salue la deuxi\xe8me personne\net on donne le nombre de lettre dans son pr\xe9nom */\npersonne2 = personne2[1].toUpperCase() + personne2.substr(1);\nconst longueurPrenom2 = personne2.length;\nconsole.log(`Bonjour ${personne2}, ton pr\xe9nom contient ${longueurPrenom2} lettres`);\n\n/* On met la premi\xe8re lettre en majuscule, on salue la troisi\xe8me personne\net on donne le nombre de lettre dans son pr\xe9nom */\npersonne3 = personne3[2].toUpperCase() + personne3.substr(1);\nconst longueurPrenom3 = personne3.length;\nconsole.log(`Bonjour ${personne3}, ton pr\xe9nom contient ${longueurPrenom3} lettres`);\n')),(0,s.mdx)("p",null,"\xa0",(0,s.mdx)("em",{parentName:"p"},"Code apr\xe8s correction :")),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},'/* variable de diff\xe9rentes personnes */\nlet personne1 = "Jean";\nlet personne2 = "Paul";\nlet personne3 = "Marcel";\n\nfunction saluer(prenom) {\n    /* On met la premi\xe8re lettre en majuscule, on salue la personne et\n    on donne le nombre de lettre dans son pr\xe9nom */\n    const monPrenom = prenom[0].toUpperCase() + prenom.substr(1);\n    const longueurPrenom = monPrenom.length;\n    console.log(`Bonjour ${monPrenom}, ton pr\xe9nom contient ${longueurPrenom} lettres`);\n}\n\n/* On salue les 3 personnes */\nsaluer(personne1);\nsaluer(personne2);\nsaluer(personne3);\n')),(0,s.mdx)("p",null,(0,s.mdx)("em",{parentName:"p"},"Explication :")),(0,s.mdx)("p",null,"Ici, on ex\xe9cute trois lignes de traitement pour chacune des 3 personnes (",(0,s.mdx)("inlineCode",{parentName:"p"},"person1"),", ",(0,s.mdx)("inlineCode",{parentName:"p"},"person2"),"\xa0et ",(0,s.mdx)("inlineCode",{parentName:"p"},"person3"),"). Le code est donc r\xe9p\xe9t\xe9 3 fois\navec juste une variable qui change. Dans ce cas-l\xe0, on cr\xe9e une fonction unique ",(0,s.mdx)("inlineCode",{parentName:"p"},"saluer(prenom)"),"\xa0qui va faire ce traitement bas\xe9 sur la\nvariable ",(0,s.mdx)("inlineCode",{parentName:"p"},"prenom"),". Il ne reste plus qu\u2019\xe0 appeler la fonction 3 fois avec les 3 personnes en param\xe8tre."),(0,s.mdx)("h5",{id:"code-mal-nomm\xe9"},"Code mal nomm\xe9"),(0,s.mdx)("p",null,(0,s.mdx)("em",{parentName:"p"},"Code avant correction :")),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},"/* tableau des \xe2ges des \xe9l\xe8ves dans la classe */\n\nconst lrf = [14, 14, 15, 14, 16, 14, 14, 13];\n\n/* Nombre d'\xe9l\xe8ves */\n\nconst kf = lrf.length;\n\n/* variable pour calculer la somme des \xe2ges */\n\nlet mf = 0;\n\nfor(let df of lrf){\n\nmf += df;\n\n}\n\n/* moyenne d'\xe2ge dans la classe */\n\nconst mld = mf / kf;\n\nconsole.log('Il y a ' + kf + \" \xe9l\xe8ves dans la classe et la moyenne d'\xe2ge est \" + mld);\n")),(0,s.mdx)("p",null,(0,s.mdx)("em",{parentName:"p"},"Code apr\xe8s correction :")),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},"/* tableau des \xe2ges des \xe9l\xe8ves dans la classe */\n\nconst agesElevesDeClasse = [14, 14, 15, 14, 16, 14, 14, 13];\n\n/* Nombre d'\xe9l\xe8ves */\n\nconst nombreEleves = agesElevesDeClasse.length;\n\n/* variable pour calculer la somme des \xe2ges */\n\nlet sommeAges = 0;\n\nfor(let age of agesElevesDeClasse){\n\nsommeAges += age;\n\n}\n\n/* moyenne d'\xe2ge dans la classe */\n\nconst moyenneAgesDeClasse = sommeAges / nombreEleves;\n\nconsole.log('Il y a ' + nombreEleves + \" \xe9l\xe8ves dans la classe et la moyenne d'\xe2ge est \"\n + moyenneAgesDeClasse);\n")),(0,s.mdx)("p",null,(0,s.mdx)("em",{parentName:"p"},"Explication :")),(0,s.mdx)("p",null,"Ici on a un code qui compte et calcule la moyenne d'\xe2ge d\u2019une classe. Les variables choisies ne sont pas pertinentes, elles n\u2019ont que 2 ou 3\nlettres qui ne veulent rien dire de particulier. L\u2019id\xe9al est de nommer les variables pour\xa0comprendre \xe0 quoi elles servent."),(0,s.mdx)("p",null,"Apr\xe8s correction on peut voir que l\u2019on nomme les variables avec des noms explicites. Maintenant, juste en lisant les variables on comprend la\nlogique du code."),(0,s.mdx)("h5",{id:"code-mal-mis-en-forme"},"Code mal mis en forme"),(0,s.mdx)("p",null,(0,s.mdx)("em",{parentName:"p"},"Code avant correction :")),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},'const temperature = 25;\n\n\n\nif(temperature < 10){ console.log("Il fait tr\xe8s froid"); }\n\nelse if(temperature < 0){\n\nconsole.log(\n\n"Il fait froid"\n\n);\n\n}else if(temperature < 10){\n\nconsole.log(            "Il fait frais");\n\n}else if(temperature < 20){\n\nconsole.log("Il fait doux");\n\n}else if(temperature < 30){\n\nconsole.log("Il fait bon");\n\n\n\n\n\n\n\n}else{\n\n\n\n\n\n\n\nconsole.log("Il fait chaud");\n\n}\n')),(0,s.mdx)("p",null,(0,s.mdx)("em",{parentName:"p"},"Code apr\xe8s correction :")),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},'const temperature = 25;\n\n\n\n\nif(temperature < 10){\n\nconsole.log("Il fait tr\xe8s froid"); }\n\nelse if(temperature < 0){\n\nconsole.log("Il fait froid");\n\n}else if(temperature < 10){\n\nconsole.log("Il fait frais");\n\n}else if(temperature < 20){\n\nconsole.log("Il fait doux");\n\n}else if(temperature < 30){\n\nconsole.log("Il fait bon");\n\n}else{\n\nconsole.log("Il fait chaud");\n\n}\n')),(0,s.mdx)("p",null,(0,s.mdx)("em",{parentName:"p"},"Explication :")),(0,s.mdx)("p",null,"Ici on a appliqu\xe9 une bonne indentation, on a bien mis en forme les sauts de ligne pour les blocs et les brackets ",(0,s.mdx)("inlineCode",{parentName:"p"},"({})"),"\xa0et on a \xe9vit\xe9 les\nespaces et sauts de ligne superflus."),(0,s.mdx)("h3",{id:"en-r\xe9sum\xe9-2"},"En r\xe9sum\xe9"),(0,s.mdx)("p",null,"Dans ce chapitre, nous avons \xe9tudi\xe9 quelques techniques et meilleures pratiques de codage propre :"),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)("strong",{parentName:"li"},"refactorisation")," du code en fonctions \u2013 quand du code se r\xe9p\xe8te, ou quand une fonction fait trop de choses ;"),(0,s.mdx)("li",{parentName:"ul"},"les fonctions qui ne font qu'",(0,s.mdx)("strong",{parentName:"li"},"une seule chose")," sont souvent plus claires que les fonctions \xe0 plusieurs usages ;"),(0,s.mdx)("li",{parentName:"ul"},"laisser des ",(0,s.mdx)("strong",{parentName:"li"},"commentaires")," appropri\xe9s rend votre code beaucoup plus facile \xe0 comprendre ;"),(0,s.mdx)("li",{parentName:"ul"},"il est tr\xe8s important d'avoir une ",(0,s.mdx)("strong",{parentName:"li"},"convention de nommage")," stricte avec des ",(0,s.mdx)("strong",{parentName:"li"},"noms clairs et descriptifs")," ;"),(0,s.mdx)("li",{parentName:"ul"},"vous avez vu des exemples de ",(0,s.mdx)("strong",{parentName:"li"},"mise en forme du code"),", et diff\xe9rents choix possibles.")),(0,s.mdx)("p",null,(0,s.mdx)("em",{parentName:"p"},"Dans le chapitre suivant, nous allons nous int\xe9resser \xe0 la fa\xe7on de tester les fonctions pour \xe9viter les surprises !")),(0,s.mdx)("hr",null),(0,s.mdx)("h2",{id:"testez-quune-fonction-fait-ce-quelle-dit"},"Testez qu'une fonction fait ce qu'elle dit"),(0,s.mdx)("p",null,(0,s.mdx)("a",{parentName:"p",href:"https://openclassrooms.com/fr/courses/6175841-apprenez-a-programmer-avec-javascript/6279919-testez-quune-fonction-fait-ce-quelle-dit"},"Testez qu'une fonction fait ce qu'elle dit - Apprenez \xe0 programmer avec JavaScript - OpenClassrooms")),(0,s.mdx)(o.fG,{vimeoId:"528291212",mdxType:"Vimeo"}),(0,s.mdx)("br",null),(0,s.mdx)("h3",{id:"comprenez-limportance-des-tests"},"Comprenez l'importance des tests"),(0,s.mdx)("p",null,"Il y a environ un an, j'ai \xe9t\xe9 appel\xe9 dans une start-up pour les aider \xe0 terminer un d\xe9veloppement \xe0 temps pour leur date de d\xe9ploiement. Le\nproduit de cette soci\xe9t\xe9 traite un grand nombre de petites transactions, donc l'exactitude \xe9tait essentielle."),(0,s.mdx)("p",null,"Je travaillais sur l'interface, mais j'ai imm\xe9diatement remarqu\xe9 un probl\xe8me : les calculs ne correspondaient pas. En lan\xe7ant quelques\ncentaines de transactions, les totaux \xe9taient faux de plusieurs dizaines d'euros. Quelque chose allait s\xe9rieusement de travers."),(0,s.mdx)("p",null,"Ce projet \xe9tait grand, complexe et tr\xe8s ambitieux (l'interface elle-m\xeame avait plus de 600\xa0000\xa0lignes de code !), mais cette start-up n'avait\npas mis en place d'architecture de test. Pour localiser le probl\xe8me, il nous a fallu plus d'une semaine avec de plus en plus de frustration\net de panique. Il y avait un quart de million d'euros en jeu, et cela seulement pour un client."),(0,s.mdx)("p",null,"L'histoire s'est bien termin\xe9e, mais il a fallu une ",(0,s.mdx)("strong",{parentName:"p"},"semaine enti\xe8re")," pour rechercher ",(0,s.mdx)("strong",{parentName:"p"},"une erreur"),", qui aurait \xe9t\xe9 d\xe9cel\xe9e s'il y avait\neu un syst\xe8me d\xe9cent de test. Nous aurions pu perdre tellement d'argent que la soci\xe9t\xe9 aurait mis la cl\xe9 sous la porte."),(0,s.mdx)("div",{className:"admonition admonition-info alert alert--info"},(0,s.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,s.mdx)("h5",{parentName:"div"},(0,s.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,s.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,s.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,s.mdx)("div",{parentName:"div",className:"admonition-content"},(0,s.mdx)("p",{parentName:"div"},"TL;DR \u2013 ",(0,s.mdx)("strong",{parentName:"p"},"Le test est vraiment important !")))),(0,s.mdx)("h3",{id:"quest-ce-que-le-test"},"Qu'est-ce que le test?"),(0,s.mdx)("p",null,"Eh bien, cela d\xe9pend ! Il y en a trois types essentiels."),(0,s.mdx)("h4",{id:"cr\xe9ez-des-tests-unitaires"},"Cr\xe9ez des tests unitaires"),(0,s.mdx)("p",null,"Le test unitaire v\xe9rifie des unit\xe9s individuelles (en g\xe9n\xe9ral des fonctions uniques ou des classes) en leur fournissant une entr\xe9e et en\ns'assurant qu'elles donnent la sortie attendue."),(0,s.mdx)("div",{className:"admonition admonition-caution alert alert--warning"},(0,s.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,s.mdx)("h5",{parentName:"div"},(0,s.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,s.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,s.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"!")),(0,s.mdx)("div",{parentName:"div",className:"admonition-content"},(0,s.mdx)("p",{parentName:"div"},"C'est une autre raison pour \xe9crire des fonctions courtes qui n'ont qu'un seul usage : il est plus facile d'\xe9crire des tests pour elles !"))),(0,s.mdx)("p",null,"En g\xe9n\xe9ral, chaque unit\xe9 est test\xe9e sur un cas simple, puis sur un ou plusieurs cas limites."),(0,s.mdx)("p",null,"Si par exemple, vous prenez quelques fonctions du chapitre pr\xe9c\xe9dent :"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},"const getWordCount = (stringToTest) => {\n    const wordArray = stringToTest.split(' ');\n    return wordArray.length;\n}\nconst getLetterCount = (stringToTest) => {\n    const wordArray = stringToTest.split(' ');\n    let totalLetters = 0;\n    for (let word of wordArray) {\n        word.replace(/[.,\\/#!$%\\^&\\*;:{}=\\-_`~()]/g, \"\");\n        totalLetters += word.length;\n    }\n    return totalLetters;\n}\n")),(0,s.mdx)("p",null,"Quels cas testeriez-vous pour chaque fonction ici ?"),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)("inlineCode",{parentName:"li"},"getWordCount"),"\xa0\u2013 Vous pourriez v\xe9rifier une cha\xeene dont vous connaissez le nombre de mots (cas simple), puis peut-\xeatre une cha\xeene vide, et\nune cha\xeene qui ne contiendrait que des espaces (cas limite)."),(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)("inlineCode",{parentName:"li"},"getLetterCount"),"\xa0\u2013 Vous pourriez v\xe9rifier une cha\xeene dont vous connaissez le nombre de lettres (cas simple), puis essayer une cha\xeene ne\ncontenant que des signes de ponctuation (cas limite).")),(0,s.mdx)("p",null,"Vous pourriez \xe9crire ces tests comme code accessoire :"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},"const testSimpleWordCount = () => {\n    const testString = 'I have four words!';\n    if (getWordCount(testString) !== 4) {\n        console.error('Simple getWordCount failed!');\n    }\n}\n\nconst testEdgeWordCount = () => {\n    const testString = ' ';\n    if (getWordCount(testString) !== 0) {\n        console.error('Edge getWordCount failed!');\n    }\n}\n\nconst testSimpleLetterCount = () => {\n    const testString = 'I have twenty one letters!';\n    if (getLetterCount(testString) !== 21) {\n        console.error('Simple getLetterCount failed!');\n    }\n}\n\nconst testEdgeLetterCount = () => {\n    const testString = '\")(&;//!!';\n    if (getLetterCount(testString) !== 0) {\n        console.error('Edge getLetterCount failed!');\n    }\n}\n")),(0,s.mdx)("div",{className:"admonition admonition-info alert alert--info"},(0,s.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,s.mdx)("h5",{parentName:"div"},(0,s.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,s.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,s.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,s.mdx)("div",{parentName:"div",className:"admonition-content"},(0,s.mdx)("p",{parentName:"div"},"J'ai utilis\xe9 ",(0,s.mdx)("inlineCode",{parentName:"p"},"console.error()")," plut\xf4t que ",(0,s.mdx)("inlineCode",{parentName:"p"},"console.log()")," pour faire afficher les messages comme erreurs sur la console."))),(0,s.mdx)("p",null,"Ce sont des tests simples, et ils peuvent convenir pour des v\xe9rifications rapides, mais il est g\xe9n\xe9ralement pr\xe9f\xe9rable d'utiliser une\n",(0,s.mdx)("strong",{parentName:"p"},"architecture de test"),"."),(0,s.mdx)("p",null,"Les architectures et biblioth\xe8ques de test permettent d'\xe9crire automatiquement des suites de tests compl\xe8tes de votre code, \xe0 l'aide de\nfonctions et de syntaxe sp\xe9cifiques. Voici \xe0 quoi pourraient ressembler les deux tests ci-dessus dans certaines architectures :"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},"describe('getWordCount()', function() {\n    it('should find four words', function() {\n        expect(getWordCount('I have four words!').to.equal(4));\n    });\n    it('should find no words', function() {\n        expect(getWordCount(' ').to.equal(0));\n    });\n});\n")),(0,s.mdx)("p",null,"Les tests unitaires constituent g\xe9n\xe9ralement entre 60 et 80 % de l'ensemble des tests des projets JavaScript. Mais il existe d'autres tests,\ncomme les tests d'int\xe9gration."),(0,s.mdx)("h3",{id:"d\xe9couvrez-les-tests-dint\xe9gration"},"D\xe9couvrez les tests d'int\xe9gration"),(0,s.mdx)("figure",null,(0,s.mdx)("img",{src:"https://user.oc-static.com/upload/2021/03/23/16165163394556_image3.png",alt:"Photo de meubles de cuisine mal install\xe9 o\xf9 l'on ne peut ouvrir un tiroir \xe0 cause d'un autre placard qui g\xeane"}),(0,s.mdx)("figcaption",null,'"Pas de tests d\'int\xe9gration"')),(0,s.mdx)("p",null,"Les ",(0,s.mdx)("strong",{parentName:"p"},"tests d'int\xe9gration")," v\xe9rifient les multiples fonctions ou classes pour s'assurer qu'elles ",(0,s.mdx)("strong",{parentName:"p"},"travaillent ensemble")," comme elles sont\ncens\xe9es le faire. L'image ci-dessus montre ce qui se passe quand les unit\xe9s individuelles fonctionnent correctement (les deux tiroirs\ns'ouvrent correctement s\xe9par\xe9ment), mais que leur int\xe9gration dans le syst\xe8me qui les entoure cause un probl\xe8me de fonctionnement."),(0,s.mdx)("h3",{id:"appr\xe9hendez-les-tests-fonctionnels"},"Appr\xe9hendez les tests fonctionnels"),(0,s.mdx)("p",null,"Les ",(0,s.mdx)("strong",{parentName:"p"},"tests fonctionnels"),", aussi appel\xe9s ",(0,s.mdx)("strong",{parentName:"p"},(0,s.mdx)("em",{parentName:"strong"},"de bout en bout")," (E2E)"),", v\xe9rifient des sc\xe9narios complets en contexte. Par exemple, un\nutilisateur se connecte \xe0 votre application, ouvre ses notifications et les marque toutes comme lues. Ces tests v\xe9rifient aussi les\nressources externes que votre projet peut utiliser, par exemple un syst\xe8me de paiement tiers."),(0,s.mdx)("h4",{id:"comment-\xe7a-se-passe-dans-la-pratique-"},"Comment \xe7a se passe dans la pratique ?"),(0,s.mdx)("p",null,"Pratiquer les tests unitaires demande un peu d'exp\xe9rience et d\u2019utiliser des outils d\xe9di\xe9s. Il existe diff\xe9rents frameworks d\xe9di\xe9s aux tests\nunitaires et fonctionnels pour les applications JavaScript frontend\xa0et/ou backend. On retrouve souvent les frameworks ",(0,s.mdx)("a",{parentName:"p",href:"https://jasmine.github.io/"},"Jasmine"),",\n",(0,s.mdx)("a",{parentName:"p",href:"https://mochajs.org/"},"mocha.js"),", ",(0,s.mdx)("a",{parentName:"p",href:"https://karma-runner.github.io/"},"Mocha"),", etc."),(0,s.mdx)("p",null,"Pour utiliser ces outils, il est souvent n\xe9cessaire de mettre en place une configuration particuli\xe8re et un syst\xe8me de compilation de votre\ncode. Il vous est donc n\xe9cessaire d\u2019appr\xe9hender plus largement JavaScript avant de pratiquer les tests. Une fois que vous aurez une bonne\ncompr\xe9hension du JavaScript et un peu d'exp\xe9rience, vous pourrez consulter le cours ",(0,s.mdx)("a",{parentName:"p",href:"https://openclassrooms.com/fr/courses/3504461-testez-linterface-de-votre-site"},"Testez l\u2019interface de votre site"),"."),(0,s.mdx)("h3",{id:"en-r\xe9sum\xe9-3"},"En r\xe9sum\xe9"),(0,s.mdx)("p",null,"Dans ce chapitre, nous vous avons pr\xe9sent\xe9 les trois types de tests :"),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},"les tests unitaires ;"),(0,s.mdx)("li",{parentName:"ul"},"les tests d'int\xe9gration ;"),(0,s.mdx)("li",{parentName:"ul"},"les tests fonctionnels (E2E).")),(0,s.mdx)("p",null,"Vous avez aussi vu que, bien que des tests manuels sur du code accessoire puissent fonctionner, il existe des architectures automatis\xe9es qui\nrendent les tests plus faciles et fiables."),(0,s.mdx)("p",null,(0,s.mdx)("em",{parentName:"p"},"Dans le chapitre suivant, nous allons voir comment corriger du code quand tout va mal : le")," ",(0,s.mdx)("strong",{parentName:"p"},(0,s.mdx)("em",{parentName:"strong"},"d\xe9bogage"))," ",(0,s.mdx)("em",{parentName:"p"},"!")),(0,s.mdx)("hr",null),(0,s.mdx)("h2",{id:"d\xe9boguez-votre-fonction"},"D\xe9boguez votre fonction"),(0,s.mdx)("p",null,(0,s.mdx)("a",{parentName:"p",href:"https://openclassrooms.com/fr/courses/6175841-apprenez-a-programmer-avec-javascript/6279979-deboguez-votre-fonction"},"D\xe9boguez votre fonction - Apprenez \xe0 programmer avec JavaScript - OpenClassrooms")),(0,s.mdx)(o.fG,{vimeoId:"528291321",mdxType:"Vimeo"}),(0,s.mdx)("br",null),(0,s.mdx)("div",{className:"admonition admonition-note alert alert--secondary"},(0,s.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,s.mdx)("h5",{parentName:"div"},(0,s.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,s.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,s.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"?")),(0,s.mdx)("div",{parentName:"div",className:"admonition-content"},(0,s.mdx)("p",{parentName:"div"},"Pourquoi cela ne fonctionne pas ?!"))),(0,s.mdx)("p",null,"Quand quelque chose ne va pas dans votre projet, il peut \xeatre difficile de savoir ce qui s'est pass\xe9. Voici quelques techniques qui, je\nl'esp\xe8re, devraient vous aider \xe0 remettre les choses d'aplomb !"),(0,s.mdx)("h3",{id:"affichez-la-console"},"Affichez la console"),(0,s.mdx)("p",null,"La console est un outil incroyablement utile pour le d\xe9bogage du code. Observons une version d\xe9fectueuse d'une fonction d'un chapitre\npr\xe9c\xe9dent :"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},"const getWordCount = (stringToTest) => {\n    const wordArray = stringToTest.split('');\n    return wordArray.length;\n}\n")),(0,s.mdx)("p",null,"Pour une raison quelconque, cette fonction renvoie des valeurs curieuses. Utilisons un affichage de console pour voir ce qui se passe :"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},"const getWordCount = (stringToTest) => {\n    const wordArray = stringToTest.split('');\n    console.log(\"Word array in getWordCount: \");\n    console.log(wordArray);\n    return wordArray.length;\n}\n")),(0,s.mdx)("p",null,"Maintenant, \xe0 l'appel suivant, nous obtenons le r\xe9sultat suivant sur la console :"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},'getWordCount(\'I am a fish\');\n/* la console montre :\n"Word array in getWordCount:"\n["I", " ", "a", "m", " ", "a", " ", "f", "i", "s", "h"]\n*/\n')),(0,s.mdx)("p",null,"Plut\xf4t que de r\xe9partir la cha\xeene en mots, elle la r\xe9partit en lettres ! Une observation plus attentive de la fonction montre une erreur \xe0\nl'appel de\xa0",(0,s.mdx)("inlineCode",{parentName:"p"},"split"),"\xa0: ce devrait \xeatre\xa0",(0,s.mdx)("inlineCode",{parentName:"p"},"stringToTest.split(' ')"),", et non pas\xa0",(0,s.mdx)("inlineCode",{parentName:"p"},"stringToTest.split('')"),"."),(0,s.mdx)("p",null,"L'utilisation de la console convient bien dans les cas simples et isol\xe9s comme celui-ci, mais dans les projets plus complexes, ce serait\nbeaucoup plus difficile et plus chronophage. Dans ce cas, il faut des armes plus puissantes."),(0,s.mdx)("div",{className:"admonition admonition-info alert alert--info"},(0,s.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,s.mdx)("h5",{parentName:"div"},(0,s.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,s.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,s.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,s.mdx)("div",{parentName:"div",className:"admonition-content"},(0,s.mdx)("p",{parentName:"div"},"Je connais beaucoup de d\xe9veloppeurs qui utilisent toujours la technique de l'affichage de console. Cela fonctionne, mais c'est lent.\nL'apprentissage d'outils plus \xe9volu\xe9s vous aidera \xe0 d\xe9boguer plus rapidement, pour passer plus de temps sur les choses amusantes !"))),(0,s.mdx)("h3",{id:"utilisez-des-outils-pour-d\xe9veloppeur"},"Utilisez des outils pour d\xe9veloppeur"),(0,s.mdx)("p",null,"Pour \xe9crire du JavaScript pour des sites web, vous pouvez utiliser les outils pour d\xe9veloppeur int\xe9gr\xe9s dans les quatre navigateurs essentiels :\nChrome, Firefox, Safari et Edge. Chaque navigateur contient un syst\xe8me qui vous permet d'ajouter des ",(0,s.mdx)("strong",{parentName:"p"},"points d'arr\xeat pas-\xe0-pas")," (breakpoints)\n\xe0 votre code. Quand le navigateur arrive sur un point d'arr\xeat de votre code, il met ",(0,s.mdx)("strong",{parentName:"p"},"l'ex\xe9cution en pause"),", ce qui vous permet de\n",(0,s.mdx)("strong",{parentName:"p"},"parcourir")," l'ex\xe9cution ligne apr\xe8s ligne, en v\xe9rifiant les valeurs des variables \xe0 chaque \xe9tape. Vous pouvez m\xeame ",(0,s.mdx)("strong",{parentName:"p"},"ignorer")," certains\nmorceaux de code si vous souhaitez voir comment votre appli y r\xe9agit."),(0,s.mdx)("p",null,"La plupart des ",(0,s.mdx)("strong",{parentName:"p"},"environnements de d\xe9veloppement int\xe9gr\xe9s")," comportent aussi un ",(0,s.mdx)("strong",{parentName:"p"},"d\xe9bogueur"),", qui vous permet de tout d\xe9boguer dans votre\nespace de travail. Cela peut \xeatre pratique, en particulier si votre code ne doit pas s'ex\xe9cuter sur une page web et ne peut pas \xeatre v\xe9rifi\xe9\ndans le navigateur. Les environnements de d\xe9veloppement int\xe9gr\xe9s les plus courants sont notamment ",(0,s.mdx)("a",{parentName:"p",href:"https://code.visualstudio.com/"},"Visual Studio Code"),"\n(gratuit) et ",(0,s.mdx)("a",{parentName:"p",href:"https://www.jetbrains.com/fr-fr/webstorm/"},"WebStorm")," (abonnement mensuel, gratuit pour certains \xe9tudiants)."),(0,s.mdx)("div",{className:"admonition admonition-info alert alert--info"},(0,s.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,s.mdx)("h5",{parentName:"div"},(0,s.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,s.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,s.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,s.mdx)("div",{parentName:"div",className:"admonition-content"},(0,s.mdx)("p",{parentName:"div"},'Si vous voulez en savoir plus sur Visual Studio Code, vous pouvez suivre ce cours, "',(0,s.mdx)("a",{parentName:"p",href:"https://openclassrooms.com/fr/courses/5641796-adoptez-visual-studio-comme-environnement-de-developpement"},(0,s.mdx)("strong",{parentName:"a"},"Adoptez Visual Studio Code comme environnement de d\xe9veloppement")),'".'))),(0,s.mdx)("p",null,"L'affichage de console, c'est bien, les d\xe9bogueurs, c'est mieux, mais quand tout le reste a \xe9chou\xe9, il existe une derni\xe8re solution."),(0,s.mdx)("h3",{id:"d\xe9boguez-avec-un-canard-en-plastique"},"D\xe9boguez avec un canard en plastique"),(0,s.mdx)("figure",null,(0,s.mdx)("img",{src:"https://user.oc-static.com/upload/2021/03/23/16165171104718_image1.jpg",alt:"Photo avec un canard en plastique face \xe0 un \xe9cran d'ordinateur o\xf9 l'on voit du code informatique"}),(0,s.mdx)("figcaption",null,"Quand tout va mal, parle au canard !")),(0,s.mdx)("p",null,"Quand votre code a un bug que vous ne pouvez pas trouver et expliquer, vous pouvez parler \xe0 un ",(0,s.mdx)("strong",{parentName:"p"},"canard en plastique")," que vous conservez sur\nvotre bureau. Vous expliquez votre code ligne par ligne en termes simples, que le canard peut comprendre. La r\xe9flexion \xe0 voix haute et\nl'explication de votre code en termes simples vous permettra souvent de voir finalement : \"Comment n'ai-je pas vu \xe7a ? Il y a un bug !\"."),(0,s.mdx)("p",null,"M\xeame si cette section est un peu humoristique, le raisonnement sur votre code, \xe0 voix haute et en termes simples, peut \xeatre utile pour le\nd\xe9bogage et la factorisation !"),(0,s.mdx)("h3",{id:"pratiquez-les-consolelog"},"Pratiquez les ",(0,s.mdx)("inlineCode",{parentName:"h3"},"console.log")),(0,s.mdx)("p",null,(0,s.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2021/03/24/16165941115605_A-vous-de-jouer.png",alt:null})),(0,s.mdx)("p",null,"Il est important de savoir utiliser les ",(0,s.mdx)("inlineCode",{parentName:"p"},"consoles.log")," et de bien analyser les diff\xe9rentes variables. L\u2019objectif est de comprendre quelle est\nl\u2019erreur de logique qui pose souci."),(0,s.mdx)("p",null,"Rendez-vous sur le ",(0,s.mdx)("a",{parentName:"p",href:"https://codepen.io/quentin-laurent/pen/gOLEmey"},"CodePen \xe0 cette adresse"),". Le code a pour objectif de convertir des ann\xe9es\nen mois (dans une ann\xe9e, il y a 12 mois). Si on saisit 10 ans dans le champ Ann\xe9e et qu\u2019on clique sur Convertir, on se retrouve avec une phrase\nnous indiquant que dans 10\xa0ann\xe9es il y a 80 mois, ce qui est faux car la bonne r\xe9ponse est 120 mois."),(0,s.mdx)("p",null,"Le calcul des mois se fait \xe0 la ligne 25, et on souhaite comprendre ce qui ne va pas dans le calcul."),(0,s.mdx)("p",null,"Votre mission ici est de faire des console.log au niveau des lignes 27 \xe0 31 pour analyser les variables utilis\xe9es pour le calcul de la ligne 25.\nSuite \xe0 l'analyse, vous pourrez comprendre ce qui ne va pas et effectuer la correction n\xe9cessaire."),(0,s.mdx)(o.sp,{codePenId:"gOLEmey",mdxType:"CodePen"}),(0,s.mdx)("h4",{id:"correction"},"Correction"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},"/* On pointe sur l'\xe9l\xe9ment de message */\nconst espaceMessage = document.getElementById(\"message\");\n/* On pointe sur l'\xe9l\xe9ment de bouton */\nconst bouton = document.getElementById(\"bouton\");\n/* On pointe sur l'\xe9l\xe9ment de champ de saisie de l'ann\xe9e */\nconst anneeInput = document.getElementById(\"annee\");\n\nlet params = [];\nfor (let i = 20; i > 0; i--) {\n    params.push(i);\n}\n\n/* On d\xe9fini la variage ann\xe9e qu'on utilisera et un variable\nd\xe9finissant l'age de la majorit\xe9 */\nlet annee;\n\nfunction onConvert() {\n    /* On r\xe9cup\xe8re la saisie de l'ann\xe9e et on transforme\n    le texte en nombre entier */\n    annee = parseInt(anneeInput.value);\n    /* Si la saisie n'est pas un nombre, on affiche un message d'erreur */\n    if (isNaN(annee)) {\n        alert(\"Ceci n'est pas un nombre\");\n        return;\n    }\n    const mois = annee * params[8];\n  \n    /* ANALYSER ICI AVEC CONSOLE LOG */\n    console.log('annee', annee); /* Analyser la variable annee */\n    console.log('params', params); /* Analyser la variable params */\n    console.log('mois', mois); /* Analyser la variable mois */\n    /* FIN ANALYSE */\n  \n    espaceMessage.innerHTML = annee + \" ann\xe9es font \" + mois + \" mois \";\n}\n/* On \xe9coute l'action de click sur le onConvert et on appelle la fonction onConvert */\nbouton.addEventListener('click', onConvert);\n")),(0,s.mdx)("p",null,"\xc0 la ligne 28, nous ajoutons le code suivant :"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},"console.log('annee', annee);\n\nconsole.log('params', params);\n")),(0,s.mdx)("p",null,"Ce qui donnera dans la console, si on simule une conversion pour la valeur 10 :"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},"> annee 10\n\n> params (20) [20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1]\n")),(0,s.mdx)("p",null,"On en d\xe9duit que la valeur de ",(0,s.mdx)("inlineCode",{parentName:"p"},"annee"),"\xa0est coh\xe9rente. En ce qui concerne ",(0,s.mdx)("inlineCode",{parentName:"p"},"params"),", on observe que c\u2019est un tableau de valeur allant de 20 \xe0 1.\nDans notre calcul, on souhaite r\xe9cup\xe9rer la valeur du tableau qui vaut 12. On trouve cette valeur \xe0 l\u2019index 8."),(0,s.mdx)("p",null,"Si on reprend le calcul de mois :"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},"const mois = annee * params[12];\n")),(0,s.mdx)("p",null,"On constate que l\u2019on r\xe9cup\xe8re l\u2019index 12 de ",(0,s.mdx)("inlineCode",{parentName:"p"},"params"),", et non le 8. Donc on remplace la ligne 25 par :"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},"const mois = annee * params[8];\n")),(0,s.mdx)("p",null,"Maintenant notre application donne des valeurs coh\xe9rentes."),(0,s.mdx)("h4",{id:"conclusion-de-lexercice"},"Conclusion de l\u2019exercice"),(0,s.mdx)("p",null,"Cet exercice n\u2019\xe9tait pas une grosse application, mais la d\xe9marche a permis de d\xe9montrer l'int\xe9r\xeat des console.log dans notre code pour bien\ncomprendre les valeurs r\xe9elles pendant l'ex\xe9cution du programme. Il ne faut pas avoir peur de faire des console.log pour avoir une vision plus\nlarge de la logique, mais attention \xe0 ne pas oublier de supprimer ces lignes de votre code avant une mise en ligne."),(0,s.mdx)("h3",{id:"en-r\xe9sum\xe9-4"},"En r\xe9sum\xe9"),(0,s.mdx)("p",null,"Dans ce chapitre, vous avez appris trois techniques de d\xe9bogage diff\xe9rentes :"),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},"affichage de console \u2013 parfait pour des erreurs petites, simples et isol\xe9es, mais pas id\xe9al dans des projets plus grands et plus complexes ;"),(0,s.mdx)("li",{parentName:"ul"},"utilisation d'outils pour d\xe9veloppeur \u2013 qu'il s'agisse des outils int\xe9gr\xe9s dans la plupart des navigateurs, ou du d\xe9bogueur de votre\nenvironnement de d\xe9veloppement int\xe9gr\xe9, c'est \xe0 coup s\xfbr la fa\xe7on fiable de d\xe9boguer du code ;"),(0,s.mdx)("li",{parentName:"ul"},"d\xe9bogage avec un canard en plastique \u2013 quand les choses vont terriblement mal.")),(0,s.mdx)("p",null,(0,s.mdx)("em",{parentName:"p"},"Dans le chapitre suivant, nous allons nous int\xe9resser \xe0 un type de fonction qui, utilis\xe9 correctement, peut am\xe9liorer spectaculairement les\nperformances d'un projet.")),(0,s.mdx)("hr",null),(0,s.mdx)("h2",{id:"d\xe9couvrez-la-r\xe9cursivit\xe9-lappel-de-fonctions-\xe0-lint\xe9rieur-delles-m\xeames"},"D\xe9couvrez la r\xe9cursivit\xe9\xa0: l'appel de fonctions \xe0 l'int\xe9rieur d'elles-m\xeames"),(0,s.mdx)("p",null,(0,s.mdx)("a",{parentName:"p",href:"https://openclassrooms.com/fr/courses/6175841-apprenez-a-programmer-avec-javascript/6280087-decouvrez-la-recursivite-lappel-de-fonctions-a-linterieur-delles-memes"},"D\xe9couvrez la r\xe9cursivit\xe9\xa0: l'appel de fonctions \xe0 l'int\xe9rieur d'elles-m\xeames - Apprenez \xe0 programmer avec JavaScript - OpenClassrooms")),(0,s.mdx)(o.fG,{vimeoId:"528291456",mdxType:"Vimeo"}),(0,s.mdx)("br",null),(0,s.mdx)("p",null,(0,s.mdx)("strong",{parentName:"p"},"Une fonction qui s'appelle elle-m\xeame")),(0,s.mdx)("p",null,"Une ",(0,s.mdx)("strong",{parentName:"p"},"fonction r\xe9cursive")," est une fonction qui s'appelle elle-m\xeame d'une fa\xe7on ou d'une autre."),(0,s.mdx)("p",null,"Prenons l'exemple que je d\xe9cris dans la vid\xe9o de ce chapitre : la recherche binaire."),(0,s.mdx)("p",null,"Le but de l'exercice : chercher un \xe9l\xe9ment dans un array tri\xe9 pour savoir s'il s'y trouve."),(0,s.mdx)("p",null,"Une approche basique (et plut\xf4t lente) serait la suivante :"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},"const findElement = (array, thingToFind) => {\n    for (let element of array) {\n        if (element === thingToFind) {\n            return true;\n        }\n    }\n    return false;\n}\n")),(0,s.mdx)("p",null,"On avance, \xe9l\xe9ment par \xe9l\xe9ment, dans le tableau. Si on trouve un \xe9l\xe9ment qui correspond \xe0 ce que l'on recherche, la fonction renvoie\xa0",(0,s.mdx)("inlineCode",{parentName:"p"},"true"),".\nSi on arrive \xe0 la fin du tableau sans l'avoir trouv\xe9, on passe \xe0 la ligne suivante et la fonction renvoie\xa0",(0,s.mdx)("inlineCode",{parentName:"p"},"false"),"."),(0,s.mdx)("p",null,"C'est plut\xf4t clair comme approche, mais c'est lent ! Le temps pris pour chaque recherche se prolonge de mani\xe8re lin\xe9aire avec des listes plus\nlongues !"),(0,s.mdx)("p",null,"Imaginons une autre approche."),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},"const binarySearch = (array, thingToFind, start, end) => {\n}\n")),(0,s.mdx)("p",null,"On sait que le tableau est tri\xe9, donc on peut savoir, pour un \xe9l\xe9ment donn\xe9, si ce que l'on recherche risque de se trouver plus haut ou plus\nbas dans la liste. Par exemple, si on recherche le nombre 42 et que l'on tombe sur 32, on sait qu'il faudra chercher plus bas."),(0,s.mdx)("p",null,"Du coup, commen\xe7ons par analyser l'\xe9l\xe9ment m\xe9dian de la liste. On peut faire la somme de l'index de d\xe9but et de l'index de fin, et diviser par\ndeux pour trouver cet \xe9l\xe9ment (arrondissons vers le bas pour nous assurer de trouver un nombre entier :"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},"const binarySearch = (array, thingToFind, start, end) => {\n    let mid = Math.floor((start + end) / 2);\n}\n")),(0,s.mdx)("div",{className:"admonition admonition-note alert alert--secondary"},(0,s.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,s.mdx)("h5",{parentName:"div"},(0,s.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,s.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,s.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"?")),(0,s.mdx)("div",{parentName:"div",className:"admonition-content"},(0,s.mdx)("p",{parentName:"div"},"Mais pourquoi utiliser les index de d\xe9but et de fin plut\xf4t que la propri\xe9t\xe9\xa0",(0,s.mdx)("inlineCode",{parentName:"p"},"length"),"\xa0du tableau ?"))),(0,s.mdx)("p",null,"Utiliser les index nous permettra de r\xe9utiliser le m\xeame code sur des s\xe9lections de plus en plus petites du tableau, comme vous allez vite le\nd\xe9couvrir !"),(0,s.mdx)("p",null,"Maintenant que l'on a l'\xe9l\xe9ment m\xe9dian du tableau, v\xe9rifions si, par chance, on est tomb\xe9 juste."),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},"const binarySearch = (array, thingToFind, start, end) => {\n    let mid = Math.floor((start + end) / 2);\n    if (array[mid] === thingToFind) {\n        return true;\n    }\n}\n")),(0,s.mdx)("p",null,"La fonction retournera\xa0",(0,s.mdx)("inlineCode",{parentName:"p"},"true"),"\xa0si on a trouv\xe9 l'\xe9l\xe9ment."),(0,s.mdx)("p",null,"Si on n'a pas eu de chance, ce n'est pas grave : puisque le tableau est tri\xe9, on sait dans quelle moiti\xe9 du tableau chercher ! Du coup, on a\njuste \xe0 ex\xe9cuter exactement la m\xeame fonction sur la partie en question ! Il suffit de modifier soit l'index de fin (pour chercher dans la\npremi\xe8re moiti\xe9) soit l'index de d\xe9but (pour chercher dans la deuxi\xe8me moiti\xe9) :"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},"const binarySearch = (array, thingToFind, start, end) => {\n    let mid = Math.floor((start + end) / 2);\n    if (array[mid] === thingToFind) {\n        return true;\n    }\n    if (thingToFind < array[mid]) {\n        /* il faut rechercher dans la premi\xe8re moiti\xe9 */\n        return binarySearch(array, thingToFind, start, mid - 1);\n        /* on utilise (mid - 1) car on sait que l'on n'a pas besoin\n        de l'\xe9l\xe9ment mid, il a d\xe9j\xe0 \xe9t\xe9 v\xe9rifi\xe9 ! */\n    } else {\n        /* il faut rechercher dans la deuxi\xe8me moiti\xe9 */\n        return binarySearch(array, thingToFind, mid + 1, end);\n    }\n}\n")),(0,s.mdx)("p",null,"La fonction continuera \xe0 s'appeler elle-m\xeame jusqu'\xe0 trouver ce que l'on recherche. Mais il manque quelque chose ! Qu'est-ce qui se passe si\nce que l'on recherche n'existe pas dans le tableau ? Il faut ce que l'on appelle un ",(0,s.mdx)("em",{parentName:"p"},"cas de base"),", ou ",(0,s.mdx)("strong",{parentName:"p"},(0,s.mdx)("em",{parentName:"strong"},"base case")),", pour dire \xe0 la fonction\nde s'arr\xeater."),(0,s.mdx)("div",{className:"admonition admonition-note alert alert--secondary"},(0,s.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,s.mdx)("h5",{parentName:"div"},(0,s.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,s.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,s.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"?")),(0,s.mdx)("div",{parentName:"div",className:"admonition-content"},(0,s.mdx)("p",{parentName:"div"},"Quel est le base case dans cet algorithme ?"))),(0,s.mdx)("p",null,"On saura que l'algorithme est arriv\xe9 au bout si on a essay\xe9 de l'appeler avec un index de d\xe9but qui est ",(0,s.mdx)("strong",{parentName:"p"},"sup\xe9rieur")," \xe0 l'index de fin."),(0,s.mdx)("p",null,"Pourquoi ? Eh bien parce que peu \xe0 peu, on divise le tableau, encore et encore, jusqu'\xe0 tomber sur une s\xe9lection d'un seul \xe9l\xe9ment : on aura\ndonc\xa0",(0,s.mdx)("inlineCode",{parentName:"p"},"start = mid = end"),". Du coup, quand la fonction se rappellera encore, elle utilisera soit\xa0",(0,s.mdx)("inlineCode",{parentName:"p"},"start = mid + 1"),", soit\xa0",(0,s.mdx)("inlineCode",{parentName:"p"},"end = mid - 1"),", selon\nnotre recherche. On aura donc\xa0",(0,s.mdx)("inlineCode",{parentName:"p"},"start > end"),", et la fonction peut retourner\xa0",(0,s.mdx)("inlineCode",{parentName:"p"},"false"),", car on sait qu'elle est arriv\xe9e au bout sans trouver ce\nque l'on recherche."),(0,s.mdx)("p",null,"On met donc ce base case au d\xe9but de la fonction pour v\xe9rifier s'il s'agit du dernier appel :"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},"const binarySearch = (array, thingToFind, start, end) => {\n    if (start > end) {\n        return false;\n    }\n    let mid = Math.floor((start + end) / 2);\n    if (array[mid] === thingToFind) {\n        return true;\n    }\n    if (thingToFind < array[mid]) {\n        return binarySearch(array, thingToFind, start, mid - 1);\n    } else {\n        return binarySearch(array, thingToFind, mid + 1, end);\n    }\n}\n")),(0,s.mdx)("p",null,"Et voil\xe0 ! Une fonction r\xe9cursive, qui s'appelle elle-m\xeame, qui effectue une recherche d'\xe9l\xe9ment dans un tableau tri\xe9, et qui renvoie\xa0",(0,s.mdx)("inlineCode",{parentName:"p"},"true"),"\nsi l'\xe9l\xe9ment s'y trouve, ou\xa0",(0,s.mdx)("inlineCode",{parentName:"p"},"false"),"\xa0s'il ne s'y trouve pas (gr\xe2ce au base case) !"),(0,s.mdx)("div",{className:"admonition admonition-caution alert alert--warning"},(0,s.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,s.mdx)("h5",{parentName:"div"},(0,s.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,s.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,s.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,s.mdx)("div",{parentName:"div",className:"admonition-content"},(0,s.mdx)("p",{parentName:"div"},"ATTENTION ! Sans base case (ou avec un base case incorrect), vos fonctions r\xe9cursives peuvent causer des ",(0,s.mdx)("strong",{parentName:"p"},"infinite loops")," et des ",(0,s.mdx)("strong",{parentName:"p"},"stack\noverflows"),", car elles vont continuer \xe0 s'appeler \xe0 l'infini, donc faites bien attention !"))),(0,s.mdx)("p",null,"Cet algorithme s'appelle la ",(0,s.mdx)("em",{parentName:"p"},"recherche binaire"),", et il s'agit d'un exercice qui est souvent demand\xe9 en entretien d'embauche, donc vous venez\nde faire un pas de plus vers votre premier emploi de d\xe9veloppeur !"),(0,s.mdx)("div",{className:"admonition admonition-info alert alert--info"},(0,s.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,s.mdx)("h5",{parentName:"div"},(0,s.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,s.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,s.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,s.mdx)("div",{parentName:"div",className:"admonition-content"},(0,s.mdx)("p",{parentName:"div"},"N'h\xe9sitez pas \xe9galement \xe0 explorer d'autres exemples courants d'algorithme r\xe9cursif : merge sort, index sort, tree traversal\u2026 il y en a\n\xe9norm\xe9ment !"))),(0,s.mdx)("h3",{id:"pratiquez-la-r\xe9cursivit\xe9"},"Pratiquez la r\xe9cursivit\xe9"),(0,s.mdx)("p",null,(0,s.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2021/03/24/16165941115605_A-vous-de-jouer.png",alt:"16165941115605_A-vous-de-jouer.png"})),(0,s.mdx)("p",null,"Quand on parle de r\xe9cursivit\xe9, il y a une fonction qui fait vraiment partie des grands classiques : la fonction math\xe9matique \u201cfactorielle\u201d !\nConcr\xe8tement, la factorielle d'un nombre ",(0,s.mdx)("inlineCode",{parentName:"p"},"n"),"\xa0est d\xe9finie comme ",(0,s.mdx)("inlineCode",{parentName:"p"},"n"),"\xa0fois la factorielle du nombre ",(0,s.mdx)("inlineCode",{parentName:"p"},"n-1"),", et la factorielle de ",(0,s.mdx)("inlineCode",{parentName:"p"},"1")," est ",(0,s.mdx)("inlineCode",{parentName:"p"},"1"),"."),(0,s.mdx)("p",null,"Voici la d\xe9composition de la factorielle de 3 pour mieux comprendre :"),(0,s.mdx)("p",null,(0,s.mdx)("inlineCode",{parentName:"p"},"factorielle(3) = 3 * factorielle(3 - 1)")),(0,s.mdx)("p",null,(0,s.mdx)("inlineCode",{parentName:"p"},"factorielle(3) = 3 * factorielle(2) =\xa0 3 * ( 2 * factorielle(2 - 1) )")),(0,s.mdx)("p",null,(0,s.mdx)("inlineCode",{parentName:"p"},"factorielle(3) = 3 * factorielle(2) =\xa0 3 * ( 2 * factorielle(1) ) = 3 * 2 * 1 = 6")),(0,s.mdx)("p",null,"C\u2019est finalement une fonction simple \xe0 comprendre car tr\xe8s visuelle :"),(0,s.mdx)("p",null,(0,s.mdx)("inlineCode",{parentName:"p"},"factorielle(7) = 7 * 6 * 5 * 4 * 3 * 2 * 1 = 5040")),(0,s.mdx)("p",null,(0,s.mdx)("inlineCode",{parentName:"p"},"factorielle(4) = 4 * 3 * 2 * 1 = 24")),(0,s.mdx)("p",null,"Quand on regarde la d\xe9composition de factorielle(3), on constate qu\u2019on appelle de nouveau la factorielle avec la valeur n-1, donc on est bien\ndans de la r\xe9cursivit\xe9."),(0,s.mdx)("p",null,"Rendez-vous sur le ",(0,s.mdx)("a",{parentName:"p",href:"https://codepen.io/quentin-laurent/pen/QWGRKMo"},"CodePen \xe0 cette adresse"),". Votre mission est de coder la fonction\nfactorielle ligne 13 avec en param\xe8tre ",(0,s.mdx)("inlineCode",{parentName:"p"},"number"),". Point important : on consid\xe8re que la factorielle fonctionne pour les nombres sup\xe9rieurs \xe0 1,\nsinon la factorielle vaudra 1."),(0,s.mdx)(o.sp,{codePenId:"QWGRKMo",mdxType:"CodePen"}),(0,s.mdx)("h5",{id:"correction-1"},"Correction"),(0,s.mdx)("p",null,"Rendez-vous sur le ",(0,s.mdx)("a",{parentName:"p",href:"https://codepen.io/quentin-laurent/pen/oNYVwbb"},"CodePen \xe0 cette adresse")," pour voir la correction."),(0,s.mdx)(o.sp,{codePenId:"oNYVwbb",mdxType:"CodePen"}),(0,s.mdx)("p",null,"La solution tient donc en seulement 2 lignes :"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},"if (number <= 1) return 1;\n")),(0,s.mdx)("p",null,"Comme il \xe9tait expliqu\xe9 en \u201cpoint important\u201d, si notre nombre n\u2019est pas sup\xe9rieur \xe0 1, la factorielle retourne 1."),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},"else return (number * factorielle(number-1));\n")),(0,s.mdx)("p",null,"Sinon (si le nombre est sup\xe9rieur \xe0 1, donc)\xa0on retourne le nombre multipli\xe9 par la factorielle du nombre moins 1."),(0,s.mdx)("h3",{id:"en-r\xe9sum\xe9-5"},"En r\xe9sum\xe9"),(0,s.mdx)("p",null,"Dans ce chapitre, vous avez vu :"),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},"que les ",(0,s.mdx)("strong",{parentName:"li"},"fonctions r\xe9cursives")," sont des fonctions qui s'appellent elles-m\xeames ;"),(0,s.mdx)("li",{parentName:"ul"},"qu'une fonction r\xe9cursive a besoin d'un cas de base, ou ",(0,s.mdx)("em",{parentName:"li"},(0,s.mdx)("strong",{parentName:"em"},"base case")),", pour qu'elle puisse savoir quand son travail est termin\xe9 ;"),(0,s.mdx)("li",{parentName:"ul"},"un exemple de fonctionnement du code ;"),(0,s.mdx)("li",{parentName:"ul"},"un exercice de pratique avec la fonction math\xe9matique factorielle.")),(0,s.mdx)("p",null,(0,s.mdx)("em",{parentName:"p"},"Retrouvez au chapitre suivant, un r\xe9sum\xe9 de ce que vous avez appris au cours de cette partie 3.")),(0,s.mdx)("hr",null),(0,s.mdx)("h2",{id:"r\xe9sum\xe9-de-la-partie-3"},"R\xe9sum\xe9 de la partie 3"),(0,s.mdx)("p",null,(0,s.mdx)("a",{parentName:"p",href:"https://openclassrooms.com/fr/courses/6175841-apprenez-a-programmer-avec-javascript/6280101-resume-de-la-partie-3"},"R\xe9sum\xe9 de la partie 3 - Apprenez \xe0 programmer avec JavaScript - OpenClassrooms")),(0,s.mdx)(o.fG,{vimeoId:"528291704",mdxType:"Vimeo"}),(0,s.mdx)("br",null),(0,s.mdx)("p",null,"Voyons ce que vous avez appris dans cette partie du cours :"),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},"vous avez \xe9tudi\xe9 les ",(0,s.mdx)("strong",{parentName:"li"},"fonctions")," et leurs entr\xe9es (",(0,s.mdx)("strong",{parentName:"li"},"param\xe8tres")," et ",(0,s.mdx)("strong",{parentName:"li"},"arguments"),") ainsi que leurs sorties (",(0,s.mdx)("strong",{parentName:"li"},"valeur de retour"),") ;"),(0,s.mdx)("li",{parentName:"ul"},"vous avez d\xe9couvert les ",(0,s.mdx)("strong",{parentName:"li"},"m\xe9thodes d'instance"),", et la puissance suppl\xe9mentaire qu'elles peuvent ajouter \xe0 vos classes ;"),(0,s.mdx)("li",{parentName:"ul"},"vous avez vu comment \xe9crire du ",(0,s.mdx)("strong",{parentName:"li"},"code propre")," pour rendre vos applis plus faciles \xe0 comprendre et \xe0 maintenir ;"),(0,s.mdx)("li",{parentName:"ul"},"vous avez eu un aper\xe7u des ",(0,s.mdx)("strong",{parentName:"li"},"tests")," pour vous assurer que votre code fonctionne, et des ",(0,s.mdx)("strong",{parentName:"li"},"techniques de d\xe9bogage")," quand ce n'est pas le\ncas ;"),(0,s.mdx)("li",{parentName:"ul"},"enfin, vous avez explor\xe9 les ",(0,s.mdx)("strong",{parentName:"li"},"fonctions r\xe9cursives,")," qui s'appellent elles-m\xeames pour travailler sur des structures de donn\xe9es arborescentes.")),(0,s.mdx)("p",null,(0,s.mdx)("em",{parentName:"p"},"F\xe9licitations ! Vous \xeates maintenant pr\xeat \xe0 mettre en")," ",(0,s.mdx)("em",{parentName:"p"},(0,s.mdx)("strong",{parentName:"em"},"pratique"))," ",(0,s.mdx)("em",{parentName:"p"},"tout ce que vous avez appris avec le quiz que j'ai pr\xe9par\xe9 pour vous !")),(0,s.mdx)("hr",null),(0,s.mdx)("h2",{id:"quiz--aidez-\xe0-cr\xe9er-une-application-de-suivi-de-livres-pour-les-lecteurs-"},"Quiz : Aidez \xe0 cr\xe9er une application de suivi de livres pour les lecteurs !"),(0,s.mdx)("p",null,(0,s.mdx)("a",{parentName:"p",href:"https://openclassrooms.com/fr/courses/6175841-apprenez-a-programmer-avec-javascript/exercises/3801"},"Aidez \xe0 cr\xe9er une application de suivi de livres pour les lecteurs ! - OpenClassrooms")),(0,s.mdx)("h4",{id:"comp\xe9tences-\xe9valu\xe9es"},"Comp\xe9tences \xe9valu\xe9es"),(0,s.mdx)("i",{class:"bi bi-check2-circle"})," \xc9crire du code propre et facile \xe0 maintenir \xe0 l'aide de m\xe9thodes en JavaScript",(0,s.mdx)("h4",{id:"description"},"Description"),(0,s.mdx)("h5",{id:"comment-compl\xe9ter-cette-activit\xe9"},"Comment compl\xe9ter cette activit\xe9"),(0,s.mdx)("p",null,"Cette activit\xe9 est une super opportunit\xe9 pour mettre en pratique certains \xe9l\xe9ments importants de ce que vous avez appris pendant ce cours, et\nde voir comment ces \xe9l\xe9ments peuvent \xeatre utilis\xe9s dans une vraie application. Pour suivre l'activit\xe9, rendez-vous sur ",(0,s.mdx)("a",{parentName:"p",href:"https://api.next.tech/api/v1/publishable_key/2A9CAA3419124E3E8C3F5AFCE5306292?content_id=e8174309-e22c-48d8-a368-1154d36270cc"},"cet exercice interactif\xa0Next.tech"),"\net suivez les instructions.\xa0Ecrivez sur le fichier ",(0,s.mdx)("inlineCode",{parentName:"p"},"Book.js")," pour remplir les t\xe2ches demand\xe9es. Actualisez la page sur le navigateur int\xe9gr\xe9\npour voir vos changements prendre forme."),(0,s.mdx)("div",{className:"admonition admonition-info alert alert--info"},(0,s.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,s.mdx)("h5",{parentName:"div"},(0,s.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,s.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,s.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,s.mdx)("div",{parentName:"div",className:"admonition-content"},(0,s.mdx)("p",{parentName:"div"},"Quand vous aurez accompli ces t\xe2ches, le navigateur int\xe9gr\xe9 devrait afficher une alerte qui contient un mot. Ce mot est la r\xe9ponse \xe0 la seule\nquestion dans ce quiz !"))),(0,s.mdx)("h4",{id:"votre-mission-si-vous-lacceptez"},"Votre mission, si vous l'acceptez"),(0,s.mdx)("div",{className:"admonition admonition-info alert alert--info"},(0,s.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,s.mdx)("h5",{parentName:"div"},(0,s.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,s.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,s.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,s.mdx)("div",{parentName:"div",className:"admonition-content"},(0,s.mdx)("p",{parentName:"div"},"Voici ce que vous devrez faire dans cet exercice. Vous retrouverez les instructions sur l'exercice Next.tech."))),(0,s.mdx)("p",null,"Suite \xe0 votre travail sur le site de streaming, on vous demande de cr\xe9er une app appel\xe9e ",(0,s.mdx)("strong",{parentName:"p"},"RestfulReading"),", qui permettra aux utilisateurs de\nsuivre les livres qu'ils sont en train de lire/qu'ils ont lus."),(0,s.mdx)("p",null,"Votre t\xe2che est de cr\xe9er la classe ",(0,s.mdx)("inlineCode",{parentName:"p"},"Book"),"\xa0(Livre) et de peupler la base de donn\xe9es de d\xe9veloppement de trois ou quatre livres pour vous assurer\nque l'interface fonctionne correctement (vous travaillerez avec le fichier ",(0,s.mdx)("inlineCode",{parentName:"p"},"Book.js"),")."),(0,s.mdx)("p",null,"La classe ",(0,s.mdx)("inlineCode",{parentName:"p"},"Book"),"\xa0doit contenir les champs suivants :"),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)("inlineCode",{parentName:"li"},"title"),"\xa0- ",(0,s.mdx)("inlineCode",{parentName:"li"},"string"),"\xa0-\xa0le titre du livre"),(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)("inlineCode",{parentName:"li"},"author"),"\xa0- ",(0,s.mdx)("inlineCode",{parentName:"li"},"string"),"\xa0-\xa0l'auteur du livre"),(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)("inlineCode",{parentName:"li"},"description"),"\xa0- ",(0,s.mdx)("inlineCode",{parentName:"li"},"string"),"\xa0-\xa0une description du livre"),(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)("inlineCode",{parentName:"li"},"pages"),"\xa0- ",(0,s.mdx)("inlineCode",{parentName:"li"},"number"),"\xa0-\xa0le nombre total de pages"),(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)("inlineCode",{parentName:"li"},"currentPage"),"\xa0- ",(0,s.mdx)("inlineCode",{parentName:"li"},"number"),"\xa0-\xa0la page o\xf9 se trouve l'utilisateur actuellement (entre 1 et ",(0,s.mdx)("inlineCode",{parentName:"li"},"pages"),")"),(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)("inlineCode",{parentName:"li"},"read"),"\xa0- ",(0,s.mdx)("inlineCode",{parentName:"li"},"boolean"),"\xa0- si l'utilisateur a lu ou non le livre (par d\xe9faut: ",(0,s.mdx)("inlineCode",{parentName:"li"},"false"),")")),(0,s.mdx)("p",null,"La classe ",(0,s.mdx)("inlineCode",{parentName:"p"},"Book"),"\xa0doit aussi contenir la m\xe9thode instance suivante :"),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},(0,s.mdx)("inlineCode",{parentName:"li"},"readBook(page)"),(0,s.mdx)("ul",{parentName:"li"},(0,s.mdx)("li",{parentName:"ul"},"permet \xe0 l'utilisateur de dire \xe0 quelle page il se trouve actuellement"),(0,s.mdx)("li",{parentName:"ul"},"si l'argument ",(0,s.mdx)("inlineCode",{parentName:"li"},"page"),"\xa0est inf\xe9rieur \xe0 un ou sup\xe9rieur au nombre total de pages du livre, readBook retourne ",(0,s.mdx)("inlineCode",{parentName:"li"},"0")),(0,s.mdx)("li",{parentName:"ul"},"si l'argument ",(0,s.mdx)("inlineCode",{parentName:"li"},"page"),"\xa0est sup\xe9rieur ou \xe9gal \xe0 1 et inf\xe9rieur au nombre total de pages du livre, ",(0,s.mdx)("inlineCode",{parentName:"li"},"readBook"),"\xa0modifie le champ ",(0,s.mdx)("inlineCode",{parentName:"li"},"currentPage"),"\nde l'instance pour \xeatre \xe9gal \xe0 la valeur de l'argument pass\xe9, et retourne 1"),(0,s.mdx)("li",{parentName:"ul"},"si l'argument ",(0,s.mdx)("inlineCode",{parentName:"li"},"page"),"\xa0est \xe9gal au nombre total de pages du livre, ",(0,s.mdx)("inlineCode",{parentName:"li"},"readBook"),"\xa0modifie le champ ",(0,s.mdx)("inlineCode",{parentName:"li"},"currentPage"),"\xa0de l'instance pour \xeatre \xe9gal\n\xe0 la valeur de l'argument pass\xe9, modifie le champ ",(0,s.mdx)("inlineCode",{parentName:"li"},"read"),"\xa0de l'instance en ",(0,s.mdx)("inlineCode",{parentName:"li"},"true"),", et retourne ",(0,s.mdx)("inlineCode",{parentName:"li"},"1"))))),(0,s.mdx)("p",null,"Quand vous aurez cr\xe9\xe9 la classe ",(0,s.mdx)("inlineCode",{parentName:"p"},"Book"),", vous en cr\xe9erez au moins trois instances valables et vous les mettrez dans le tableau ",(0,s.mdx)("inlineCode",{parentName:"p"},"books"),"\xa0qui est\nexport\xe9 par ",(0,s.mdx)("inlineCode",{parentName:"p"},"Book.js"),". Pour v\xe9rifier votre travail, actualisez le navigateur Codevolve int\xe9gr\xe9 : vos instances ",(0,s.mdx)("inlineCode",{parentName:"p"},"Book"),"\xa0devraient \xeatre visibles\ndans le carousel de l'interface ",(0,s.mdx)("strong",{parentName:"p"},"RestfulReading"),"."),(0,s.mdx)("p",null,"Pour tester votre m\xe9thode instance ",(0,s.mdx)("inlineCode",{parentName:"p"},"readBook"),", suivez ces instructions pour trois livres (sans rafra\xeechir la page) :"),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},"mettez \xe0 jour la page actuelle avec une page valable qui est inf\xe9rieure au nombre total de pages"),(0,s.mdx)("li",{parentName:"ul"},'mettez \xe0 jour la page actuelle avec exactement le nombre de pages total du livre (le livre devrait dispara\xeetre du carousel et appara\xeetre dans\nla liste "Lus")')),(0,s.mdx)("hr",null),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-javascript"},'export class Book {\n  constructor(title, author, description, pages, currentPage, read) {\n    this.title = title;\n    this.author = author;\n    this.description = description;\n    this.pages = pages;\n    this.currentPage = currentPage;\n    this.read = read;\n  }\n  readBook(page) {\n    if (page < 1 || page > this.pages) {\n      return 0;\n    }\n    if (page > 1 && page < this.pages) {\n      this.currentPage = page;\n      return 1;\n    }\n    if (page = this.pages) {\n      this.currentPage = page;\n      this.read = true;\n      return 1;\n    }\n  }\n}\n\nconst newBook1 = new Book("Lundi", "Albert", "Livre 1", 100, 1, false);\nconst newBook2 = new Book("Mardi", "Bertrand", "Livre 2", 150, 1, false);\nconst newBook3 = new Book("Mercredi", "Camille", "Livre 3", 200, 1, false);\nexport const books = [newBook1, newBook2, newBook3];\n')),(0,s.mdx)("hr",null),(0,s.mdx)("embed",{style:{width:"100%",height:"667px"},src:"https://nt.dev/s/c005a0ee2274"}),(0,s.mdx)("hr",null),(0,s.mdx)("h4",{id:"question-1--lequel-des-mots-suivants-appara\xeet-dans-lalerte-navigateur-une-fois-lexercice-termin\xe9-"},"Question 1 : Lequel des mots suivants appara\xeet dans l'alerte navigateur une fois l'exercice termin\xe9 ?"),(0,s.mdx)("i",{class:"bi bi-circle"}),"chats",(0,s.mdx)("br",null),(0,s.mdx)("i",{class:"bi bi-circle"}),"chiens",(0,s.mdx)("br",null),(0,s.mdx)("i",{class:"bi bi-circle"}),"chatons",(0,s.mdx)("br",null),(0,s.mdx)("i",{class:"bi bi-record-circle"})," chiots",(0,s.mdx)("br",null),(0,s.mdx)("i",{class:"bi bi-circle"}),"ch\xe8vres",(0,s.mdx)("br",null),(0,s.mdx)("i",{class:"bi bi-circle"}),"moutons",(0,s.mdx)("br",null),(0,s.mdx)("br",null))}c.isMDXComponent=!0}}]);