"use strict";(self.webpackChunkmon_web_dev_wiki=self.webpackChunkmon_web_dev_wiki||[]).push([[9686],{79511:function(e,n,a){a.r(n),a.d(n,{frontMatter:function(){return l},contentTitle:function(){return m},metadata:function(){return u},toc:function(){return d},default:function(){return c}});var s=a(87462),i=a(63366),r=(a(67294),a(3905)),t=(a(9877),a(58215),a(56222)),o=["components"],l={sidebar_position:4},m="R\xe9alisez des animations dynamiques avec les @keyframes",u={unversionedId:"OpenClassrooms/Dynamisez_une_page_web_avec_des_animations_CSS/Creez_des_animations_CSS_modernes/Realisez_des_animations_dynamiques_avec_les_keyframes",id:"OpenClassrooms/Dynamisez_une_page_web_avec_des_animations_CSS/Creez_des_animations_CSS_modernes/Realisez_des_animations_dynamiques_avec_les_keyframes",title:"R\xe9alisez des animations dynamiques avec les @keyframes",description:"Cr\xe9ez des animations plus complexes avec la r\xe8gle CSS @keyframes",source:"@site/docs/OpenClassrooms/3-Dynamisez_une_page_web_avec_des_animations_CSS/2-Creez_des_animations_CSS_modernes/3-Realisez_des_animations_dynamiques_avec_les_keyframes.mdx",sourceDirName:"OpenClassrooms/3-Dynamisez_une_page_web_avec_des_animations_CSS/2-Creez_des_animations_CSS_modernes",slug:"/OpenClassrooms/Dynamisez_une_page_web_avec_des_animations_CSS/Creez_des_animations_CSS_modernes/Realisez_des_animations_dynamiques_avec_les_keyframes",permalink:"/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Dynamisez_une_page_web_avec_des_animations_CSS/Creez_des_animations_CSS_modernes/Realisez_des_animations_dynamiques_avec_les_keyframes",editUrl:"https://github.com/gylgyl2000/Mon_Web_Dev_Wiki/edit/master/website/docs/OpenClassrooms/3-Dynamisez_une_page_web_avec_des_animations_CSS/2-Creez_des_animations_CSS_modernes/3-Realisez_des_animations_dynamiques_avec_les_keyframes.mdx",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"openClassroomsSidebar",previous:{title:"Ma\xeetrisez les translations, les rotations et l\u2019opacit\xe9",permalink:"/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Dynamisez_une_page_web_avec_des_animations_CSS/Creez_des_animations_CSS_modernes/Maitrisez_les_translations_les_rotations_et_l_opacite"},next:{title:"Mission",permalink:"/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Optimisez_un_site_web_existant/mission"}},d=[{value:"Cr\xe9ez des animations plus complexes avec la r\xe8gle CSS @keyframes",id:"cr\xe9ez-des-animations-plus-complexes-avec-la-r\xe8gle-css-keyframes",children:[{value:"Cr\xe9ez des \xe9tapes suppl\xe9mentaires",id:"cr\xe9ez-des-\xe9tapes-suppl\xe9mentaires",children:[],level:3},{value:"D\xe9finissez vos keyframes",id:"d\xe9finissez-vos-keyframes",children:[],level:3},{value:"Passez \xe0 l&#39;action",id:"passez-\xe0-laction",children:[],level:3},{value:"D\xe9composez les diff\xe9rents keyframes",id:"d\xe9composez-les-diff\xe9rents-keyframes",children:[],level:3},{value:"Animez plusieurs propri\xe9t\xe9s",id:"animez-plusieurs-propri\xe9t\xe9s",children:[],level:3},{value:"En r\xe9sum\xe9",id:"en-r\xe9sum\xe9",children:[],level:3}],level:2},{value:"Utilisez les propri\xe9t\xe9s de l&#39;animation CSS",id:"utilisez-les-propri\xe9t\xe9s-de-lanimation-css",children:[{value:"Comprenez la diff\xe9rence entre @keyframes et transition",id:"comprenez-la-diff\xe9rence-entre-keyframes-et-transition",children:[],level:3},{value:"D\xe9clenchez vos animations d\xe8s le chargement de la page",id:"d\xe9clenchez-vos-animations-d\xe8s-le-chargement-de-la-page",children:[],level:3},{value:"Ajoutez un d\xe9lai \xe0 votre animation @keyframes",id:"ajoutez-un-d\xe9lai-\xe0-votre-animation-keyframes",children:[],level:3},{value:"Encha\xeenez les animations",id:"encha\xeenez-les-animations",children:[],level:3},{value:"\xc9tendez les propri\xe9t\xe9s de vos keyframes avec animation-fill-mode",id:"\xe9tendez-les-propri\xe9t\xe9s-de-vos-keyframes-avec-animation-fill-mode",children:[],level:3},{value:"Animez vari\xe9 et \xe9quilibr\xe9",id:"animez-vari\xe9-et-\xe9quilibr\xe9",children:[],level:3},{value:"R\xe9sum\xe9",id:"r\xe9sum\xe9",children:[],level:3}],level:2},{value:"Manipulez et r\xe9utilisez les animations CSS",id:"manipulez-et-r\xe9utilisez-les-animations-css",children:[{value:"Repensez votre validation d&#39;email",id:"repensez-votre-validation-demail",children:[],level:3},{value:"Cr\xe9ez des \xe9motions avec vos animations",id:"cr\xe9ez-des-\xe9motions-avec-vos-animations",children:[],level:3},{value:"Cr\xe9ez votre premier loader",id:"cr\xe9ez-votre-premier-loader",children:[],level:3},{value:"Faites boucler vos animations \xe0 l&#39;infini",id:"faites-boucler-vos-animations-\xe0-linfini",children:[],level:3},{value:"Faites une pause",id:"faites-une-pause",children:[],level:3},{value:"En r\xe9sum\xe9",id:"en-r\xe9sum\xe9-1",children:[],level:3}],level:2},{value:"Affinez vos animations CSS avec DevTools",id:"affinez-vos-animations-css-avec-devtools",children:[{value:"Ajustez vos animations par l&#39;it\xe9ration et les bonnes pratiques",id:"ajustez-vos-animations-par-lit\xe9ration-et-les-bonnes-pratiques",children:[],level:3},{value:"D\xe9mythifiez les animations",id:"d\xe9mythifiez-les-animations",children:[],level:3},{value:"\xc9valuez vos animations",id:"\xe9valuez-vos-animations",children:[],level:3},{value:"Comparez vos animations",id:"comparez-vos-animations",children:[],level:3},{value:"En r\xe9sum\xe9",id:"en-r\xe9sum\xe9-2",children:[],level:3}],level:2},{value:"R\xe9sum\xe9 du cours",id:"r\xe9sum\xe9-du-cours",children:[],level:2},{value:"Quiz : R\xe9alisez des animations dynamiques",id:"quiz--r\xe9alisez-des-animations-dynamiques",children:[{value:"Comp\xe9tences \xe9valu\xe9es",id:"comp\xe9tences-\xe9valu\xe9es",children:[],level:4},{value:"Description",id:"description",children:[],level:4},{value:"Question 1 : Quels\xa0snippets de code me permettent de cr\xe9er une animation @keyframes ?",id:"question-1--quelssnippets-de-code-me-permettent-de-cr\xe9er-une-animation-keyframes-",children:[],level:4},{value:"Question 2 : Une animation @keyframes peut \xeatre d\xe9clench\xe9e en CSS\u2026",id:"question-2--une-animation-keyframes-peut-\xeatre-d\xe9clench\xe9e-en-css",children:[],level:4},{value:"Question 3 : J&#39;ai besoin d&#39;aide.",id:"question-3--jai-besoin-daide",children:[],level:4},{value:"Question 4 : Trouvez l&#39;intrus !",id:"question-4--trouvez-lintrus-",children:[],level:4},{value:"Question 5 : Quelles affirmations sont exactes ?",id:"question-5--quelles-affirmations-sont-exactes-",children:[],level:4},{value:"Question 6 : Maintenant, je veux que vous retourniez sur le repository GitHub li\xe9 \xe0 ce cours. Encore une fois, lisez le readme.md pour obtenir plus d&#39;informations sur comment faire marcher le code.",id:"question-6--maintenant-je-veux-que-vous-retourniez-sur-le-repository-github-li\xe9-\xe0-ce-cours-encore-une-fois-lisez-le-readmemd-pour-obtenir-plus-dinformations-sur-comment-faire-marcher-le-code",children:[],level:4},{value:"Question 7 : Reprenons l&#39;exemple ci-dessus.",id:"question-7--reprenons-lexemple-ci-dessus",children:[],level:4},{value:"Question 8 : Au tour, cette fois-ci, de la voiture !",id:"question-8--au-tour-cette-fois-ci-de-la-voiture-",children:[],level:4},{value:"Question 9 : Testons maintenant les freins de notre voiture.",id:"question-9--testons-maintenant-les-freins-de-notre-voiture",children:[],level:4},{value:"Question 10 : Restons sur la voiture. Je veux cette fois-ci que ma voiture marque un d\xe9lai de 3 secondes avant de se lancer puis de sortir de l&#39;\xe9cran et de rester en dehors de l&#39;\xe9cran. Comme dans le GIF ci-dessous :",id:"question-10--restons-sur-la-voiture-je-veux-cette-fois-ci-que-ma-voiture-marque-un-d\xe9lai-de-3-secondes-avant-de-se-lancer-puis-de-sortir-de-l\xe9cran-et-de-rester-en-dehors-de-l\xe9cran-comme-dans-le-gif-ci-dessous-",children:[],level:4}],level:2}],p={toc:d};function c(e){var n=e.components,a=(0,i.Z)(e,o);return(0,r.mdx)("wrapper",(0,s.Z)({},p,a,{components:n,mdxType:"MDXLayout"}),(0,r.mdx)("h1",{id:"r\xe9alisez-des-animations-dynamiques-avec-les-keyframes"},"R\xe9alisez des animations dynamiques avec les @keyframes"),(0,r.mdx)("h2",{id:"cr\xe9ez-des-animations-plus-complexes-avec-la-r\xe8gle-css-keyframes"},"Cr\xe9ez des animations plus complexes avec la r\xe8gle CSS @keyframes"),(0,r.mdx)("p",null,(0,r.mdx)("a",{parentName:"p",href:"https://openclassrooms.com/fr/courses/5919246-creez-des-animations-css-modernes/6340923-creez-des-animations-plus-complexes-avec-la-regle-css-keyframes"},"Cr\xe9ez des animations plus complexes avec la r\xe8gle CSS @keyframes - Cr\xe9ez des animations CSS modernes - OpenClassrooms")),(0,r.mdx)(t.fG,{vimeoId:"508777342",mdxType:"Vimeo"}),(0,r.mdx)("br",null),(0,r.mdx)("p",null,"Avec les transitions, nous avons appris \xe0 d\xe9finir une valeur de d\xe9part et une valeur de fin."),(0,r.mdx)("p",null,"Ces transitions sont parfaites pour animer par exemple l'\xe9tat de survol d'un bouton ou le fait de passer d'une couleur A \xe0 une couleur B (en\nanimant ",(0,r.mdx)("inlineCode",{parentName:"p"},"opacity"),"\xa0et pas ",(0,r.mdx)("inlineCode",{parentName:"p"},"background-color"),", n'est-ce pas \ud83e\udd28). Simple et efficace. Vous pouvez m\xeame changer le timing de votre transition."),(0,r.mdx)("p",null,"Mais comment faire si on veut plus qu'un point A et un point B ?"),(0,r.mdx)("h3",{id:"cr\xe9ez-des-\xe9tapes-suppl\xe9mentaires"},"Cr\xe9ez des \xe9tapes suppl\xe9mentaires"),(0,r.mdx)("p",null,"Jetons un \u0153il \xe0 la barre de progression que nous avions cr\xe9\xe9e dans la partie 2, lorsque nous avons \xe9tudi\xe9 ",(0,r.mdx)("inlineCode",{parentName:"p"},"transform-origin"),"\xa0:"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2021/02/10/16129488216241_Gif099.gif",alt:"La barre de chargement avec transform-origin"})),(0,r.mdx)("p",null,"Cette barre de chargement fait le travail. Mais\u2026 toutes les personnes ayant d\xe9j\xe0 t\xe9l\xe9charg\xe9 quelque chose sur Internet savent que les vitesses\nde connexion sont loin d'\xeatre ",(0,r.mdx)("strong",{parentName:"p"},"constantes"),". La progression se fait par \xe0-coups, entrecoup\xe9s de pauses et de ralentissements (ce qu'on pr\xe9f\xe8re).\nDans la courbe d'acc\xe9l\xe9ration de notre transition, le ",(0,r.mdx)("strong",{parentName:"p"},"timing")," commence rapidement avant de s'estomper vers la fin, mais la progression suit\ntoujours une trajectoire r\xe9guli\xe8re."),(0,r.mdx)("p",null,"Si nous voulons cr\xe9er une barre de progression avec un ressenti plus ",(0,r.mdx)("strong",{parentName:"p"},"authentique"),", nous pouvons utiliser la r\xe8gle CSS ",(0,r.mdx)("em",{parentName:"p"},(0,r.mdx)("strong",{parentName:"em"},"@keyframes")),". Elle\nnous permet de cr\xe9er des arr\xeats et des acc\xe9l\xe9rations plus irr\xe9guliers, qui ressemblent davantage \xe0 une v\xe9ritable barre de chargement."),(0,r.mdx)("p",null,"Alors que les transitions CSS ne font que passer d'une valeur \xe0 l'autre, les @keyframes nous permettent de concevoir des animations avec\nplusieurs \xe9tapes, et ainsi de cr\xe9er des animations plus ",(0,r.mdx)("strong",{parentName:"p"},"complexes")," et ",(0,r.mdx)("strong",{parentName:"p"},"dynamiques"),"."),(0,r.mdx)("p",null,"Repr\xe9sentez-vous une course d'obstacles. Pour se rendre de la ligne de d\xe9part \xe0 la ligne d'arriv\xe9e, les concurrents doivent passer \xe0 travers\ndes pneus, grimper par-dessus un mur et se balancer \xe0 travers une s\xe9rie de barres parall\xe8les. Et entre\xa0deux obstacles, un point de contr\xf4le,\npour que les concurrents terminent tout le parcours, plut\xf4t que de tricher en courant directement jusqu'\xe0 la ligne d'arriv\xe9e. Nous pouvons\ncomparer les @keyframes \xe0 ces points de contr\xf4le : ils jalonnent l'itin\xe9raire de nos animations."),(0,r.mdx)("h3",{id:"d\xe9finissez-vos-keyframes"},"D\xe9finissez vos keyframes"),(0,r.mdx)("p",null,"Un keyframe CSS est d\xe9fini par le ",(0,r.mdx)("strong",{parentName:"p"},"pourcentage d'animation")," compl\xe9t\xe9 lorsque sa valeur est r\xe9alis\xe9e."),(0,r.mdx)("p",null,"Cela veut dire que le d\xe9but de notre animation en keyframes aurait une progression de 0% et la propri\xe9t\xe9 transform\xe9e une valeur de ",(0,r.mdx)("inlineCode",{parentName:"p"},"scaleX(0)"),".\nLa fin aurait une progression de 100% et une valeur de ",(0,r.mdx)("inlineCode",{parentName:"p"},"scaleX(1)"),". Maintenant que nous avons la premi\xe8re et la derni\xe8re \xe9tape, construisons\nnotre premier ensemble de @keyframes\xa0!"),(0,r.mdx)("p",null,"Contrairement aux transitions, qui sont \xe0 usage unique et qui n'existent qu'\xe0 l'int\xe9rieur du s\xe9lecteur o\xf9 elles ont \xe9t\xe9 d\xe9clar\xe9es, les\n@keyframes sont disponibles globalement, donc n'importe quel s\xe9lecteur dans notre fichier CSS peut les utiliser. Et comme ils sont disponibles\nde mani\xe8re globale, ils ne sont pas d\xe9clar\xe9s dans un s\xe9lecteur. Au lieu de cela, nous d\xe9clarons les @keyframes au niveau de base du fichier CSS,\nen utilisant l'op\xe9rateur @keyframe, suivi du nom de notre choix, entre accolades ouverte et ferm\xe9e :"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"@keyframes progress-bar {\n}\n")),(0,r.mdx)("p",null,"Lorsque nous utilisons la r\xe8gle @keyframes, nous d\xe9clarons un ",(0,r.mdx)("strong",{parentName:"p"},"ensemble")," de keyframes et nous lui donnons un nom, que nous pouvons utiliser\npour appeler l'animation sur le s\xe9lecteur de notre choix. Maintenant que nous avons cr\xe9\xe9 un ensemble @keyframes pour notre barre de progression,\najoutons nos keyframes de d\xe9but et de fin."),(0,r.mdx)("p",null,"Chaque keyframe est d\xe9fini en utilisant son pourcentage, puis sa propre paire d'accolades qui nous permettent de d\xe9finir les propri\xe9t\xe9s que\nnous souhaitons appliquer \xe0 ce stade de l'animation\xa0:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"@keyframes progress-bar {\n    0% {\n        transform: scaleX(0);\n    }\n    100% {\n        transform: scaleX(1);\n    }\n}\n")),(0,r.mdx)("p",null,"Nous avons maintenant une animation \xab\xa0progress-bar\xa0\xbb (barre de progression) d\xe9finie par la r\xe8gle keyframes. Elle part d'une \xe9chelle ",(0,r.mdx)("inlineCode",{parentName:"p"},"scaleX()"),"\nde z\xe9ro qui finit \xe0 1 au cours de son animation, tout comme la transition que nous avons construite dans la partie 2."),(0,r.mdx)("p",null,"Imaginons que nous\xa0voulions des keyframes de d\xe9but et de fin sans rien au milieu. Dans ce cas, pas besoin de pourcentage\xa0: nous pouvons d\xe9finir\nles keyframes en utilisant les mots cl\xe9s \xab\xa0",(0,r.mdx)("strong",{parentName:"p"},"from"),"\xa0\xbb et \xab\xa0",(0,r.mdx)("strong",{parentName:"p"},"to"),"\xa0\xbb\xa0:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"@keyframes progress-bar {\n    from {\n        transform: scaleX(0);\n    }\n    to {\n        transform: scaleX(1);\n    }\n}\n")),(0,r.mdx)("p",null,"Le mot cl\xe9 \xab\xa0from\xa0\xbb agit exactement de la m\xeame fa\xe7on que le 0%, et \xab\xa0to\xa0\xbb correspond \xe0 100%\xa0: \xe0 vous de choisir en fonction de vos\npr\xe9f\xe9rences/vos styles de codage \xe9tablis."),(0,r.mdx)("p",null,"On est plut\xf4t pas mal partis\u2026"),(0,r.mdx)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,r.mdx)("h5",{parentName:"div"},(0,r.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,r.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"?")),(0,r.mdx)("div",{parentName:"div",className:"admonition-content"},(0,r.mdx)("p",{parentName:"div"},"Mais qu'est-ce qu'on fait maintenant ?"))),(0,r.mdx)("h3",{id:"passez-\xe0-laction"},"Passez \xe0 l'action"),(0,r.mdx)("p",null,"Nous pouvons ajouter cette animation dans le pseudos\xe9lecteur ",(0,r.mdx)("inlineCode",{parentName:"p"},":active"),"\xa0de notre bouton. Cela vous rappelle quelque chose ? C'est ce que nous\navions fait pour notre transition. Sauf qu'ici, nous la d\xe9clarons via les propri\xe9t\xe9s ",(0,r.mdx)("inlineCode",{parentName:"p"},"animation-name"),"\xa0et ",(0,r.mdx)("inlineCode",{parentName:"p"},"animation-duration"),".\n",(0,r.mdx)("inlineCode",{parentName:"p"},"animation-duration"),"\xa0ressemble beaucoup \xe0 ",(0,r.mdx)("inlineCode",{parentName:"p"},"transition-duration"),", et accepte une valeur en ms (millisecondes) ou en s (secondes)."),(0,r.mdx)("p",null,(0,r.mdx)("inlineCode",{parentName:"p"},"animation-name"),", en revanche, est une nouvelle propri\xe9t\xe9. Elle nous permet d'assigner l'animation que nous venons de d\xe9clarer (avec les\n\xe9tapes from et to) \xe0 notre \xe9l\xe9ment d\xe9clencheur ; ici la pseudoclasse ",(0,r.mdx)("inlineCode",{parentName:"p"},":active"),"."),(0,r.mdx)("p",null,"Ainsi, pour utiliser les keyframes de notre animation progress-bar, nous devons donner la valeur progress-bar \xe0 ",(0,r.mdx)("inlineCode",{parentName:"p"},"animation-name"),"\xa0:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},".btn {\n    &:active {\n        & > .progress__bar {\n            transform: scaleX(1);\n            animation-name: progress-bar;\n        }\n    }\n}\n@keyframes progress-bar {\n    0% {\n        transform: scaleX(0);\n    }\n    100% {\n        transform: scaleX(1);\n    }\n}\n")),(0,r.mdx)("p",null,"Maintenant, il nous suffit de reproduire la dur\xe9e de notre transition. Pour cela, assignons \xe0 la propri\xe9t\xe9 ",(0,r.mdx)("inlineCode",{parentName:"p"},"animation-duration"),"\xa0une valeur de\n1000\xa0ms\xa0:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},".btn {\n    &:active {\n        & > .progress__bar {\n            transform: scaleX(1);\n            animation-name: progress-bar;\n            animation-duration: 1000ms;\n        }\n    }\n}\n@keyframes progress-bar {\n    0% {\n        transform: scaleX(0);\n    }\n    100% {\n        transform: scaleX(1);\n    }\n}\n")),(0,r.mdx)("p",null,"Bien jou\xe9\xa0!"),(0,r.mdx)("p",null,"Pour bien comprendre : les transitions s'animent lorsqu'on assigne une valeur \xe0 une propri\xe9t\xe9 et que cette valeur change dans l'\xe9l\xe9ment\nd\xe9clencheur. Pour les transitions, les valeurs doivent donc \xeatre assign\xe9es aux s\xe9lecteurs \xe0 l'int\xe9rieur de notre code."),(0,r.mdx)("p",null,"Les animations @keyframes sont un peu diff\xe9rentes. Lorsque ",(0,r.mdx)("inlineCode",{parentName:"p"},"animation-name"),"\xa0et ",(0,r.mdx)("inlineCode",{parentName:"p"},"animation-duration"),"\xa0sont assign\xe9s \xe0 un s\xe9lecteur, les\npropri\xe9t\xe9s et valeurs contenues dans chaque keyframe sont appliqu\xe9es pendant toute la dur\xe9e de l'animation."),(0,r.mdx)("p",null,"Cela signifie que nous n'avons pas besoin de nous soucier de r\xe9gler la valeur de ",(0,r.mdx)("inlineCode",{parentName:"p"},"scaleX()"),"\xa0comme nous l'avions fait avec notre transition sur\nla barre de progression. Nous n'avons cependant pas besoin de la supprimer. En cas de conflit entre les propri\xe9t\xe9s/valeurs CSS d'une valeur\nassign\xe9e et d'une valeur avec keyframe, le CSS privil\xe9gie la valeur d\xe9clar\xe9e dans le keyframe."),(0,r.mdx)("div",{className:"admonition admonition-caution alert alert--warning"},(0,r.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,r.mdx)("h5",{parentName:"div"},(0,r.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,r.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,r.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"!")),(0,r.mdx)("div",{parentName:"div",className:"admonition-content"},(0,r.mdx)("p",{parentName:"div"},"Quelles que soient les propri\xe9t\xe9s CSS que nous pla\xe7ons \xe0 l'int\xe9rieur de notre animation\xa0@keyframes, elles remplaceront toutes les propri\xe9t\xe9s\nCSS existantes sur le s\xe9lecteur o\xf9 elles sont assign\xe9es. Il est important de se rappeler que nous ne pouvons avoir qu'une seule propri\xe9t\xe9 de\ntransformation appliqu\xe9e \xe0 un s\xe9lecteur. Par exemple, si nous avons un s\xe9lecteur ayant une propri\xe9t\xe9 ",(0,r.mdx)("inlineCode",{parentName:"p"},"transform"),"\xa0utilisant la fonction\n",(0,r.mdx)("inlineCode",{parentName:"p"},"translate()"),", nos keyframes ayant \xe9galement scale l'\xe9craseront et supprimeront toutes les translations que nous avions appliqu\xe9es."))),(0,r.mdx)("p",null,"M\xeame si nous n'en avons pas ",(0,r.mdx)("em",{parentName:"p"},"besoin"),", pour des raisons de clart\xe9, voyons comment supprimer transform de la pseudoclasse\xa0",(0,r.mdx)("inlineCode",{parentName:"p"},":active"),"\xa0:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},".btn {\n    &:active {\n        & > .progress__bar {\n            animation-name: progress-bar;\n            animation-duration: 1000ms;\n        }\n    }\n}\n@keyframes progress-bar {\n    0% {\n        transform: scaleX(0);\n    }\n    100% {\n        transform: scaleX(1);\n    }\n}\n")),(0,r.mdx)("p",null,"Et voil\xe0, on est pr\xeats\xa0!"),(0,r.mdx)("p",null,"Heu\u2026 vraiment\xa0? Comme pour les transitions, il est possible d'utiliser une seule propri\xe9t\xe9 d'animation pour d\xe9finir son nom, sa dur\xe9e, etc. Un\npeu de m\xe9nage s'impose pour simplifier notre code !"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},".btn {\n    &:active {\n        & > .progress__bar {\n            animation: progress-bar 1000ms;\n        }\n    }\n}\n@keyframes progress-bar {\n    0% {\n        transform: scaleX(0);\n    }\n    100% {\n        transform: scaleX(1);\n    }\n}\n")),(0,r.mdx)("p",null,"Voyons voir comment se porte notre nouvelle barre de progression avec keyframes\xa0:"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2021/02/10/16129488552233_Gif100.gif",alt:"La barre de chargement avec les keyframes"})),(0,r.mdx)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,r.mdx)("h5",{parentName:"div"},(0,r.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,r.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"?")),(0,r.mdx)("div",{parentName:"div",className:"admonition-content"},(0,r.mdx)("p",{parentName:"div"},"O\xf9 est-elle pass\xe9e ?! Elle s'anime comme on voulait... mais ensuite elle dispara\xeet\xa0?"))),(0,r.mdx)("p",null,"Nous reviendrons plus en d\xe9tail sur les diff\xe9rences entre les transitions et les animations r\xe9alis\xe9es avec @keyframes dans le chapitre suivant.\nMais pour l'instant, sachez simplement que les deux se comportent diff\xe9remment."),(0,r.mdx)("h3",{id:"d\xe9composez-les-diff\xe9rents-keyframes"},"D\xe9composez les diff\xe9rents keyframes"),(0,r.mdx)("p",null,"Nous avons une barre de progression anim\xe9e qui passe directement de 0% \xe0 100%. Elle ressemble bien \xe0 notre transition. Mais nous voulions\n",(0,r.mdx)("strong",{parentName:"p"},"complexifier")," l'animation en ajoutant quelques keyframes ici et l\xe0. Pour cela, quels pourcentages devons-nous choisir\xa0? Et quelles valeurs\ndevons-nous leur attribuer\xa0? Utilisons comme mod\xe8le la courbe d'acc\xe9l\xe9ration de notre transition de barre de progression originale\xa0:"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2021/02/15/16133908125247_CSS_graphic_1C6_5%20copy.png",alt:"Image montrant la progression originale de l'animation"})),(0,r.mdx)("div",{className:"admonition admonition-info alert alert--info"},(0,r.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,r.mdx)("h5",{parentName:"div"},(0,r.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,r.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.mdx)("div",{parentName:"div",className:"admonition-content"},(0,r.mdx)("p",{parentName:"div"},"Comme dans la partie pr\xe9c\xe9dente, le logiciel le plus utilis\xe9 \xe9tant en anglais, les captures d'\xe9cran seront en anglais."),(0,r.mdx)("p",{parentName:"div"},"Pr\xe9cisons : Animation Percentage = pourcentage de l'animation."))),(0,r.mdx)("p",null,"Sur l'axe X, nous avons le pourcentage de progression de l'animation, de notre point de d\xe9part \xe0 0% \xe0 100% tout \xe0 droite. Et sur l'axe Y, nous\navons la valeur de ",(0,r.mdx)("inlineCode",{parentName:"p"},"scaleX()")," de 0 en bas \xe0 1 en haut."),(0,r.mdx)("p",null,"Si nous devions choisir un point le long de la courbe d'acc\xe9l\xe9ration, sa coordonn\xe9e X pourrait servir de valeur en pourcentage des keyframes,\net sa coordonn\xe9e Y de valeur pour ",(0,r.mdx)("inlineCode",{parentName:"p"},"scaleX()"),"\xa0:"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2021/02/10/16129488958038_Gif101.gif",alt:"Barre de chargement avec keyframes"})),(0,r.mdx)("p",null,"Choisissons trois points le long de la courbe que nous d\xe9finirons comme keyframes. Puisque nous voulons d\xe9composer un peu l'animation de fa\xe7on\n\xe0 la rendre plus naturelle, essayons de choisir ces points \xe0 intervalles al\xe9atoires sur l'axe des X. Quelque chose comme cela pourrait marcher\xa0:"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2019/08/06/15650997031089_image54.png",alt:"Les points choisis pour les keyframes"})),(0,r.mdx)("p",null,"Maintenant que nous avons des valeurs avec lesquelles nous pouvons travailler, replongeons-nous dans nos keyframes\xa0! Pour les cr\xe9er, nous\nallons prendre la coordonn\xe9e X de chaque point, la transformer en pourcentage pour chacun de nos nouveaux keyframes, et utiliser la coordonn\xe9e\nY comme valeur pour la valeur de scaleX(), de cette fa\xe7on :"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},".btn {\n    &:active {\n        & > .progress__bar {\n            animation: progress-bar 1000ms;\n        }\n    }\n}\n@keyframes progress-bar {\n    0% {\n        transform: scaleX(0);\n    }\n    17% {\n        transform: scaleX(.18);\n    }\n    24% {\n        transform: scaleX(.4);\n    }\n    46% {\n        transform: scaleX(.81);\n    }\n    100% {\n        transform: scaleX(1);\n    }\n}\n")),(0,r.mdx)("p",null,"Voyons comment l'animation s'affiche \xe0 l'\xe9cran avec nos nouveaux keyframes\xa0:"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2021/02/10/16129489187728_Gif102.gif",alt:"L'animation de la barre de chargement avec les keyframes"})),(0,r.mdx)("p",null,"La barre se remplit avec un profil similaire \xe0 notre transition, mais chaque fois que l'animation arrive \xe0 un keyframe, il y a un l\xe9ger\nralentissement dans sa progression. On approche bien du sentiment de vraiment charger quelque chose."),(0,r.mdx)("div",{className:"admonition admonition-info alert alert--info"},(0,r.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,r.mdx)("h5",{parentName:"div"},(0,r.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,r.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.mdx)("div",{parentName:"div",className:"admonition-content"},(0,r.mdx)("p",{parentName:"div"},"Les ralentissements \xe0 chaque keyframe proviennent de la fonction de timing qui leur est appliqu\xe9e par d\xe9faut. Ici, nous n'avons pas appliqu\xe9\nmanuellement de fonction de timing, donc comme pour les transitions, une fonction de timing par d\xe9faut est appliqu\xe9e. Dans le chapitre suivant,\nnous examinerons plus en d\xe9tail le r\xf4le des fonctions de timing avec les @keyframes CSS, mais pour l'instant, sachez que si aucune fonction de\ntiming n'est appliqu\xe9e \xe0 une animation, une fonction de timing par d\xe9faut est appliqu\xe9e \xe0 chaque keyframe. Cela cr\xe9e ainsi des ralentissements\nmomentan\xe9s entre la sortie lente d'un keyframe et l'introduction lente du keyframe suivant."))),(0,r.mdx)("h3",{id:"animez-plusieurs-propri\xe9t\xe9s"},"Animez plusieurs propri\xe9t\xe9s"),(0,r.mdx)("p",null,"Nous avons donc une barre de progression un peu plus authentique. Ajoutons maintenant encore un peu plus de complexit\xe9. Au-del\xe0 de sa\nprogression de gauche \xe0 droite, nous aimerions aussi que l\u2019opacit\xe9 de notre animation change, pour qu'elle \xe9volue d'un vert translucide \xe0 un\njoli vert menthe, au fur et \xe0 mesure que la barre se remplit. Lorsque nous cr\xe9ons des @keyframes CSS, nous ne sommes pas limit\xe9s \xe0 une seule\npropri\xe9t\xe9. Bien au contraire ! Nous pouvons assigner \xe0 chaque keyframe ",(0,r.mdx)("strong",{parentName:"p"},"autant de propri\xe9t\xe9s")," que nous le souhaitons."),(0,r.mdx)("p",null,"Pour ajouter des propri\xe9t\xe9s suppl\xe9mentaires \xe0 un keyframe, il suffit de les ajouter dans nos ",(0,r.mdx)("strong",{parentName:"p"},"accolades"),", comme nous le ferions avec un\ns\xe9lecteur CSS standard. Pour notre animation de couleur, nous pouvons configurer notre premier keyframe pour que la barre ait une opacit\xe9 de\n10% au d\xe9but de l'animation\xa0:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"@keyframes progress-bar {\n    0% {\n        transform: scaleX(0);\n        opacity: .1;\n    }\n    17% {\n        transform: scaleX(.18);\n    }\n    24% {\n        transform: scaleX(.4);\n    }\n    46% {\n        transform: scaleX(.81);\n    }\n    100% {\n        transform: scaleX(1);\n    }\n}\n")),(0,r.mdx)("p",null,"Nous avons r\xe9gl\xe9 l'opacit\xe9 \xe0 10% dans le premier keyframe. Mais rien n'est pr\xe9cis\xe9 dans les suivants quant \xe0 l'opacit\xe9. On peut supposer que\nla couleur de la barre restera \xe0 10% d'opacit\xe9 pendant le reste de l'animation."),(0,r.mdx)("p",null,"Voyons voir ce que \xe7a donne dans le navigateur :"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2021/02/10/16129489287995_Gif103.gif",alt:"L'animation de la barre de chargement dans le navigateur"})),(0,r.mdx)("p",null,"\u2026 Ce n'est pas du tout le cas !"),(0,r.mdx)("p",null,"Bien qu'il n'y ait pas d'autres keyframes pour l'opacit\xe9, la barre repasse bien \xe0 100% d'opacit\xe9 au cours de l'animation."),(0,r.mdx)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,r.mdx)("h5",{parentName:"div"},(0,r.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,r.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"?")),(0,r.mdx)("div",{parentName:"div",className:"admonition-content"},(0,r.mdx)("p",{parentName:"div"},"Mais\xa0pourquoi ?"))),(0,r.mdx)("p",null,"Nous n'avons pas pr\xe9cis\xe9 de valeur d'opacit\xe9 dans les autres keyframes. Le navigateur va donc chercher la valeur d'opacit\xe9 dans le s\xe9lecteur.\nOr, nous n'avons d\xe9clar\xe9 aucune valeur de mani\xe8re explicite non plus dans ",(0,r.mdx)("inlineCode",{parentName:"p"},".progress__bar"),".\xa0Le navigateur prend donc la valeur par d\xe9faut de\n1 pour l'opacit\xe9."),(0,r.mdx)("p",null,"Testons cela. Assignons une valeur de 0 \xe0 opacity dans le s\xe9lecteur ",(0,r.mdx)("inlineCode",{parentName:"p"},".progress__bar"),"\xa0et augmentons l'opacit\xe9 de notre premier keyframe \xe0 50%\xa0:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},".progress {\n    &__bar {\n        opacity: 0;\n    }\n}\n@keyframes progress-bar {\n    0% {\n        transform: scaleX(0);\n        opacity: .5;\n    }\n    17% {\n        transform: scaleX(.18);\n    }\n    24% {\n        transform: scaleX(.4);\n    }\n    46% {\n        transform: scaleX(.81);\n    }\n    100% {\n        transform: scaleX(1);\n    }\n}\n")),(0,r.mdx)("p",null,"Maintenant, notre barre devrait commencer \xe0 50% et s'animer pour devenir compl\xe8tement transparente \xe0 la fin de l'animation\xa0:"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2021/02/10/16129489876045_Gif105.gif",alt:"L'animation avec la valeur d'opacit\xe9 chang\xe9e"})),(0,r.mdx)("p",null,"Sans keyframe de d\xe9part, le navigateur d\xe9marrera l'animation avec la valeur dans le s\xe9lecteur, tout comme il le fait \xe0 la fin d'une animation\nsi nous ne fournissons pas de keyframe de fin. Donc, si nous devions seulement fixer la valeur d'opacit\xe9 \xe0 un pourcentage interm\xe9diaire, comme\ncela\xa0:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},".progress {\n    &__bar {\n        opacity: 0;\n    }\n}\n@keyframes progress-bar {\n    0% {\n        transform: scaleX(0);\n    }\n    17% {\n        transform: scaleX(.18);\n    }\n    24% {\n        transform: scaleX(.4);\n    }\n    46% {\n        transform: scaleX(.81);\n        opacity: 1;\n    }\n    100% {\n        transform: scaleX(1);\n    }\n}\n")),(0,r.mdx)("p",null,"Notre barre commence et se termine d\xe9sormais avec la valeur d'opacit\xe9 que nous avons assign\xe9e dans ",(0,r.mdx)("inlineCode",{parentName:"p"},".progress__bar"),", qui est z\xe9ro\xa0:"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2021/02/10/1612948948211_Gif104.gif",alt:"L'animation de la barre qui se charge"})),(0,r.mdx)("p",null,"Nous sommes d'accord l\xe0-dessus : une barre de progression enti\xe8rement transparente ne constitue pas vraiment la meilleure exp\xe9rience\nutilisateur."),(0,r.mdx)("p",null,"Assignons donc une valeur d'opacit\xe9 de 1. Mais, cette fois-ci, plut\xf4t que d'attendre que l'animation soit compl\xe8tement termin\xe9e pour devenir\nopaque, fixons le pourcentage de keyframe \xe0 85%\xa0:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},".progress {\n    &__bar {\n        opacity: 0;\n    }\n}\n@keyframes progress-bar {\n    0% {\n        transform: scaleX(0);\n    }\n    17% {\n        transform: scaleX(.18);\n    }\n    24% {\n        transform: scaleX(.4);\n    }\n    46% {\n        transform: scaleX(.81);\n    }\n    85% {\n        opacity: 1;\n    }\n    100% {\n        transform: scaleX(1);\n    }\n}\n")),(0,r.mdx)("p",null,"Maintenant notre barre devrait passer 85\xa0% de la dur\xe9e de l'animation \xe0 remplir l'opacit\xe9. Allons v\xe9rifier cela\xa0:"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2021/02/10/1612948998744_Gif106.gif",alt:"L'animation avec l'opacit\xe9 chang\xe9e"})),(0,r.mdx)("p",null,"Eh bien... elle passe bien 85% de l'animation \xe0 augmenter l'opacit\xe9 de la barre, mais ensuite elle passe les 15% de l'animation finale \xe0\nrevenir \xe0 une barre compl\xe8tement transparente. Ce n'est pas exactement ce que nous esp\xe9rions..."),(0,r.mdx)("p",null,"Plut\xf4t normal en fait : nous n'avons toujours pas de valeur pour la propri\xe9t\xe9 d'opacit\xe9 \xe0 animer entre 85% et 100%, donc le navigateur passe\nles 15\xa0derniers pourcents de l'animation \xe0 repasser \xe0 la valeur assign\xe9e \xe0 ",(0,r.mdx)("inlineCode",{parentName:"p"},".progress__bar"),", qui est toujours 0. Nous devons donc d\xe9finir un\ndernier keyframe pour la propri\xe9t\xe9 d'opacit\xe9, avec une valeur fix\xe9e \xe0 1."),(0,r.mdx)("p",null,"Nous avons d\xe9j\xe0 cr\xe9\xe9 un keyframe avec un pourcentage de 100% pour notre propri\xe9t\xe9 ",(0,r.mdx)("inlineCode",{parentName:"p"},"transform"),". Nous pourrions ajouter la propri\xe9t\xe9 d'opacit\xe9 \xe0\nce keyframe, mais que se passerait-il si nous d\xe9cidions que nous voulions que notre opacit\xe9 finale soit de 85% au lieu de 100%\xa0? Ensuite, nous\ndevons modifier la valeur d'opacit\xe9 dans plusieurs emplacements. Cela signifie plus de travail \ud83d\ude2d, mais aussi des risques suppl\xe9mentaires\nd'oubli et d'erreur."),(0,r.mdx)("p",null,"Jusqu'\xe0 pr\xe9sent, nous avons fix\xe9 un pourcentage unique pour chaque keyframe, mais nous pouvons attribuer plusieurs pourcentages \xe0 un keyframe.\nEn ajoutant plusieurs pourcentages \xe0 un keyframe, le navigateur appliquera son contenu \xe0 chaque pourcentage d'animation. Il suffit de les\ns\xe9parer par des virgules\xa0:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},".progress {\n    &__bar {\n        opacity: 0;\n    }\n}\n@keyframes progress-bar {\n    0% {\n        transform: scaleX(0);\n    }\n    17% {\n        transform: scaleX(.18);\n    }\n    24% {\n        transform: scaleX(.4);\n    }\n    46% {\n        transform: scaleX(.81);\n    }\n    85%,100% {\n        opacity: 1;\n    }\n    100% {\n        transform: scaleX(1);\n    }\n}\n")),(0,r.mdx)("p",null,"Et maintenant, si nous reprenons notre barre de progression pour la tester \xe0 nouveau, les choses ",(0,r.mdx)("em",{parentName:"p"},"devraient")," ressembler \xe0 ce \xe0 quoi nous nous\nattendions\xa0:"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2021/02/10/1612949009296_Gif107.gif",alt:"L'animation termin\xe9e"})),(0,r.mdx)("p",null,"PARFAIT\xa0! Maintenant l'opacit\xe9 de notre barre de chargement est totale \xe0 85% et le reste jusqu'\xe0 la fin de l'animation."),(0,r.mdx)("p",null,"Alors, vous avez test\xe9 chez vous ? \ud83e\udd13"),(0,r.mdx)("div",{className:"admonition admonition-info alert alert--info"},(0,r.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,r.mdx)("h5",{parentName:"div"},(0,r.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,r.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.mdx)("div",{parentName:"div",className:"admonition-content"},(0,r.mdx)("p",{parentName:"div"},"Si un pourcentage de keyframe est d\xe9fini plusieurs fois au sein d'un ensemble et que ces keyframes contiennent des valeurs contradictoires, la\nvaleur du keyframe qui a \xe9t\xe9 d\xe9finie en dernier remplacera la ou les valeur(s) pr\xe9c\xe9dente(s) du ou des keyframe(s)."))),(0,r.mdx)("div",{className:"admonition admonition-caution alert alert--warning"},(0,r.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,r.mdx)("h5",{parentName:"div"},(0,r.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,r.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,r.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,r.mdx)("div",{parentName:"div",className:"admonition-content"},(0,r.mdx)("p",{parentName:"div"},"Les animations CSS sont encore relativement nouvelles, et ne sont donc pas encore compl\xe8tement standardis\xe9es d'un navigateur \xe0 l'autre. Par\nsouci de simplicit\xe9 pour le cours, nous n'utilisons que les propri\xe9t\xe9s standard dans nos snippets de code. Mais si vous d\xe9ployez votre code,\ntoutes les animations CSS devraient avoir des pr\xe9fixes de navigateur appliqu\xe9s avant leur d\xe9ploiement, pour \xeatre s\xfbr qu'elles soient\ncompatibles avec tous les navigateurs."))),(0,r.mdx)("h3",{id:"en-r\xe9sum\xe9"},"En r\xe9sum\xe9"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},"les animations @keyframes nous permettent de construire des animations plus complexes en\xa0cr\xe9ant plusieurs \xe9tapes pour les propri\xe9t\xe9s tout au\nlong de l'animation ;"),(0,r.mdx)("li",{parentName:"ul"},"les keyframes CSS sont instanci\xe9es \xe0 l'aide de la r\xe8gle @keyframes suivie d'un nom pour l'ensemble des keyframes\xa0:",(0,r.mdx)("ul",{parentName:"li"},(0,r.mdx)("li",{parentName:"ul"},"@keyframes example-frames {...} ;"))),(0,r.mdx)("li",{parentName:"ul"},"chaque keyframe peut \xeatre \xe9tabli en utilisant comme valeur le pourcentage d'animation r\xe9alis\xe9\xa0:",(0,r.mdx)("ul",{parentName:"li"},(0,r.mdx)("li",{parentName:"ul"},"33% {...} ;"))),(0,r.mdx)("li",{parentName:"ul"},"si vous n'avez besoin que d'un keyframe de d\xe9but et de fin, les mots cl\xe9s \xab\xa0from\xa0\xbb et \xab\xa0to\xa0\xbb peuvent \xeatre utilis\xe9s \xe0 la place de 0% et 100%\nrespectivement ;"),(0,r.mdx)("li",{parentName:"ul"},"si aucun keyframe de d\xe9but ou de fin n'est fourni, l'animation commence et/ou se termine avec les valeurs de propri\xe9t\xe9 assign\xe9es au s\xe9lecteur.\nSi aucune valeur n'est explicitement assign\xe9e dans le s\xe9lecteur, c'est la valeur par d\xe9faut qui est choisie ;"),(0,r.mdx)("li",{parentName:"ul"},"une animation d\xe9finie par la r\xe8gle @keyframes peut contenir diff\xe9rents keyframes avec des propri\xe9t\xe9s distinctes ;"),(0,r.mdx)("li",{parentName:"ul"},"plusieurs pourcentages peuvent \xeatre assign\xe9s \xe0 un seul keyframe. Les valeurs d\xe9finies dans ce keyframe seront appliqu\xe9es \xe0 ces pourcentages\ndans l'animation ;"),(0,r.mdx)("li",{parentName:"ul"},"les propri\xe9t\xe9s et valeurs d'un ensemble de keyframes remplaceront les valeurs de propri\xe9t\xe9s attribu\xe9es \xe0 un s\xe9lecteur au cours de l'animation.")),(0,r.mdx)("p",null,(0,r.mdx)("em",{parentName:"p"},"Vous avez maintenant d\xe9couvert les keyframes : bravo ! Dans le prochain chapitre, nous allons nous pencher plus en d\xe9tail sur l'impl\xe9mentation\nd'animations @keyframes dans notre CSS, sur les diff\xe9rences fondamentales avec les transitions. Nous verrons \xe9galement comment pousser nos\nanimations encore plus loin avec d'autres propri\xe9t\xe9s d'animation @keyframes. \xc0 tout de suite !")),(0,r.mdx)("hr",null),(0,r.mdx)("h2",{id:"utilisez-les-propri\xe9t\xe9s-de-lanimation-css"},"Utilisez les propri\xe9t\xe9s de l'animation CSS"),(0,r.mdx)("p",null,(0,r.mdx)("a",{parentName:"p",href:"https://openclassrooms.com/fr/courses/5919246-creez-des-animations-css-modernes/6341109-utilisez-les-proprietes-de-lanimation-css"},"Utilisez les propri\xe9t\xe9s de l'animation CSS - Cr\xe9ez des animations CSS modernes - OpenClassrooms")),(0,r.mdx)(t.fG,{vimeoId:"508777376",mdxType:"Vimeo"}),(0,r.mdx)("br",null),(0,r.mdx)("p",null,"En surface, les keyframes ressemblent ",(0,r.mdx)("em",{parentName:"p"},"beaucoup")," \xe0 des transitions, mais avec des \xe9tapes suppl\xe9mentaires en chemin. Peut-\xeatre que vous-m\xeame,\nvous ne voyez les keyframes que comme des transitions avec des \xe9tapes suppl\xe9mentaires ?"),(0,r.mdx)("p",null,"Mais d\xe9trompez-vous ! Les keyframes sont ",(0,r.mdx)("em",{parentName:"p"},"plus")," qu'un ensemble de valeurs !"),(0,r.mdx)("h3",{id:"comprenez-la-diff\xe9rence-entre-keyframes-et-transition"},"Comprenez la diff\xe9rence entre @keyframes et transition"),(0,r.mdx)("p",null,"Comme nous venons de le voir avec notre barre de progression, les animations CSS avec keyframes ne se comportent pas comme des transitions.\nC'est normal : ",(0,r.mdx)("strong",{parentName:"p"},"transitions et animations sont deux techniques ayant des logiques diff\xe9rentes, car elle ne r\xe9pondent pas au m\xeame objectif"),"."),(0,r.mdx)("p",null,"Les transitions sont destin\xe9es \xe0 s'int\xe9grer de mani\xe8re subtile entre une valeur de d\xe9part et une valeur de fin. Telles que des valeurs\n",(0,r.mdx)("inlineCode",{parentName:"p"},"scale()"),"\xa0(d'\xe9chelle) diff\xe9rentes sur un bouton et sa pseudoclasse ",(0,r.mdx)("inlineCode",{parentName:"p"},":hover"),"\xa0:"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2021/02/10/1612949114373_Gif108.gif",alt:"Une animation CSS d'un bouton qui grossit avec des transitions"})),(0,r.mdx)("p",null,"Ce bouton s'agrandit au fur et \xe0 mesure que nous le survolons, puis r\xe9tr\xe9cit lorsque la souris s'en \xe9loigne, m\xeame si la transition n'est pas\ntermin\xe9e."),(0,r.mdx)("p",null,"Si nous appliquons les m\xeames valeurs ",(0,r.mdx)("inlineCode",{parentName:"p"},"scale()"),"\xa0via des @keyframes, le r\xe9sultat obtenu est totalement diff\xe9rent. Voyez par vous-m\xeame\xa0:"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2021/02/10/16129491258451_Gif109.gif",alt:"Une animations du m\xeame bouton qui grossit avec des keyframes"})),(0,r.mdx)("p",null,"Lorsque nous cr\xe9ons une transition, nous disons au navigateur d'aller et venir entre les valeurs assign\xe9es dans un s\xe9lecteur et les valeurs\nassign\xe9es \xe0 une pseudoclasse. Les @keyframes, quant \xe0 eux, lisent une s\xe9rie de valeurs ",(0,r.mdx)("strong",{parentName:"p"},"d\xe9finies"),". Une fois d\xe9clench\xe9e, une animation avec\nkeyframes progresse jusqu'\xe0 ce qu'elle soit termin\xe9e, ou jusqu'\xe0 ce qu'elle soit interrompue."),(0,r.mdx)("p",null,"Avec les keyframes, lorsque nous assignons notre animation progress-bar \xe0 l'\xe9tat ",(0,r.mdx)("inlineCode",{parentName:"p"},":active"),"\xa0de notre bouton, l'animation n'existe que si l'\xe9tat\n",(0,r.mdx)("inlineCode",{parentName:"p"},":active"),"\xa0est d\xe9clench\xe9. Lorsque l'on retire la souris, l'\xe9tat ",(0,r.mdx)("inlineCode",{parentName:"p"},":active"),"\xa0dispara\xeet de l'\xe9l\xe9ment, et avec lui, de l'animation qui lui a \xe9t\xe9\nassign\xe9e. C'est pour cette raison que l'animation dispara\xeet si brusquement lorsque l'on sort de l'\xe9tat ",(0,r.mdx)("inlineCode",{parentName:"p"},":active"),"."),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2021/02/10/16129491378691_Gif110.gif",alt:"Une animation d'une barre de chargement qui dispara\xeet lorsqu'elle est \xe0 100 %"}),"\xa0"),(0,r.mdx)("p",null,"Les transitions sont ",(0,r.mdx)("strong",{parentName:"p"},"intrins\xe8quement")," li\xe9es \xe0 l'\xe9tat d'un \xe9l\xe9ment et aux diff\xe9rences dans ses valeurs assign\xe9es. Les propri\xe9t\xe9s et valeurs\ndes keyframes sont quant \xe0 elles cod\xe9es en dur, elles ne n\xe9cessitent qu'un \xe9v\xe9nement pour les d\xe9clencher. Les pseudoclasses ne sont que l'une\ndes options pour le faire. Dans ce chapitre, nous allons examiner une autre fa\xe7on de d\xe9ployer nos animations, ainsi que les propri\xe9t\xe9s\nsuppl\xe9mentaires \xe0 notre disposition pour concevoir des animations et des exp\xe9riences utilisateur plus complexes."),(0,r.mdx)("h3",{id:"d\xe9clenchez-vos-animations-d\xe8s-le-chargement-de-la-page"},"D\xe9clenchez vos animations d\xe8s le chargement de la page"),(0,r.mdx)("p",null,"Jusqu'\xe0 maintenant, nous avons appris \xe0 utiliser syst\xe9matiquement une pseudoclasse pour d\xe9clencher nos animations. Car c'est effectivement la\nseule option en\xa0CSS lorsque nous utilisons des transitions. ",(0,r.mdx)("strong",{parentName:"p"},"Mais avec les @keyframes, nous pouvons d\xe9clencher une animation d\xe8s le\nchargement d'un \xe9l\xe9ment.")),(0,r.mdx)("p",null,"Lorsque nous assignons une animation avec keyframe \xe0 un \xe9l\xe9ment, il d\xe9clenchera l'animation au chargement dans le navigateur. Plut\xf4t que\nd'appliquer notre animation de barre de progression \xe0 la pseudoclasse ",(0,r.mdx)("inlineCode",{parentName:"p"},":active"),"\xa0sur ",(0,r.mdx)("inlineCode",{parentName:"p"},".btn,"),"\xa0appliquons-la \xe0 ",(0,r.mdx)("inlineCode",{parentName:"p"},".progress__bar"),"\xa0en tant que\ntelle\xa0:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},".progress {\n    &__bar {\n        animation: progress-bar 1000ms;\n    }\n}\n@keyframes progress-bar{\n    0% {\n        transform: scaleX(0);\n        opacity: .1;\n    }\n    17% {\n        transform: scaleX(.18);\n    }\n    24% {\n        transform: scaleX(.4);\n    }\n    46% {\n        transform: scaleX(.81);\n    }\n    85%,100% {\n        opacity: 1;\n    }\n    100% {\n        transform: scaleX(1);\n    }\n}\n")),(0,r.mdx)("p",null,"Maintenant, notre barre de progression se chargera d\xe8s que la page web sera charg\xe9e. Il n'est pas n\xe9cessaire d'interagir avec un bouton, ni\nd'ailleurs avec aucun autre \xe9l\xe9ment. Le chargement de la page, et donc la barre de progression, est l'\xe9v\xe9nement qui d\xe9clenche l'animation.\nCela signifie que nous pouvons nous d\xe9barrasser de ce bouton\xa0:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-html"},'<html>\n    <div class="container">\n        <div class="progress">\n            <div class="progress__bar"></div>\n        </div>\n    </div>\n</html>\n')),(0,r.mdx)("p",null,"Notre barre de progression se suffit maintenant \xe0 elle-m\xeame. Nous avons ins\xe9r\xe9 un\xa0GIF pour indiquer quand la page se recharge\xa0:"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2021/02/10/16129491527251_Gif111.gif",alt:"Barre de chargement avec icone et sans d\xe9lai"})),(0,r.mdx)("p",null,"Superbe\xa0! Notre animation... est anim\xe9e\xa0!"),(0,r.mdx)("p",null,"Cher utilisateur, nous n'avons plus besoin de toi pour d\xe9clencher nos animations avec tes interactions. Plut\xf4t pratique, n'est-ce pas ? Nous\npouvons cr\xe9er des animations sur notre site web pour introduire des \xe9l\xe9ments au fur et \xe0 mesure de leur chargement."),(0,r.mdx)("h3",{id:"ajoutez-un-d\xe9lai-\xe0-votre-animation-keyframes"},"Ajoutez un d\xe9lai \xe0 votre animation @keyframes"),(0,r.mdx)("p",null,"Le seul probl\xe8me avec une animation qui d\xe9marre d\xe8s que la page se charge, c'est que... l'animation d\xe9marre d\xe8s la page se charge. Notre\nanimation commence donc avant que nos visiteurs n'aient vraiment eu la chance de commencer \xe0 parcourir notre page."),(0,r.mdx)("p",null,"Vous savez ce qui serait parfait\xa0? Utiliser un d\xe9lai de transition pour que notre animation attende un peu avant de d\xe9marrer. Malheureusement,\nla propri\xe9t\xe9 ",(0,r.mdx)("inlineCode",{parentName:"p"},"transition-delay"),"\xa0permet de retarder les ",(0,r.mdx)("em",{parentName:"p"},"transitions"),", et les transitions seulement. \ud83d\ude2d"),(0,r.mdx)("p",null,"...Heureusement pour nous, il existe la propri\xe9t\xe9 ",(0,r.mdx)("inlineCode",{parentName:"p"},"animation-delay"),"\xa0!"),(0,r.mdx)("p",null,"Vous allez finir par croire que j'adore jouer avec vos \xe9motions. Je vous dis qu'on ne peut pas, mais que finalement si. Ne m'en veuillez pas,\nj'essaie de vous faire d\xe9couvrir la richesse des animations keyframes petit \xe0 petit, pour que puissiez pleinement en profiter \ud83e\udd29."),(0,r.mdx)("p",null,"La propri\xe9t\xe9\xa0",(0,r.mdx)("inlineCode",{parentName:"p"},"animation-delay"),"\xa0fonctionne comme ",(0,r.mdx)("inlineCode",{parentName:"p"},"transition-delay"),", sauf qu'elle retarde uniquement les animations con\xe7ues avec des @keyframes.\nElle accepte les valeurs en secondes ou en millisecondes :"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},".delay-seconds {\n    animation-delay: 1s;\n}\n.delay-seconds {\n    animation-delay: 1000ms;\n}\n")),(0,r.mdx)("p",null,"Tout comme pour ",(0,r.mdx)("inlineCode",{parentName:"p"},"transition-delay"),", nous pouvons indiquer la valeur de cette propri\xe9t\xe9 dans la version abr\xe9g\xe9e \"animation\", en l'indiquant\ndans sa liste de valeurs. Ajoutons donc un court d\xe9lai de 150ms \xe0 l'animation de notre barre de progression\xa0:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},".progress {\n    &__bar {\n        animation: progress-bar 1000ms 150ms;\n    }\n}\n")),(0,r.mdx)("p",null,"Maintenant, notre barre de progression attendra 0,15 secondes avant de commencer le chargement, donnant \xe0 nos visiteurs un moment pour\nremarquer notre barre de progression au chargement de la page :"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2021/02/15/16133904011168_Gif112.gif",alt:"Barre de chargement avec icone et d\xe9lai de 0.15s"})),(0,r.mdx)("p",null,"\xc7a marche\xa0! Mais..."),(0,r.mdx)("p",null,"L'effet ne marche pas vraiment, car rien n'est charg\xe9... La barre se remplit, et puis... plus rien."),(0,r.mdx)("p",null,"Choisissons du contenu \xe0 afficher une fois l'animation de la barre de progression termin\xe9e. Apr\xe8s tout, on est sur Internet, et Internet,\nc'est un peu le royaume des chats. Donc c'est parti pour une photo de chat. Alors, voyons voir ce que nous trouvons."),(0,r.mdx)("h3",{id:"encha\xeenez-les-animations"},"Encha\xeenez les animations"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2019/08/24/15666772486521_Capture%20d%E2%80%99e%CC%81cran%202019-08-24%20a%CC%80%2018.48.50.jpg",alt:"Photo de chat"})),(0,r.mdx)("p",null,"\ud83d\ude4cYes ! \xc7a devrait faire l'affaire !"),(0,r.mdx)("div",{className:"admonition admonition-info alert alert--info"},(0,r.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,r.mdx)("h5",{parentName:"div"},(0,r.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,r.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.mdx)("div",{parentName:"div",className:"admonition-content"},(0,r.mdx)("p",{parentName:"div"},"Des sites comme ",(0,r.mdx)("a",{parentName:"p",href:"https://unsplash.com/"},"unsplash.com")," ou ",(0,r.mdx)("a",{parentName:"p",href:"https://www.pexels.com/"},"pexels.com"),"\xa0mettent \xe0 votre disposition des tonnes d'images\nde qualit\xe9, libres de droit et donc disponibles gratuitement\xa0! Assurez-vous simplement que la licence sur la photo corresponde \xe0 l'utilisation\nque vous comptez en faire sur votre site."))),(0,r.mdx)("p",null,"Ajoutons une ",(0,r.mdx)("inlineCode",{parentName:"p"},"div"),"\xa0pour notre photo de chat apr\xe8s notre ",(0,r.mdx)("inlineCode",{parentName:"p"},"div .progress"),", ainsi que quelques paragraphes de texte\xa0:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-html"},"<html>\n    <p>Merci pour votre patience</p>\n    <p>Voici votre chat</p>\n</html>\n")),(0,r.mdx)("p",null,"Et utilisons la propri\xe9t\xe9 ",(0,r.mdx)("inlineCode",{parentName:"p"},"background-image"),"\xa0pour remplir la div avec notre nouvelle photo de chat, ainsi que quelques autres propri\xe9t\xe9s pour\nredimensionner et recadrer l'image et rendre le texte lisible\xa0:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},'.cat {\n    width: 50vw;\n    height: 30vw;\n    position: absolute;\n    overflow: hidden;\n    background-image: url("https://bit.ly/2XJJLKn");\n    background-size: cover;\n    background-position: -20%;\n    z-index: 1;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    align-items: center;\n    padding: .1rem;\n    font-size: 4vw;\n    font-weight: 900;\n    color: white;\n}\n')),(0,r.mdx)("p",null,"Si nous l'affichons dans le navigateur, nous voyons notre photo de chat... et pas grand-chose d'autre\xa0:"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2019/08/24/15666817026193_Webp.net-resizeimage.png",alt:"Image de chat"})),(0,r.mdx)("p",null,"Pour le moment, notre div ",(0,r.mdx)("inlineCode",{parentName:"p"},".cat"),"\xa0couvre notre barre de progression, ce qui convient une fois la barre charg\xe9e. En revanche, nous ne souhaitons\npas la voir tant que la barre n'a pas fini de se charger. Pour cela, cr\xe9ons un nouvel ensemble de @keyframes pour d\xe9placer notre image hors de\nl'\xe9cran, jusqu'\xe0 ce que la barre ait fini de se charger."),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"@keyframes cat {\n    0% {\n        transform: translateX(-9999px);\n    }\n    100% {\n        transform: translateX(0);\n    }\n}\n")),(0,r.mdx)("p",null,"La propri\xe9t\xe9 ",(0,r.mdx)("inlineCode",{parentName:"p"},"transform"),"\xa0avec sa fonction ",(0,r.mdx)("inlineCode",{parentName:"p"},"translateX()"),"\xa0nous permet de d\xe9placer notre chat hors de l'\xe9cran au d\xe9but de l'animation, et\nmettre sa valeur de fin \xe0 0, ce qui l'am\xe8ne \xe0 son point de destination. Nous avons \xe9galement d\xe9clar\xe9 la dur\xe9e et le d\xe9lai de lancement de\nl'animation dans des variables, ce qui nous permet de changer ces valeurs plus facilement (merci Sass \ud83d\udd25)."),(0,r.mdx)("p",null,"Maintenant, ajoutons notre animation de chat \xe0 notre div ",(0,r.mdx)("inlineCode",{parentName:"p"},".cat"),". Nous ne voulons pas que notre chat bouge. Nous voulons simplement qu'il\napparaisse quand la barre est compl\xe8tement charg\xe9e. Nous r\xe9glons donc la dur\xe9e de l'animation sur 0. Le d\xe9lai, quant \xe0 lui, correspond \xe0 la\ncombinaison entre la dur\xe9e de l'animation progress-bar avec son d\xe9lai\xa0de lancement :"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"$prog-bar-dur: 1000ms;\n$prog-bar-delay: 150ms;\n$cat-delay: $prog-bar-dur + $prog-bar-delay;\n.cat {\n    animation: cat 0ms $cat-delay;\n}\n@keyframes cat {\n    0% {\n        transform: translateX(-9999px);\n    }\n    100% {\n        transform: translateX(0);\n    }\n}\n")),(0,r.mdx)("p",null,"Et quand nous la v\xe9rifions dans le navigateur..."),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2019/08/24/15666817340739_Webp.net-resizeimage.png",alt:"Image de chat"})),(0,r.mdx)("p",null,"... le r\xe9sultat est toujours le m\xeame. Notre chat cache toujours tout notre travail. Heureusement qu'il est mignon. Cette fois-ci, ajoutons\nune dur\xe9e \xe0 notre animation pour voir pourquoi les choses ne se passent pas comme pr\xe9vu :"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"$prog-bar-dur: 1000ms;\n$prog-bar-delay: 150ms;\n$cat-delay: $prog-bar-dur + $prog-bar-delay;\n.cat {\n    animation: cat 1000ms $cat-delay;\n}\n@keyframes cat {\n    0% {\n        transform: translateX(\\-9999px);\n    }\n    100% {\n        transform: translateX(0);\n    }\n}\n")),(0,r.mdx)("p",null,"Maintenant, notre chat va glisser en position en l'espace d'une seconde\xa0:"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2021/02/10/16129492697858_Gif113.gif",alt:"Animation avec translation de la photo de chat sur la barre de chargement"})),(0,r.mdx)("p",null,"Eh bien, ce n'est pas exactement ce que nous attendions... Notre image appara\xeet au chargement de notre page, puis dispara\xeet brusquement avant\nde se placer comme on s'y attendait. Pas ",(0,r.mdx)("em",{parentName:"p"},"tout \xe0 fait")," ce que nous voulions..."),(0,r.mdx)("p",null,"Mais justement, ce comportement ne vous dit pas quelque chose ? \ud83e\udd14"),(0,r.mdx)("p",null,"Quelque chose de ",(0,r.mdx)("em",{parentName:"p"},(0,r.mdx)("strong",{parentName:"em"},"tr\xe8s"))," similaire se produit avec notre barre de progression, sauf qu'elle dispara\xeet une fois l'animation ",(0,r.mdx)("em",{parentName:"p"},(0,r.mdx)("strong",{parentName:"em"},"termin\xe9e")),"."),(0,r.mdx)("p",null,"En fait, lorsque notre animation ",(0,r.mdx)("em",{parentName:"p"},"n'est pas")," en train d'\xeatre anim\xe9e, les \xe9l\xe9ments reviennent \xe0 leur valeur de propri\xe9t\xe9 assign\xe9e. C'est\npourquoi notre barre de progression dispara\xeet \xe0 la fin de son animation ; elle anime l'\xe9chelle horizontale de 0 \xe0 1, mais elle a une valeur\n",(0,r.mdx)("inlineCode",{parentName:"p"},"scaleX()"),"\xa0de 0 :"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"$prog-bar-dur: 1000ms;\n$prog-bar-delay: 150ms;\n.progress {\n    &__bar {\n        transform-origin: left;\n        transform: scaleX(0);\n        animation: progress-bar $prog-bar-dur $prog-bar-delay;\n    }\n}\n")),(0,r.mdx)("p",null,"Ainsi, lorsque l'animation se termine, la barre revient \xe0 sa valeur assign\xe9e pour ",(0,r.mdx)("inlineCode",{parentName:"p"},"scaleX()"),", qui est aussi 0, disparaissant ainsi du site :"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2021/02/10/16129493076545_Gif114.gif",alt:"Animation de la barre de chargement seule"})),(0,r.mdx)("p",null,"Il en va de m\xeame pour les \xe9l\xe9ments qui ont des animations avec des d\xe9lais assign\xe9s. Pendant que l'\xe9l\xe9ment attend de d\xe9marrer son animation, il\nutilisera les valeurs des propri\xe9t\xe9s qui lui ont \xe9t\xe9 assign\xe9es. Pour tester cela par nous-m\xeame, r\xe9glons la valeur ",(0,r.mdx)("inlineCode",{parentName:"p"},"scaleX()"),"\xa0de la barre\n",(0,r.mdx)("inlineCode",{parentName:"p"},".progress__bar"),"\xa0sur .5 et augmentons le d\xe9lai pour une valeur plus visible, par exemple 1000ms\xa0:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"$prog-bar-dur: 1000ms;\n$prog-bar-delay: 1000ms;\n.progress {\n    &__bar {\n        transform-origin: left;\n        transform: scaleX(0.5);\n        animation: progress-bar $prog-bar-dur $prog-bar-delay;\n    }\n}\n")),(0,r.mdx)("p",null,"Ajoutons des commentaires \xe0 notre ",(0,r.mdx)("inlineCode",{parentName:"p"},"div .cat"),"\xa0pour que nous puissions nous concentrer pour l'instant sur la barre de progression\xa0:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-html"},'<html>\n    <div class="container">\n        <div class="progress">\n            <div class="progress__bar"></div>\n        </div>\n        \x3c!-- <div class="cat">\n            <p>Merci pour votre patience</p>\n            <p>Voici votre chat</p>\n        </div> --\x3e\n    </div>\n</html>\n')),(0,r.mdx)("p",null,"Voyons maintenant comment se comporte notre barre de progression\xa0:"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2021/02/10/16129493210861_Gif115.gif",alt:"Barre de progression recharg\xe9e \xe0 moiti\xe9"})),(0,r.mdx)("p",null,"Notre barre de progression respecte un d\xe9lai d'une seconde avant de s'animer. En attendant, elle est \xe0 une \xe9chelle de 50% sur l'axe des X et\n100% d'opacit\xe9. Puis, tout\xa0\xe0 coup, elle passe \xe0 une\xa0",(0,r.mdx)("inlineCode",{parentName:"p"},"scaleX()"),"\xa0de 0, une opacit\xe9 de .1 et commence \xe0 s'animer jusqu'\xe0 ce que la barre soit\npleine et compl\xe8tement opaque. Puis, une fois l'animation termin\xe9e, la barre revient \xe0 ses valeurs assign\xe9es dans le s\xe9lecteur."),(0,r.mdx)("h3",{id:"\xe9tendez-les-propri\xe9t\xe9s-de-vos-keyframes-avec-animation-fill-mode"},"\xc9tendez les propri\xe9t\xe9s de vos keyframes avec animation-fill-mode"),(0,r.mdx)("p",null,"Pourtant, nous voulons que notre animation s'\xe9tende de la gauche vers la droite, en remplissant l'espace avant que l'animation ne commence\npuis se termine avec les valeurs de d\xe9but et de fin de l'animation. Nous pouvons nous repr\xe9senter notre animation par un d\xe9grad\xe9 de couleur,\nallant d'un vert menthe au bleu marine :"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2019/08/07/15651665038496_image76.png",alt:"Image repr\xe9sentant le d\xe9grad\xe9 de couleurs"})),(0,r.mdx)("p",null,"Plut\xf4t que de commencer et de terminer la couleur au d\xe9but du d\xe9grad\xe9 de couleur, nous voulons que la couleur de d\xe9part remplisse l'espace \xe0\ngauche du d\xe9grad\xe9, en reprenant la couleur de d\xe9part, puis que la couleur de fin s'\xe9tende vers la droite du d\xe9grad\xe9, bas\xe9e sur la couleur de\nfin\xa0:"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2019/08/07/15651665735252_image16.png",alt:"Image repr\xe9sentant le d\xe9grad\xe9 complet"})),(0,r.mdx)("p",null,"Pour remplir les espaces avant et apr\xe8s nos animations avec keyframes, nous pouvons utiliser la propri\xe9t\xe9\xa0",(0,r.mdx)("strong",{parentName:"p"},(0,r.mdx)("inlineCode",{parentName:"strong"},"animation-fill-mode")),", qui va\n\xe9tendre les valeurs de d\xe9but d'une animation, ou ses valeurs finales, ou les deux."),(0,r.mdx)("p",null,(0,r.mdx)("inlineCode",{parentName:"p"},"animation-fill-mode"),"\xa0accepte trois mots cl\xe9s diff\xe9rents comme valeur. Le premier est ",(0,r.mdx)("strong",{parentName:"p"},"backwards")," (pour \"en arri\xe8re\"). Backwards \xe9tend les\nvaleurs de d\xe9part d'une animation pour la p\xe9riode de temps qui pr\xe9c\xe8de le d\xe9but de l'animation\xa0:"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2019/08/07/15651666424076_image67.png",alt:"Image repr\xe9sentant le d\xe9grad\xe9 avec backwards"})),(0,r.mdx)("p",null,"Comme backwards \xe9tend cette valeur au d\xe9but, ce mot cl\xe9 n'est utile que si nous avons un d\xe9lai appliqu\xe9 \xe0 nos animations. S'il n'y a pas de\nd\xe9lai, il n'y a pas de vide \xe0 remplir avant l'animation pour ",(0,r.mdx)("inlineCode",{parentName:"p"},"animation-fill-mode"),"."),(0,r.mdx)("p",null,"Ajoutons maintenant animation-fill-mode \xe0 la barre ",(0,r.mdx)("inlineCode",{parentName:"p"},".progress__bar"),"\xa0avec le mot cl\xe9 ",(0,r.mdx)("em",{parentName:"p"},"backwards"),"\xa0:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"$prog-bar-dur: 1000ms;\n$prog-bar-delay: 1000ms;\n.progress {\n    &__bar {\n        transform-origin: left;\n        transform: scaleX(0.5);\n        animation: progress-bar $prog-bar-dur $prog-bar-delay;\n        animation-fill-mode: backwards;\n    }\n}\n")),(0,r.mdx)("p",null,"Maintenant, plut\xf4t que de commencer \xe0 moiti\xe9 remplie, notre barre de progression reste vide pendant toute la dur\xe9e de son d\xe9lai\n(animation-delay). \xc0 la fin du d\xe9lai, l'animation continue normalement, et \xe0 la fin, revient en arri\xe8re \xe0 la valeur assign\xe9e de ",(0,r.mdx)("inlineCode",{parentName:"p"},"scaleX(.5)")," :"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2021/02/10/16129493399757_Gif116.gif",alt:"animation-fill-mode: backwards pour la barre de progression"})),(0,r.mdx)("p",null,"Le deuxi\xe8me mot cl\xe9 pour le mode animation-fill-mode est ",(0,r.mdx)("strong",{parentName:"p"},"forwards")," (pour \"en avant\"). Au\xa0contraire de backwards, forwards \xe9tend les valeurs\nfinales d'une animation vers l'avant, sans fin\xa0:"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2019/08/07/15651668513712_image37.png",alt:"Une image du d\xe9grad\xe9 avec forwards"})),(0,r.mdx)("p",null,"Forwards consiste en quelque sorte \xe0 dire au navigateur de mettre l'animation sur pause sur la toute derni\xe8re image, plut\xf4t que de passer aux\nvaleurs assign\xe9es. Changeons la valeur de ",(0,r.mdx)("inlineCode",{parentName:"p"},"animation-fill-mode"),"\xa0de la barre ",(0,r.mdx)("inlineCode",{parentName:"p"},".progress__bar"),"\xa0avec forwards et d\xe9couvrons ce que \xe7a donne :"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"$prog-bar-dur: 1000ms;\n$prog-bar-delay: 1000ms;\n.progress {\n    &__bar {\n        transform-origin: left;\n        transform: scaleX(0.5);\n        animation: progress-bar $prog-bar-dur $prog-bar-delay;\n        animation-fill-mode: forwards;\n    }\n}\n")),(0,r.mdx)("p",null,"Maintenant, notre barre de progression est de nouveau \xe0 50% jusqu'\xe0 ce que l'animation commence.\xa0Elle revient\xa0\xe0 0 en animant \xe0 partir de l\xe0.\nMais plut\xf4t que de revenir directement \xe0 50%, la barre reste pleine\xa0:"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2021/02/10/16129493556086_Gif117.gif",alt:"animation-fill-mode forwards pour la barre de progression"})),(0,r.mdx)("p",null,"Dans notre cas, il semble \xe9vident que nous voulons que notre animation s'\xe9tende et se remplisse, dans les deux sens, comme celle de notre\nbarre de progression. Le mot cl\xe9 judicieusement intitul\xe9 ",(0,r.mdx)("strong",{parentName:"p"},"both")," (",(0,r.mdx)("em",{parentName:"p"},"les deux"),") pour le mode animation-fill-mode remplit l'animation dans les\ndeux sens\xa0:"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2019/08/07/15651672482074_image13.png",alt:"Une image de d\xe9grad\xe9 avec both"})),(0,r.mdx)("p",null,"R\xe9glons le mode animation-fill-mode de la barre ",(0,r.mdx)("inlineCode",{parentName:"p"},".progress__bar"),"\xa0sur both\xa0:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"$prog-bar-dur: 1000ms;\n$prog-bar-delay: 1000ms;\n.progress {\n    &__bar {\n        transform-origin: left;\n        transform: scaleX(0.5);\n        animation: progress-bar $prog-bar-dur $prog-bar-delay;\n        animation-fill-mode: both;\n    }\n}\n")),(0,r.mdx)("p",null,"V\xe9rifions dans le navigateur. Nous devrions voir notre barre partie de 0% de remplissage jusqu'\xe0 ce que l'animation commence, puis se remplir\nnormalement, et ensuite rester \xe0 100%\xa0:"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2021/02/10/16129493665592_Gif118.gif",alt:"animation-fill-mode: both pour la barre de progression"})),(0,r.mdx)("p",null,"Et voil\xe0\xe0\xe0\xe0\xe0\xe0\xe0\xe0\xe0\xe0\xe0 une barre de progression fonctionnelle avec nos keyframes \ud83d\ude4c ! Plut\xf4t pas mal\xa0! R\xe9duisons le d\xe9lai \xe0 nos 100ms d'origine.\nD'ailleurs, tout comme avec nos autres propri\xe9t\xe9s d'animation, nous ne sommes pas ",(0,r.mdx)("em",{parentName:"p"},"oblig\xe9s")," d'indiquer la propri\xe9t\xe9 animation-fill-mode\ns\xe9par\xe9ment. Au lieu de cela, nous pouvons d\xe9finir sa valeur directement dans la propri\xe9t\xe9 ",(0,r.mdx)("inlineCode",{parentName:"p"},"animation"),"\xa0raccourcie\xa0:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"$prog-bar-dur: 1000ms;\n$prog-bar-delay: 1000ms;\n.progress {\n    &__bar {\n        transform-origin: left;\n        transform: scaleX(0.5);\n        animation: progress-bar $prog-bar-dur $prog-bar-delay both;\n    }\n}\n")),(0,r.mdx)("p",null,"Nous avons maintenant une barre de progression fonctionnelle."),(0,r.mdx)("p",null,"Revenons maintenant \xe0 notre chat. Nous pouvons utiliser animation-fill-mode. Nous voulons que l'animation s'\xe9tende dans les deux sens, pour\nqu'elle reste invisible jusqu'\xe0 la fin du d\xe9lai, puis reste visible apr\xe8s cela. Ajoutons donc le mot cl\xe9 ",(0,r.mdx)("em",{parentName:"p"},"both")," \xe0 la propri\xe9t\xe9 d'animation de\n",(0,r.mdx)("inlineCode",{parentName:"p"},".cat")," :"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"$prog-bar-dur: 1000ms;\n$prog-bar-delay: 150ms;\n$cat-delay: $prog-bar-dur + $prog-bar-delay;\n.progress {\n    &__bar {\n        transform-origin: left;\n        transform: scaleX(0.5);\n        animation: progress-bar $prog-bar-dur $prog-bar-delay both;\n    }\n}\n.cat {\n    animation: cat 0ms $cat-delay both;\n}\n")),(0,r.mdx)("p",null,"J'esp\xe8re que \xe7a va marcher, que la barre de chargement s'affichera d\xe8s le chargement de la page. Qu'elle sera vide dans un premier temps,\npuis qu'elle se remplira pour enfin laisser appara\xeetre l'image de chat\xa0:"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2021/02/10/16129493817443_Gif119.gif",alt:"Barre de progression avec photo de chat"})),(0,r.mdx)("p",null,"Yaaaaay\xa0! On a r\xe9ussi !"),(0,r.mdx)("p",null,"Maintenant que tout marche comme voulu, nous pouvons faire quelques petits ajustements."),(0,r.mdx)("p",null,"Nous ne voyons presque pas la barre de progression compl\xe8tement pleine, car notre image de chat se charge d\xe8s que la barre est pleine, ce qui\nnous laisse peu de temps pour enregistrer que le processus de chargement est termin\xe9. Ajoutons un peu de retard entre la fin de l'animation\nde la barre de progression et le d\xe9but de l'animation du chat. Nous pouvons multiplier la variable $prog-delay par 2 dans ",(0,r.mdx)("inlineCode",{parentName:"p"},"$cat-delay"),", ce qui\nnous donnera 150ms suppl\xe9mentaires avant le d\xe9but de l'animation du chat\xa0:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"$prog-bar-dur: 1000ms;\n$prog-bar-delay: 150ms;\n$cat-delay: $prog-bar-dur + $prog-bar-delay*2;\n.progress {\n    &__bar {\n        transform-origin: left;\n        transform: scaleX(0.5);\n        animation: progress-bar $prog-bar-dur $prog-bar-delay both;\n    }\n}\n.cat {\n    animation: cat 0ms $cat-delay both;\n}\n")),(0,r.mdx)("p",null,"Jetons \xe0 nouveau un coup d'\u0153il au navigateur\xa0:"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2021/02/10/16129493963629_Gif120.gif",alt:"Barre de chargement avec un d\xe9lai suppl\xe9mentaire avant l'affichage de l'image de chat"})),(0,r.mdx)("p",null,"Beaucoup plus joli. Ce n'est pas un changement \xe9norme, mais ce petit d\xe9lai suppl\xe9mentaire entre les deux animations nous permet de comprendre\nque la barre a fini de se charger, ce qui aide \xe0 mieux anticiper et trouver plus fluide le passage direct au contenu du chat."),(0,r.mdx)("h3",{id:"animez-vari\xe9-et-\xe9quilibr\xe9"},"Animez vari\xe9 et \xe9quilibr\xe9"),(0,r.mdx)("p",null,"Maintenant que nous avons charg\xe9 notre contenu comme nous le voulions, revenons plus sp\xe9cifiquement \xe0 l'animation de la barre de progression\net aux pauses et acc\xe9l\xe9rations qu'elle cr\xe9e lorsque la barre se remplit\xa0:"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2021/02/10/16129494149961_Gif121.gif",alt:"Barre de progression avec image de chat"})),(0,r.mdx)("p",null,"Elles ajoutent un peu de texture \xe0 notre animation, mais elles sont assez uniformes. Pour l'instant, chaque keyframe a une acc\xe9l\xe9ration et un\nralentissement par d\xe9faut, que nous pourrions aussi \xe9crire en cubic-bezier (.25,.1,.25,1)."),(0,r.mdx)("p",null,"Ainsi, chaque keyframe dans la barre de progression se voit assigner ces valeurs cubic-bezier, comme si l'intervalle entre\xa0deux keyframes\n\xe9tait sa propre animation, avec son propre \xab\xa0ease-in\xa0\xbb et \xab\xa0ease-out\xa0\xbb. Dans notre graphique cubic-bezier, cela ressemblerait \xe0 cela\xa0:"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2019/08/07/15651685944369_image77.png",alt:"Le graphique cubic-b\xe9zier de l'animation"})),(0,r.mdx)("p",null,"Nous voyons bien comment chaque keyframe a sa propre courbe d'acc\xe9l\xe9ration, dict\xe9e par la fonction animation-timing. Pour rendre cela un peu\nplus clair, assignons notre propre fonction de timing, plus extr\xeame, \xe0 notre animation progress-bar. Utilisons beaucoup de \xab\xa0easing\xa0\xbb, ce qui\nva cr\xe9er un contraste plus marquant d'un point de vue du rythme au cours de l'animation. Quelque chose comme cubic-bezier(.9,0,.1,1)\xa0:"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2019/08/07/15651687129788_image7.png",alt:"Le cubic-b\xe9zier pour une animation plus marqu\xe9e"})),(0,r.mdx)("p",null,"Pour assigner notre courbe d'acc\xe9l\xe9ration ",(0,r.mdx)("inlineCode",{parentName:"p"},"cubic-bezier()"),"\xa0\xe0 ",(0,r.mdx)("inlineCode",{parentName:"p"},"progress-bar"),", nous pouvons utiliser la propri\xe9t\xe9 ",(0,r.mdx)("strong",{parentName:"p"},"animation-timing-function"),",\navec la fonction cubic-bezier comme valeur\xa0:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"$prog-bar-dur: 1000ms;\n$prog-bar-delay: 150ms;\n$cat-delay: $prog-bar-dur + $prog-bar-delay*2;\n.progress {\n    &__bar {\n        transform-origin: left;\n        transform: scaleX(0.5);\n        animation: progress-bar $prog-bar-dur $prog-bar-delay both;\n        animation-timing-function: cubic-bezier(.9,0,.1,1);\n    }\n}\n")),(0,r.mdx)("p",null,"Nous pouvons \xe9galement raccourcir les choses et ajouter la fonction cubic-bezier \xe0 notre propri\xe9t\xe9 d'animation abr\xe9g\xe9e\xa0:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"$prog-bar-dur: 1000ms;\n$prog-bar-delay: 150ms;\n$cat-delay: $prog-bar-dur + $prog-bar-delay*2;\n.progress {\n    &__bar {\n        transform-origin: left;\n        transform: scaleX(0.5);\n        animation: progress-bar $prog-bar-dur $prog-bar-delay both cubic-bezier(.9,0,.1,1);\n    }\n}\n")),(0,r.mdx)("p",null,"Maintenant, les ease-in et ease-out de nos keyframes sont beaucoup plus marqu\xe9s. Notre animation para\xeet donc plus irr\xe9guli\xe8re. Lorsque nous\nregardons notre barre de progression \xe0 nouveau dans le navigateur, nous voyons des pauses beaucoup plus d\xe9lib\xe9r\xe9es et des acc\xe9l\xe9rations dans\nle mouvement de la barre\xa0:"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2021/02/10/16129494777497_Gif122.gif",alt:"Barre de progression chat avec animation cubic-bezier"})),(0,r.mdx)("p",null,"Bien que les acc\xe9l\xe9rations soient nettement plus visibles avec notre fonction cubic-bezier, elles sont probablement un peu exag\xe9r\xe9es. En\ng\xe9n\xe9ral, la fonction de \xab\xa0ease timing\xa0\xbb par d\xe9faut fonctionne assez bien. Le probl\xe8me vient du keyframe \xe0 24%. Il est trop proche du keyframe\npr\xe9c\xe9dent, qui, \xe0 17%, n'est s\xe9par\xe9 que de 7%. La proximit\xe9 des deux keyframes, combin\xe9e \xe0 l'uniformit\xe9 des courbes d'acc\xe9l\xe9ration, entra\xeene\nune l\xe9g\xe8re perte de la pause/acc\xe9l\xe9ration du deuxi\xe8me keyframe."),(0,r.mdx)("p",null,"Un keyframe h\xe9rite par d\xe9faut du timing d\xe9fini dans le s\xe9lecteur o\xf9 l'animation a \xe9t\xe9 assign\xe9e, ",(0,r.mdx)("strong",{parentName:"p"},"sauf si une fonction de timing a \xe9t\xe9\nexplicitement assign\xe9e \xe0 ce keyframe"),". Pour assigner une fonction de timing \xe0 un keyframe sp\xe9cifique, il suffit de d\xe9clarer la propri\xe9t\xe9\nanimation-timing-function dans le keyframe en question. Revenons \xe0 notre fameux keyframe de\xa024% :"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"$prog-bar-dur: 1000ms;\n$prog-bar-delay: 150ms;\n$cat-delay: $prog-bar-dur + $prog-bar-delay*2;\n.progress {\n    &__bar {\n        transform-origin: left;\n        transform: scaleX(0.5);\n        animation: progress-bar $prog-bar-dur $prog-bar-delay both;\n    }\n}\n@keyframes progress-bar {\n    0% {\n        transform: scaleX(0);\n        opacity: .1;\n    }\n    17% {\n        transform: scaleX(.18);\n    }\n    24% {\n        transform: scaleX(.40);\n        animation-timing-function: cubic-bezier(.9,0,.1,1);\n    }\n    46% {\n        transform: scaleX(.81);\n    }\n    85%,100% {\n        opacity: 1;\n    }\n    100% {\n        transform: scaleX(1);\n    }\n}\n")),(0,r.mdx)("p",null,"Lorsque nous assignons une fonction de timing \xe0 un keyframe, nous contr\xf4lons la courbe d'acc\xe9l\xe9ration des valeurs entre ce keyframe et le\nsuivant. Cela signifie que nous contr\xf4lons l'introduction lente du mouvement \xe0 24% et la sortie lente \xe0 46%\xa0:"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2019/08/07/15651795905117_image62.png",alt:"La partie qui nous int\xe9resse du cubic-b\xe9zier"})),(0,r.mdx)("p",null,"Observons comment notre barre de progression s'affiche dans le navigateur avec sa nouvelle fonction de timing de keyframe\xa0:"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2021/02/10/16129495082933_Gif123.gif",alt:"Animation barre de progression image chat avec fonction de timing par keyframe"})),(0,r.mdx)("p",null,"Maintenant, l'acc\xe9l\xe9ration du keyframe \xe0 24% est beaucoup plus prononc\xe9e, tandis que les autres restent \xe0 des valeurs d'introduction et de\nsortie plus fluides. Ce qui est ",(0,r.mdx)("em",{parentName:"p"},"presque")," parfait.... presque... mais, puisque nous y mettons tant d'efforts, autant le faire jusqu'au bout."),(0,r.mdx)("p",null,"Il y a un petit probl\xe8me lors de l'acc\xe9l\xe9ration du keyframe 46%. Ceci s'explique par le fait que la fonction de timing pr\xe9c\xe9dente, d\xe9clar\xe9e\nsur 24%, a une fin longue et plane, tandis que le d\xe9but de la fonction de timing du keyframe suivant de cubic-bezier (.25,.1,.25,1) est plus\ncourt avec une pente plus raide. Le mouvement para\xeet moins harmonieux\xa0:"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2021/02/15/16133815127074_3C2_1.png",alt:"Zoom sur la courbe cubic-b\xe9zier"})),(0,r.mdx)("p",null,'Donnons \xe9galement au keyframe 46% sa propre fonction de timing et utilisons-la pour fluidifier un peu cette transition. Pour rendre le\nmouvement plus fluide, il suffit d\'aplanir son d\xe9but, pour mieux encha\xeener avec la sortie du keyframe pr\xe9c\xe9dent. Pour l\'instant, notre\n"ease in" a une coordonn\xe9e Y de .1. Si nous le r\xe9duisons \xe0 0, nous obtenons un cubic-bezier(.25, 0, .25,1) et un "ease in" plus plat\xa0:'),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2021/02/15/16133815255053_3C2_2.png",alt:"La courbe plus"})),(0,r.mdx)("p",null,"Int\xe9grons notre nouvelle fonction de timing au keyframe 46%."),(0,r.mdx)("p",null,"Par ailleurs, l'animation de l'opacit\xe9 ne semble plus vraiment ajouter de valeur. Au contraire, elle rend notre animation moins visible.\nSupprimons-la et simplifions un peu les choses\xa0:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"@keyframes progress-bar {\n    0% {\n        transform: scaleX(0);\n    }\n    17% {\n        transform: scaleX(.18);\n    }\n    24% {\n        transform: scaleX(.40);\n        animation-timing-function: cubic-bezier(.9,0,.1,1);\n    }\n    46% {\n        transform: scaleX(.81);\n        animation-timing-function: cubic-bezier(.25,0.25,1);\n    }\n    100% {\n        transform: scaleX(1);\n    }\n}\n")),(0,r.mdx)("p",null,"Voyons ce que \xe7a donne\xa0:"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2019/08/24/1566683102931_ezgif.com-optimize%20%284%29.gif",alt:"Animation barre de progression fonction de timing personnalis\xe9e et pas de changement d'opacit\xe9"})),(0,r.mdx)("p",null,(0,r.mdx)("em",{parentName:"p"},"Beaucoup")," mieux.\xa0"),(0,r.mdx)("p",null,"Bravo\xa0! Nous avons une barre de progression avec un ressenti plus authentique gr\xe2ce \xe0 l'utilisation des @keyframes, et de la propri\xe9t\xe9\nanimation-timing-function. Les propri\xe9t\xe9s animation-delay et animation-fill-mode nous permettent \xe9galement d'encha\xeener les animations entre\nelles au mieux."),(0,r.mdx)("p",null,"Encore une fois, si vous souhaitez vous amuser avec le code, je vous mets ",(0,r.mdx)("a",{parentName:"p",href:"https://codepen.io/atoulmet/pen/rNByOPr"},"un CodePen")," \xe0 disposition."),(0,r.mdx)("p",null,(0,r.mdx)("em",{parentName:"p"},"Pourquoi ne pas essayer de changer la dur\xe9e de la propri\xe9t\xe9 animation-timing-function ?")),(0,r.mdx)("h3",{id:"r\xe9sum\xe9"},"R\xe9sum\xe9"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},"les animations CSS @keyframes peuvent \xeatre d\xe9clench\xe9es en utilisant des pseudoclasses telles que ",(0,r.mdx)("inlineCode",{parentName:"li"},":hover"),", tout comme les transitions ;"),(0,r.mdx)("li",{parentName:"ul"},"les @keyframes CSS peuvent \xe9galement \xeatre d\xe9clench\xe9s par le chargement des \xe9l\xe9ments auxquels ils sont assign\xe9s, comme un s\xe9lecteur. Par\nexemple, d\xe8s le chargement d'une page ;"),(0,r.mdx)("li",{parentName:"ul"},"nous pouvons retarder le d\xe9marrage des animations avec keyframes en utilisant la propri\xe9t\xe9 ",(0,r.mdx)("inlineCode",{parentName:"li"},"animation-delay"),", avec un d\xe9lai exprim\xe9 en\nsecondes ou en millisecondes, tout comme les transitions ;"),(0,r.mdx)("li",{parentName:"ul"},"nous pouvons \xe9tendre ces valeurs du d\xe9but \xe0 la fin de ces animations en utilisant la propri\xe9t\xe9 ",(0,r.mdx)("inlineCode",{parentName:"li"},"animation-fill-mode"),"\xa0:",(0,r.mdx)("ul",{parentName:"li"},(0,r.mdx)("li",{parentName:"ul"},"le mot cl\xe9 \xab\xa0backwards\xa0\xbb prolonge les valeurs de d\xe9part d'une animation avant son lancement, couvrant la dur\xe9e du d\xe9lai assign\xe9 avant\nque l'animation elle-m\xeame ne commence,"),(0,r.mdx)("li",{parentName:"ul"},"le mot cl\xe9 \xab\xa0forwards\xa0\xbb prolonge les valeurs finales d'une animation jusqu'\xe0 ce que la page soit recharg\xe9e ou que le navigateur soit\nferm\xe9,"),(0,r.mdx)("li",{parentName:"ul"},"le mot cl\xe9 \xab\xa0both\xa0\xbb prolonge l'animation dans les deux sens ;"))),(0,r.mdx)("li",{parentName:"ul"},"nous pouvons d\xe9finir une fonction de timing des @keyframes en utilisant la fonction animation-timing-function sur le s\xe9lecteur o\xf9\nl'animation a \xe9t\xe9 assign\xe9e ;"),(0,r.mdx)("li",{parentName:"ul"},"nous pouvons \xe9galement d\xe9finir un timing sp\xe9cifique keyframe par keyframe, en assignant la propri\xe9t\xe9 ",(0,r.mdx)("inlineCode",{parentName:"li"},"animation-timing-function"),"\xa0aux\nkeyframes en question.")),(0,r.mdx)("p",null,(0,r.mdx)("em",{parentName:"p"},"Au chapitre suivant, nous verrons de nouvelles propri\xe9t\xe9s li\xe9es aux @keyframes. Nous verrons notamment comment \xe9crire des animations plus\nconcises et r\xe9utilisables, mais nous apprendrons \xe9galement \xe0 mettre nos animations sur pause. \xc0 tr\xe8s vite ! \ud83d\ude80")),(0,r.mdx)("hr",null),(0,r.mdx)("h2",{id:"manipulez-et-r\xe9utilisez-les-animations-css"},"Manipulez et r\xe9utilisez les animations CSS"),(0,r.mdx)("p",null,(0,r.mdx)("a",{parentName:"p",href:"https://openclassrooms.com/fr/courses/5919246-creez-des-animations-css-modernes/6340941-manipulez-et-reutilisez-les-animations-css"},"Manipulez et r\xe9utilisez les animations CSS - Cr\xe9ez des animations CSS modernes - OpenClassrooms")),(0,r.mdx)(t.fG,{vimeoId:"508777409",mdxType:"Vimeo"}),(0,r.mdx)("br",null),(0,r.mdx)("p",null,"\xc7a fait deux chapitres que je vous en parle, vous devez commencer \xe0 saisir le potentiel des animations @keyframes, n'est-ce pas ?"),(0,r.mdx)("p",null,"Nous avons maintenant tous les outils n\xe9cessaires pour cr\xe9er et affiner la plupart des animations auxquelles nous pouvons penser. Mais..."),(0,r.mdx)("p",null,"Et si on voulait faire une animation de quelque chose qui rebondit ind\xe9finiment d'avant en arri\xe8re ?"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2021/02/10/16129496961984_Gif124.gif",alt:"Carr\xe9 qui se d\xe9place de gauche \xe0 droite"})),(0,r.mdx)("p",null,"Nous ",(0,r.mdx)("em",{parentName:"p"},"pourrions")," bien s\xfbr cr\xe9er une animation avec ",(0,r.mdx)("em",{parentName:"p"},(0,r.mdx)("strong",{parentName:"em"},"BEAUCOUP"))," de keyframes...\xa0"),(0,r.mdx)("p",null,"Et si nous voulions que des \xe9l\xe9ments diff\xe9rents tournent dans des directions oppos\xe9es ? Ou \xe0 des vitesses diff\xe9rentes\xa0?"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2021/02/10/16129497089353_Gif125.gif",alt:"Carr\xe9s qui effectuent des rotations \xe0 diff\xe9rentes vitesses et dans diff\xe9rents sens"})),(0,r.mdx)("p",null,"Nous ",(0,r.mdx)("em",{parentName:"p"},"pourrions")," cr\xe9er plusieurs animations @keyframes, une avec une rotation dans le sens des aiguilles d'une montre et l'autre dans le sens\ninverse, une autre avec une vitesse diff\xe9rente, etc."),(0,r.mdx)("p",null,"Je pr\xe9f\xe8re vous le dire tout de suite : si vous pr\xe9f\xe9rez ces solutions, ce sera sans moi \ud83d\ude43. Car si je vous en parle, c'est qu'il existe bien\ns\xfbr une solution adapt\xe9e. En quelques propri\xe9t\xe9s seulement, nous pouvons dire au navigateur de le r\xe9p\xe9ter pour nous. Ou de le lire \xe0 l'envers.\nOu m\xeame de faire une pause et de le jouer sur commande."),(0,r.mdx)("p",null,"Nous allons voir ensemble comment tirer le meilleur parti des animations @keyframes, tout en gardant la base de code la plus propre et\nmaintenable possible."),(0,r.mdx)("h3",{id:"repensez-votre-validation-demail"},"Repensez votre validation d'email"),(0,r.mdx)("p",null,"Remontons dans le temps \u23f1, \xe0 la partie 1, chapitre 3 et au monde des transitions et des pseudoclasses. Cette \xe9poque o\xf9 vous ne connaissiez\npas encore les keyframes. Nous avions cr\xe9\xe9 un input d'adresse e-mail qui donnait \xe0 l'utilisateur un feedback visuel si l'adresse entr\xe9e\nn'\xe9tait pas valide :"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2021/02/10/16129497209027_Gif126.gif",alt:"Champs email qui devient rouge si l'email n'est pas valide"}),"\xa0"),(0,r.mdx)("p",null,"C'\xe9tait d\xe9j\xe0 pas mal du tout. L'utilisateur peut voir en un coup d\u2019\u0153il qu'il y a quelque chose qui cloche. Mais le fondu entre les \xe9tats\nvalide et non valide reste plut\xf4t soft."),(0,r.mdx)("p",null,"Nous pouvons maintenant tirer parti des keyframes pour cr\xe9er une animation encore plus impactante."),(0,r.mdx)("p",null,"Pour vous rafra\xeechir la m\xe9moire, ici notre \xe9l\xe9ment input est un input standard, dont le type est d\xe9fini sur email :"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-html"},'<html>\n    <div class="container">\n        <div class="form">\n            <div class="form__group">\n                <label for="email-input">email</label>\n                <input type="email" name=\u201demail-input>\n            </div>\n        </div>\n    </div>\n</html>\n')),(0,r.mdx)("p",null,"Notre animation change actuellement la ",(0,r.mdx)("inlineCode",{parentName:"p"},"background-color"),"\xa0pour un rouge fonc\xe9 sur une dur\xe9e de 500ms si l'adresse saisie n'est pas valide\xa0:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"$cd-txt: #6300a0;\n$cd-txt--invalid: #fff;\n$cd-danger : #b20a37 ;\n.form {\n    &__group {\n        & input {\n            border: 2px solid $cd-box;\n            border-radius: 100rem;\n            color: $cd-txt;\n            font-family: 'Montserrat', sans-serif;\n            font-size: 2.5rem;\n            outline: none;\n            padding: .5rem 1.5rem;\n            width: 100%;\n            transition: background-color 500ms;\n            &:focus {\n                border: 2px solid $cd-txt;\n            }\n            &:not(:focus):invalid {\n                background-color: $cd-danger;\n                border: 2px solid $cd-danger;\n                color: $cd-txt--invalid;\n            }\n        }\n    }\n}\n")),(0,r.mdx)("p",null,"Le style de base est tout \xe0 fait correct, il vaut mieux donc mieux ne pas y toucher. Au lieu de cela, nous allons supprimer la transition du\ns\xe9lecteur d'entr\xe9e. Au revoir tout notre beau travail ! Il est parfois tr\xe8s difficile d'avoir \xe0 supprimer du travail sur lequel on avait\npass\xe9 du temps pour se lancer dans une autre direction, mais cela fait juste partie du processus cr\xe9atif. Parfois, quelque chose ne\nfonctionne pas aussi bien que nous l'envisagions, et nous devons savoir l'abandonner. Alors... adieu transition ",(0,r.mdx)("inlineCode",{parentName:"p"},"background-color"),"."),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"$cd-txt: #6300a0;\n$cd-txt--invalid: #fff;\n$cd-danger : #b20a37 ;\n.form {\n    &__group {\n        & input {\n            border: 2px solid $cd-box;\n            border-radius: 100rem;\n            color: $cd-txt;\n            font-family: 'Montserrat', sans-serif;\n            font-size: 2.5rem;\n            outline: none;\n            padding: .5rem 1.5rem;\n            width: 100%;\n            &:focus {\n                border: 2px solid $cd-txt;\n            }\n            &:not(:focus):invalid {\n                background-color: $cd-danger;\n                border: 2px solid $cd-danger;\n                color: $cd-txt--invalid;\n            }\n        }\n    }\n}\n")),(0,r.mdx)("p",null,"Nous avons d\xe9sormais un input d'e-mail qui devient rouge lorsque l'entr\xe9e n'est pas valide et ne sera pas corrig\xe9e\xa0:"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2021/02/10/16129499442575_Gif127.gif",alt:"Champ email qui devient rouge lorsque l'email n'est pas valide"})),(0,r.mdx)("p",null,"Alors maintenant, quoi\xa0? Qu'est-ce qu'on pourrait faire de tellement mieux qui justifierait de jeter une transition parfaitement utilisable\npour tout recommencer\xa0?"),(0,r.mdx)("h3",{id:"cr\xe9ez-des-\xe9motions-avec-vos-animations"},"Cr\xe9ez des \xe9motions avec vos animations"),(0,r.mdx)("p",null,"Je vous vois. Vous avez h\xe2te de savoir ce que l'on va cr\xe9er ensemble."),(0,r.mdx)("p",null,"L'id\xe9e est simple : Et si on faisait hocher la t\xeate \xe0 notre input\xa0?"),(0,r.mdx)("p",null,"C'est un signe quasiment universel que\xa0la plupart peuvent interpr\xe9ter comme un \xab\xa0non\xa0\xbb. En tant qu'humains, nous absorbons et nous traitons\nle langage corporel au niveau de l'inconscient, de sorte que m\xeame les mouvements subtils peuvent avoir un sens. Nous n'avons ainsi plus rien\n\xe0 faire. Un rapide hochement de t\xeate, clair et ferme, c'est tout ce dont nous avons besoin."),(0,r.mdx)("div",{className:"admonition admonition-info alert alert--info"},(0,r.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,r.mdx)("h5",{parentName:"div"},(0,r.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,r.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.mdx)("div",{parentName:"div",className:"admonition-content"},(0,r.mdx)("p",{parentName:"div"},"Il y a plusieurs d\xe9cennies, le professeur de psychologie Albert Mehrabian publiait le livre ",(0,r.mdx)("em",{parentName:"p"},"Silent Messages,")," dans lequel il d\xe9taillait les\ncomposants d\u2019une communication efficace, en \xe9tablissant la r\xe8gle des 7% - 38% - 55%. Selon cette r\xe8gle, une communication efficace passe \xe0 7%\npar les mots, \xe0 38% par le ton, et \xe0 55% par le langage corporel. En d\u2019autres termes, le composant le plus important est le langage corporel,\nmais les sites Internet nous limitent au langage. Avec l\u2019animation, nous pouvons donner aux sites Internet la possibilit\xe9 de parler avec les\nmains !"))),(0,r.mdx)("p",null,'Alors repr\xe9sentons notre "refus" avec l\'animation @keyframes headshake\xa0:'),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"@keyframes headshake {\n}\n")),(0,r.mdx)("p",null,"Nous voulons que notre entr\xe9e commence et se termine l\xe0 o\xf9 elle devrait, et nous n'avons donc pas besoin de cr\xe9er des keyframes pour le d\xe9but\net la fin. En les laissant en dehors des keyframes, notre animation utilisera les valeurs par d\xe9faut du s\xe9lecteur. \xc7a tombe bien,\xa0ce dont nous\navons vraiment besoin, ce sont des keyframes pour le mouvement interm\xe9diaire."),(0,r.mdx)("p",null,"Depuis son \xe9tat neutre, nous voulons que l'input se d\xe9place un peu vers la droite, puis vers la gauche, avant de revenir \xe0 sa position \xe0 son\n\xe9tat neutre. Donc, \xe0 0%, nous sommes dans la position par d\xe9faut. Puis, \xe0 un quart de l'animation, nous voulons que l'entr\xe9e soit enti\xe8rement\n\xe0 droite. Et \xe0 75% dans l'animation, nous voulons qu'elle soit \xe0 l'oppos\xe9 sur la gauche, avant de revenir enfin \xe0 sa position neutre\xa0:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"@keyframes headshake {\n    25% {\n        // enti\xe8rement \xe0 droite\n        transform: translateX();\n    }\n    75% {\n        // enti\xe8rement \xe0 gauche\n        transform: translateX();\n    }\n}\n")),(0,r.mdx)("p",null,"Il ne nous reste plus qu'\xe0 d\xe9cider \xe0 quel moment nous voulons que notre input hoche la t\xeate. \xc7a ne devrait pas \xeatre trop exag\xe9r\xe9, juste un\nhochement de t\xeate net et courtois. Un point de pourcentage ou deux devraient faire l'affaire. Cr\xe9ons une variable intitul\xe9e ",(0,r.mdx)("inlineCode",{parentName:"p"},"$shake-intensity"),",\nr\xe9glons-la (soyons fous)\xa0sur une valeur de 2%, et ajoutons-la \xe0 nos fonctions ",(0,r.mdx)("inlineCode",{parentName:"p"},"translateX()"),"\xa0:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"$shake-intensity: 2%;\n@keyframes headshake {\n    25% {\n        // enti\xe8rement \xe0 droite\n        transform: translateX($shake-intensity);\n    }\n    75% {\n        // enti\xe8rement \xe0 gauche\n        transform: translateX(-$shake-intensity);\n    }\n}\n")),(0,r.mdx)("p",null,"Nous voulons que la position de notre input sur la gauche soit l'inverse de la droite. Nous avons donc juste pr\xe9fix\xe9 la variable avec un\nsymbole n\xe9gatif. D\xe9sormais, nous devons ajouter nos\xa0@keyframes headshake au s\xe9lecteur ",(0,r.mdx)("inlineCode",{parentName:"p"},"input:not(:focus):invalid."),"\xa0Nous voulons un hochement\nde t\xeate brusque et rapide, alors donnons-lui une valeur courte pour sa dur\xe9e. Quelque chose aux alentours des 100ms devrait faire l'affaire,\nau d\xe9but du moins\xa0:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"$cd-danger : #b20a37 ;\n$cd-txt: #6300a0;\n$shake-intensity: 2%;\n.form {\n    &__group {\n        & input {\n            &:active, &:focus {\n                border: 2px solid $cd-txt;\n            }\n            &:not(:focus):invalid {\n                color: white;\n                border: 2px solid $cd-danger;\n                background: $cd-danger;\n                animation: headshake 100ms cubic-bezier(.4,.1,.6,.9);\n            }\n        }\n    }\n}\n@keyframes headshake {\n    25% {\n        // enti\xe8rement \xe0 droite\n        transform: translateX($shake-intensity);\n    }\n    75% {\n        // enti\xe8rement \xe0 gauche\n        transform: translateX($shake-intensity \\* \\-1);\n    }\n}\n")),(0,r.mdx)("p",null,"Nous avons \xe9galement r\xe9gl\xe9 la fonction ",(0,r.mdx)("inlineCode",{parentName:"p"},"animation-timing-function"),"\xa0pour le headhake sur cubic-bezier(.4,.1,.6,.9), ce qui reste plut\xf4t l\xe9ger\xa0:"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2019/08/07/15651814252524_image40.png",alt:"Le cubic-b\xe9zier l\xe9g\xe8rement modifi\xe9"})),(0,r.mdx)("p",null,"Testons\xa0la r\xe9action que cela nous donne\xa0!"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2021/02/10/1612950073298_Gif128.gif",alt:"Champs d'email qui devient rouge lorsque l'email n'est pas valide"})),(0,r.mdx)("p",null,"\xc7a, c'est un beau hochement de t\xeate anthropomorphique\xa0! Si beau d'ailleurs qu'on ne s'en lasse pas : on voudrait en voir plus."),(0,r.mdx)("p",null,"OK\xa0! Donc, \xe7a veut dire que nous devons encore ajouter d'autres keyframes. Pour obtenir deux hochements de t\xeate, l'extr\xeame droite devrait \xeatre\n\xe0... 12,5% et 62,5%... et la gauche devrait \xeatre \xe0 37,5% et 87,5%... c'est \xe7a\xa0? Et si \xe7a ne suffisait toujours pas pour un bon hochement de\nt\xeate\xa0? Et si on avait besoin de trois hochements de t\xeate\xa0? \xc7a voudrait dire que l'extr\xeame droite serait \xe0... juste une seconde... passer \xe0...\neuh... vous savez quoi\xa0? Il doit y avoir un meilleur moyen. ",(0,r.mdx)("strong",{parentName:"p"},"Parce qu'il y a toujours un meilleur moyen\xa0!")),(0,r.mdx)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,r.mdx)("h5",{parentName:"div"},(0,r.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,r.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"?")),(0,r.mdx)("div",{parentName:"div",className:"admonition-content"},(0,r.mdx)("p",{parentName:"div"},"Et ce meilleur moyen, c'est quoi\xa0?"))),(0,r.mdx)("p",null,"La propri\xe9t\xe9 ",(0,r.mdx)("inlineCode",{parentName:"p"},"animation-iteration-count"),"\xa0! Elle nous permet d'\xe9crire des keyframes d'un seul cycle d'animation et demander au navigateur de\nles r\xe9p\xe9ter autant de fois que nous le souhaitons. Cela signifie que nous pouvons faire secouer la t\xeate de notre\xa0input deux fois, ou deux\ncents fois, en changeant une seule valeur\xa0:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"$cd-danger : #b20a37 ;\n$cd-txt: #6300a0;\n$shake-intensity: 2%;\n.form {\n    &__group {\n        & input {\n            &:active, &:focus {\n                border: 2px solid $cd-txt;\n            }\n            &:not(:focus):invalid {\n                color: white;\n                border: 2px solid $cd-danger;\n                background: $cd-danger;\n                animation: headshake 100ms cubic-bezier(.4,.1,.6,.9);\n                animation-iteration-count: 3;\n            }\n        }\n    }\n}\n@keyframes headshake {\n    25% {\n        // enti\xe8rement \xe0 droite\n        transform: translateX($shake-intensity);\n    }\n    75% {\n        // enti\xe8rement \xe0 gauche\n        transform: translateX($shake-intensity \\* \\-1);\n    }\n}\n")),(0,r.mdx)("p",null,"Il y a un principe d'\xe9criture appel\xe9 la \xab\xa0r\xe8gle de trois\xa0\xbb selon laquelle une chose qui arrive trois fois serait plus efficace et impactante.\nQue ce soit plus dramatique, plus dr\xf4le ou plus percutant (vous avez vu, je l'ai utilis\xe9e ici). Alors nous avons donn\xe9 une valeur de trois \xe0\nla propri\xe9t\xe9 ",(0,r.mdx)("inlineCode",{parentName:"p"},"animation-iteration-count"),"."),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2021/02/10/16129502050779_Gif129.gif",alt:"Champs d'email qui devient rouge et qui tremble lorsque l'email n'est pas valide"})),(0,r.mdx)("p",null,"Meh. Je ne suis pas convaincue. Deux c'\xe9tait tr\xe8s bien aussi. R\xe9duisons donc le nombre d'it\xe9rations \xe0 2 et testons \xe0 nouveau l'animation. Et\nquand on les voit encha\xeen\xe9s comme \xe7a, 2% d'intensit\xe9 pour le hochement semble \xe9galement un peu trop. Descendons \xe0 1% pendant qu'on y est\xa0:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"$cd-danger : #b20a37 ;\n$cd-txt: #6300a0;\n$shake-intensity: 1%;\n.form {\n    &__group {\n        & input {\n            &:active, &:focus {\n                border: 2px solid $cd-txt;\n            }\n            &:not(:focus):invalid {\n                color: white;\n                border: 2px solid $cd-danger;\n                background: $cd-danger;\n                // animation-iteration-count est directement int\xe9gr\xe9 dans la propri\xe9t\xe9 raccourcie animation :\n                animation: headshake 100ms cubic-bezier(.4,.1,.6,.9) 2;\n            }\n        }\n    }\n}\n@keyframes headshake {\n    25% {\n        // enti\xe8rement \xe0 droite\n        transform: translateX($shake-intensity);\n    }\n    75% {\n        // enti\xe8rement \xe0 gauche\n        transform: translateX($shake-intensity \\* \\-1);\n    }\n}\n")),(0,r.mdx)("p",null,"O\xf9 est pass\xe9 ",(0,r.mdx)("inlineCode",{parentName:"p"},"animation-iteration-count")," ? Comme pour les autres propri\xe9t\xe9s d'animation, nous l'avons inclus dans la propri\xe9t\xe9 d'animation\nabr\xe9g\xe9e, plut\xf4t que d'\xe9crire la version explicite. Nous avons donc ajout\xe9 le chiffre 2 \xe0 la liste des valeurs pour l'animation, et maintenant\nnotre entr\xe9e devrait hocher la t\xeate deux fois."),(0,r.mdx)("p",null,"Cette valeur pour la dur\xe9e de l'animation s'applique \xe0 la dur\xe9e d'un seul cycle d'animation. Cela signifie que notre animation de hochement de\nt\xeate, avec une dur\xe9e assign\xe9e de 100ms et un nombre d'it\xe9rations de 2, prendra un total de 200ms \xe0 se terminer\xa0:"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2021/02/10/16129502187277_Gif130.gif",alt:"Champs d'email qui devient rouge et qui tremble lorsque l'email n'est pas valide"})),(0,r.mdx)("p",null,"\xc7a c'est la bonne dur\xe9e pour un hochement de t\xeate\xa0! \ud83c\udf89"),(0,r.mdx)("p",null,"Avec ",(0,r.mdx)("inlineCode",{parentName:"p"},"animation-iteration-count"),", nous pouvons nous \xe9pargner beaucoup de calcul mental et de keyframes compliqu\xe9s en \xe9crivant un seul cycle\nd'animation et en demandant au navigateur de le rejouer autant de fois que nous le voulons. Bien plus propre, et bien plus facile \xe0 retoucher\net \xe0 affiner."),(0,r.mdx)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,r.mdx)("h5",{parentName:"div"},(0,r.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,r.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"?")),(0,r.mdx)("div",{parentName:"div",className:"admonition-content"},(0,r.mdx)("p",{parentName:"div"},"Mais comment faire si\xa0on\xa0veut qu'une animation joue en boucle \xe0 l'infini\xa0?"))),(0,r.mdx)("h3",{id:"cr\xe9ez-votre-premier-loader"},"Cr\xe9ez votre premier loader"),(0,r.mdx)("p",null,"Les sites web appellent souvent le serveur en arri\xe8re-plan pour demander des donn\xe9es, comme une image, un texte, une donn\xe9e, etc. Pendant que\nla page attend la r\xe9ponse du serveur, elle affiche un espace r\xe9serv\xe9."),(0,r.mdx)("p",null,"La r\xe9ponse du serveur ne prend parfois qu'une fraction de seconde ou beaucoup plus, selon la complexit\xe9 de la demande, la taille des donn\xe9es\ntransf\xe9r\xe9es et la vitesse de connexion. Or, sur la plupart des interfaces, nous ne connaissons pas le temps n\xe9cessaire pour obtenir une\nr\xe9ponse du serveur. La barre de progression du chapitre pr\xe9c\xe9dent n'est pas forc\xe9ment adapt\xe9e \xe0 cet usage. Nous allons donc construire quelque\nchose de plus g\xe9n\xe9rique\xa0: un loader !"),(0,r.mdx)("p",null,"Pour commencer, cr\xe9ons une ",(0,r.mdx)("inlineCode",{parentName:"p"},"<div>"),"\xa0avec une classe ",(0,r.mdx)("inlineCode",{parentName:"p"},".load,"),"\xa0et cinq divs enfants int\xe9gr\xe9es, chacune avec une classe de ",(0,r.mdx)("inlineCode",{parentName:"p"},".load__bar assign\xe9e")," :"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-html"},'<html>\n    <div class="container">\n        <div class="load">\n            <div class="load__bar"></div>\n            <div class="load__bar"></div>\n            <div class="load__bar"></div>\n            <div class="load__bar"></div>\n            <div class="load__bar"></div>\n        </div>\n    </div>\n</html>\n')),(0,r.mdx)("p",null,"Maintenant que nous avons construit nos barres, nous devons les styliser pour qu'elles ressemblent \xe0... eh bien... des barres\xa0! Attribuons \xe0\n",(0,r.mdx)("inlineCode",{parentName:"p"},".load"),"\xa0les propri\xe9t\xe9s de layout appropri\xe9es, et configurons les dimensions pour ",(0,r.mdx)("inlineCode",{parentName:"p"},".load__bar"),", tout en leur donnant un joli ",(0,r.mdx)("inlineCode",{parentName:"p"},"background-color"),"\nvert menthe\xa0:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"$cd-bars: #15DEA5;\n$size: 3vh;\n.load {\n    width: $size*10;\n    height: $size*7.5;\n    display: flex;\n    justify-content: space-evenly;\n    &__bar {\n        background-color: #15DEA5;\n        height: 100%;\n        width: $size;\n    }\n}\n")),(0,r.mdx)("p",null,"En v\xe9rifiant dans notre navigateur, nous d\xe9couvrons une magnifique rang\xe9e de cinq barres vert menthe\xa0!"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2019/08/07/15651820975803_image12.png",alt:"Les barres sont immobiles"})),(0,r.mdx)("p",null,"Super ! Mais pour le moment elles sont juste l\xe0, immobiles..."),(0,r.mdx)("p",null,"Nous sommes dans un cours d'animation ! Et nous voulons offrir \xe0 nos utilisateurs un peu de mouvement pour \xe9veiller leur int\xe9r\xeat pendant\nqu'ils patientent. Alors cr\xe9ons un ensemble de @keyframes appel\xe9s ",(0,r.mdx)("em",{parentName:"p"},"bars")," et utilisons la fonction de transformation ",(0,r.mdx)("inlineCode",{parentName:"p"},"scaleY()")," pour animer\nl'\xe9chelle verticale de ces barres dans le temps, en commen\xe7ant \xe0 50% et en terminant \xe0 100%\xa0:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"@keyframes bars {\n    0% {\n        transform: scaleY(0.5);\n    }\n    100% {\n        transform: scaleY(1.0);\n    }\n}\n")),(0,r.mdx)("p",null,"Bien s\xfbr, pour que nos keyframes aient un effet sur nos barres et commencent \xe0 animer leur \xe9chelle, nous devons d'abord les appliquer au\ns\xe9lecteur .bars. Alors configurons une animation \xe0 l'aide de @keyframes bars et une dur\xe9e de 1000ms\xa0:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"$cd-bars: #15DEA5;\n$size: 3vh;\n$anim-dur: 1000ms;\n.load {\n    width: $size*10;\n    height: $size*7.5;\n    display: flex;\n    justify-content: space-evenly;\n    &__bar {\n        background-color: $cd-bars;\n        height: 100%;\n        width: $size;\n        animation: bars $anim-dur;\n    }\n}\n@keyframes bars {\n    0% {\n        transform: scaleY(0.5);\n    }\n    100% {\n        transform: scaleY(1.0);\n    }\n}\n")),(0,r.mdx)("p",null,"La variable ",(0,r.mdx)("inlineCode",{parentName:"p"},"$anim-dur"),"\xa0correspond \xe0 la dur\xe9e de notre animation. Comme nous l'avons vu, nous pouvons profiter du Sass pour cr\xe9er des\nvariables, ce qui nous permet d'ajuster nos valeurs un peu plus facilement, si n\xe9cessaire. Maintenant, nos barres devraient passer de la\nmoiti\xe9 de leur taille verticale \xe0 leur hauteur totale en une seconde\xa0:"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2021/02/10/16129502416335_Gif131.gif",alt:"Barres anim\xe9es de loading"})),(0,r.mdx)("p",null,"C'est parfait : \xe7a fonctionne comme ce qu'on attendait... mais, vous me connaissez. C'est encore loin de me suffire... Rien de tr\xe8s fun dans\ncette animation pour le moment. Souvenez-vous des 12 principes : ajouter un peu de complexit\xe9 \xe0 nos animations contribue grandement \xe0 les\nrendre attrayantes pour nos visiteurs. Nous pouvons alterner leur croissance, pour qu'elles grandissent les unes apr\xe8s les autres, un peu\ncomme une vague."),(0,r.mdx)("p",null,"\xc0 votre avis, quel est le meilleur moyen de cr\xe9er des animations qui se d\xe9clenchent de mani\xe8re altern\xe9e ?"),(0,r.mdx)("p",null,"La propri\xe9t\xe9 ",(0,r.mdx)("inlineCode",{parentName:"p"},"animation-delay"),", \xe7a vous dit quelque chose\xa0?"),(0,r.mdx)("p",null,"Nous avons cinq barres, donc nous avons besoin de cinq s\xe9lecteurs de modification, chacun avec un d\xe9lai d'animation assign\xe9 l\xe9g\xe8rement plus\nlong."),(0,r.mdx)("p",null,"On ",(0,r.mdx)("em",{parentName:"p"},"pourrait")," les \xe9crire manuellement, on pourrait faire beaucoup de choses. Mais pourquoi le faire alors que nous pourrions utiliser Sass\npour g\xe9rer cette t\xe2che r\xe9p\xe9titive et incr\xe9mentale\xa0? Configurons une boucle Sass @for pour l'it\xe9ration \xe0 travers un ensemble de nombres allant\nde un \xe0 cinq, en incr\xe9mentant le nom du s\xe9lecteur et le d\xe9lai de l'animation\xa0:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"$cd-bars: #15DEA5;\n$size: 3vh;\n$num-bars: 5\n$anim-dur: 1000ms;\n$anim-delay: $anim-dur / $num-bars;\n.load {\n    width: $size*10;\n    height: $size*7.5;\n    display: flex;\n    justify-content: space-evenly;\n    &__bar {\n        background-color: $cd-bars;\n        height: 100%;\n        width: $size;\n        animation: bars $anim-dur;\n        @for $i from 1 through $num-bars {\n            &--#{$i} {\n                animation-delay: $anim-delay * $i;\n            }\n        }\n    }\n}\n")),(0,r.mdx)("p",null,"Chaque it\xe9ration \xe0 travers la boucle produira un nouveau s\xe9lecteur, avec le num\xe9ro d'index de l'it\xe9ration utilis\xe9 dans son nom, ainsi que\npour multiplier le ",(0,r.mdx)("inlineCode",{parentName:"p"},"$anim-delay"),"\xa0et cr\xe9er un d\xe9lai de lancement qui sera incr\xe9ment\xe9 au fur et \xe0 mesure. ",(0,r.mdx)("inlineCode",{parentName:"p"},"$anim-delay"),"\xa0est r\xe9gl\xe9 sur la dur\xe9e\nde l'animation divis\xe9e par le nombre de barres."),(0,r.mdx)("p",null,"Ainsi, lors de la premi\xe8re it\xe9ration, le modificateur sera nomm\xe9 ",(0,r.mdx)("inlineCode",{parentName:"p"},".load__bar--1"),"\xa0et aura un retard de 200ms, le second sera ",(0,r.mdx)("inlineCode",{parentName:"p"},".load__bar--2"),"\navec un retard de 400ms, et ainsi de suite. En v\xe9rifiant le CSS compil\xe9, nous voyons que les s\xe9lecteurs suivants viennent d'\xeatre cr\xe9\xe9s\xa0:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},".load__bar--1 {\n    animation-delay: 200ms;\n}\n.load__bar--2 {\n    animation-delay: 400ms;\n}\n.load__bar--3 {\n    animation-delay: 600ms;\n}\n.load__bar--4 {\n    animation-delay: 800ms;\n}\n.load__bar--5 {\n    animation-delay: 1000ms;\n}\n")),(0,r.mdx)("p",null,"Maintenant, il ne nous reste plus qu'\xe0 appliquer nos nouveaux modificateurs aux divs appropri\xe9es dans notre HTML\xa0:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-html"},'<div class="container">\n    <div class="load">\n        <div class="load__bar load__bar--1"></div>\n        <div class="load__bar load__bar--2"></div>\n        <div class="load__bar load__bar--3"></div>\n        <div class="load__bar load__bar--4"></div>\n        <div class="load__bar load__bar--5"></div>\n    </div>\n</div>\n')),(0,r.mdx)("p",null,"J'aimerais que nous prenions un instant pour admirer nos barres dans le navigateur\xa0:"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2021/02/10/1612950255976_Gif132.gif",alt:"Barre anim\xe9es loading pas synchronis\xe9es"})),(0,r.mdx)("p",null,"Nous avons ajout\xe9 tous nos d\xe9lais, mais nous avons oubli\xe9 de r\xe9gler le mode de remplissage. R\xe9sultat : nos barres reviennent \xe0 leur taille\ninitiale \xe0 la fin de l'animation."),(0,r.mdx)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,r.mdx)("h5",{parentName:"div"},(0,r.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,r.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"?")),(0,r.mdx)("div",{parentName:"div",className:"admonition-content"},(0,r.mdx)("p",{parentName:"div"},"Mais comment faire pour \xe9viter ce probl\xe8me ?"))),(0,r.mdx)("p",null,"R\xe9glons donc le mode ",(0,r.mdx)("inlineCode",{parentName:"p"},"animation-fill-mode"),"\xa0sur backwards pour \xe9tendre les valeurs de d\xe9part de l'animation pendant le d\xe9lai :"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"$cd-bars: #15DEA5;\n$size: 3vh;\n$anim-dur: 1000ms;\n$anim-delay: $anim-dur / 5;\n.load {\n    width: $size*10;\n    height: $size*7.5;\n    display: flex;\n    justify-content: space-evenly;\n    &__bar {\n        background-color: $cd-bars;\n        height: 100%;\n        width: $size;\n        animation: bars $anim-dur backwards;\n        @for $i from 1 through 5 {\n            &--#{$i} {\n                animation-delay: $anim-delay * $i;\n            }\n        }\n    }\n}\n")),(0,r.mdx)("p",null,"Et voil\xe0\xa0! Admirez nos magnifiques barres ondulantes\xa0!"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2021/02/10/16129502689305_Gif133.gif",alt:"Barres anim\xe9es ondulation"})),(0,r.mdx)("p",null,"Du moins, admirez au moins UN cycle de nos barres ondulantes... Maintenant, r\xe9p\xe9tons ce cycle, vers l'infini et au del\xe0 ! \ud83d\udc69\u200d\ud83d\ude80"),(0,r.mdx)("p",null,"Pour cela, utilisons ",(0,r.mdx)("inlineCode",{parentName:"p"},"animation-iteration-count"),", qui est parfait pour ce genre de situation. Mais combien de cycles devons-nous utiliser\ndans les r\xe9glages pour le nombre d'it\xe9rations ?"),(0,r.mdx)("h3",{id:"faites-boucler-vos-animations-\xe0-linfini"},"Faites boucler vos animations \xe0 l'infini"),(0,r.mdx)("p",null,"Nous ne savons pas combien de temps va s'\xe9couler entre le moment o\xf9 notre navigateur envoie sa requ\xeate au serveur et la r\xe9ception des donn\xe9es\nen r\xe9ponse. Et cela signifie que nous ne savons jamais vraiment combien de fois nous aurons besoin de r\xe9p\xe9ter l'animation de nos barres."),(0,r.mdx)("p",null,"Nous pourrions leur attribuer un chiffre tr\xe8s \xe9lev\xe9 comme 9999.... mais c'est une solution de contournement un peu facile et pas du tout\noptimis\xe9e..."),(0,r.mdx)("p",null,"Plut\xf4t que de sp\xe9cifier un nombre sp\xe9cifique pour le nombre d'it\xe9rations, ",(0,r.mdx)("strong",{parentName:"p"},"nous pouvons aussi dire au navigateur de lire l'animation \xe0\nl'infini en lui assignant le mot cl\xe9 \xab\xa0infinite\xa0\xbb \xe0 la place")," :"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"$cd-bars: #15DEA5;\n$size: 3vh;\n$anim-dur: 1000ms;\n$anim-delay: $anim-dur / 5;\n.load {\n    width: $size*10;\n    height: $size*7.5;\n    display: flex;\n    justify-content: space-evenly;\n    &__bar {\n        background-color: $cd-bars;\n        height: 100%;\n        width: $size;\n        animation: bars $anim-dur backwards infinite;\n        @for $i from 1 through 5 {\n            &--#{$i} {\n                animation-delay: $anim-delay * $i;\n            }\n        }\n    }\n}\n")),(0,r.mdx)("p",null,"Et ",(0,r.mdx)("em",{parentName:"p"},"maintenant")," voici notre animation r\xe9p\xe9tant \xe0 l'infini une s\xe9rie de barres\xa0!"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2021/02/10/16129502897753_Gif134.gif",alt:"Barres anim\xe9es iteration count"})),(0,r.mdx)("p",null,"Maintenant qu'elles tournent en boucle, nous avons un probl\xe8me tr\xe8s similaire \xe0 celui que nous avions avant d'ajouter le mode de remplissage\nbackwards \xe0 notre animation\xa0: les barres passent subitement de leur taille finale \xe0 leur taille initiale. Sauf que cette fois, c'est parce que\nles valeurs de d\xe9but et de fin de la boucle sont diff\xe9rentes. Notre cycle devrait en fait commencer par des barres plus petites, qui\ngrandissent jusqu'\xe0 leur taille maximale au milieu de l'animation, avant de r\xe9tr\xe9cir \xe0 leur taille initiale \xe0 la fin."),(0,r.mdx)("p",null,"Pour cela, nous ",(0,r.mdx)("em",{parentName:"p"},"pourrions")," ajouter un keyframe suppl\xe9mentaire au milieu de l'animation de nos barres. Mais encore une fois... nous n'allons\npas le faire. Ici aussi, il existe une meilleure solution. Et si nous voulions utiliser nos @keyframes bars ailleurs sur notre page, mais\nplut\xf4t que de les animer en boucle, nous voulions qu'elles ne grandissent qu'une fois\xa0? Si nous ajoutions ce keyframe suppl\xe9mentaire \xe0\nl'animation de nos barres, nous serions en train de modifier notre animation originale au service d'un cas particulier, et \xe9ventuellement de\nnous emp\xeacher de l'utiliser dans d'autres animations sur notre site."),(0,r.mdx)("p",null,"\xc0 la place, ",(0,r.mdx)("strong",{parentName:"p"},"nous pouvons utiliser la propri\xe9t\xe9 animation-direction pour transformer nos @keyframes en une boucle invisible"),", m\xeame si les\nvaleurs de d\xe9but et de fin des keyframes sont diff\xe9rentes\xa0!"),(0,r.mdx)("p",null,"La valeur par d\xe9faut pour animation-direction, celle qui est assign\xe9e si nous ne lui donnons pas explicitement une autre valeur, est \xab\xa0normal\xa0\xbb.\nComme vous auriez pu le supposer, ceci rejoue une animation normalement, c'est-\xe0-dire du d\xe9but \xe0 la fin\xa0:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"$cd-bars: #15DEA5;\n$size: 3vh;\n$anim-dur: 1000ms;\n$anim-delay: $anim-dur / 5;\n.load {\n    width: $size*10;\n    height: $size*7.5;\n    display: flex;\n    justify-content: space-evenly;\n    &__bar {\n        background-color: $cd-bars;\n        height: 100%;\n        width: $size;\n        animation: bars $anim-dur backwards infinite;\n        animation-direction : normal;\n        @for $i from 1 through 5 {\n            &--#{$i} {\n                animation-delay: $anim-delay * $i;\n            }\n        }\n    }\n}\n")),(0,r.mdx)("p",null,"G\xe9n\xe9ralement, il est tr\xe8s rare de voir animation-direction avec la valeur \xab\xa0normal\xa0\xbb, car il s'agit d'une option qui donne le m\xeame r\xe9sultat\nque si nous ne l\u2019avions pas pr\xe9cis\xe9 du tout :"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2021/02/10/16129503060738_Gif135.gif",alt:"Barres ondulantes rythm\xe9es"})),(0,r.mdx)("p",null,"L\xe0 o\xf9 l'utilisation de animation-direction commence \xe0 devenir tr\xe8s utile, c'est avec le mot cl\xe9 \xab\xa0reverse\xa0\xbb. Et qu'est-ce qu'on obtient en\nattribuant \xab\xa0reverse\xa0\xbb \xe0 animation-direction\xa0? Vous vous en doutez peut-\xeatre. L'animation est lue \xe0 l'envers, en commen\xe7ant par la fin et en\nla lisant \xe0 l'envers jusqu'au d\xe9but :"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"$cd-bars: #15DEA5;\n$size: 3vh;\n$anim-dur: 1000ms;\n$anim-delay: $anim-dur / 5;\n.load {\n    width: $size*10;\n    height: $size*7.5;\n    display: flex;\n    justify-content: space-evenly;\n    &__bar {\n        background-color: $cd-bars;\n        height: 100%;\n        width: $size;\n        animation: bars $anim-dur backwards infinite;\n        animation-direction: reverse;\n        @for $i from 1 through 5 {\n            &--#{$i} {\n                animation-delay: $anim-delay * $i;\n            }\n        }\n    }\n}\n")),(0,r.mdx)("p",null,"Et maintenant, l'animation de nos barres va \xeatre jou\xe9e \xe0 l'envers, ce qui n'est pas exactement ce que nous recherchons\xa0:"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2021/02/10/16129503188664_Gif136.gif",alt:"Barres ondulantes reverse"})),(0,r.mdx)("p",null,"Non seulement animation-direction nous permet de jouer des animations en avant et en arri\xe8re, mais elle ",(0,r.mdx)("strong",{parentName:"p"},"nous permet \xe9galement de jouer des\nanimations avec des allers-retours"),", de sorte que la direction de l'animation alterne avec chaque it\xe9ration, d'abord avec une lecture du\nd\xe9but \xe0 la fin, puis en alternant avec une lecture de la fin au d\xe9but. \xc7a pourrait \xeatre pas mal dans le cas de notre loader."),(0,r.mdx)("p",null,"Renseignons donc la valeur ",(0,r.mdx)("strong",{parentName:"p"},"alternate")," :"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"$cd-bars: #15DEA5;\n$size: 3vh;\n$anim-dur: 1000ms;\n$anim-delay: $anim-dur / 5;\n.load {\n    width: $size*10;\n    height: $size*7.5;\n    display: flex;\n    justify-content: space-evenly;\n    &__bar {\n        background-color: $cd-bars;\n        height: 100%;\n        width: $size;\n        animation: bars $anim-dur backwards infinite;\n        animation-direction: alternate;\n        @for $i from 1 through 5 {\n            &--#{$i} {\n                animation-delay: $anim-delay * $i;\n            }\n        }\n    }\n}\n")),(0,r.mdx)("p",null,"Et maintenant, nous avons une animation en boucle infinie et invisible !"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2021/02/10/16129503320031_Gif137.gif",alt:"Barres ondulantes optimales"})),(0,r.mdx)("p",null,"Nous voil\xe0 sur le bon chemin\xa0! La fonction timing-function pr\xe9voit par d\xe9faut diff\xe9rentes pentes d'easing par rapport \xe0 ses profils\nd'acc\xe9l\xe9ration et de d\xe9c\xe9l\xe9ration, ce qui cr\xe9e un effet d'\xe0-coups entre les cycles\xa0:"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2019/08/07/1565183220894_image23.png",alt:"Le cubic-b\xe9zier de l'animation"})),(0,r.mdx)("p",null,"Au lieu de s'en tenir aux valeurs par d\xe9faut de la fonction animation-timing-function, assignons-lui quelque chose de plus sym\xe9trique, comme\nle profil ease-in-out\xa0:"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2019/08/07/15651832814153_image39.png",alt:"Le cubic-b\xe9zier que nous souhaitons avoir"})),(0,r.mdx)("p",null,"Et pendant que nous modifions le timing de notre animation, profitons-en pour abr\xe9ger tout cela en utilisant le mot cl\xe9 \u201canimation\u201d. Encore\nune fois, il suffit d\u2019ajouter la valeur alternate \xe0 la liste des valeurs de la propri\xe9t\xe9 animation\xa0:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"$cd-bars: #15DEA5;\n$size: 3vh;\n$anim-dur: 1000ms;\n$anim-delay: $anim-dur / 5;\n.load {\n    &__bar {\n        background-color: $cd-bars;\n        animation: bars $anim-dur backwards infinite ease-in-out alternate;\n        @for $i from 1 through 5 {\n            &--#{$i} {\n                animation-delay: $anim-delay * $i;\n            }\n        }\n    }\n}\n")),(0,r.mdx)("p",null,"Maintenant, notre boucle devrait \xeatre beaucoup plus fluide\xa0:"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2021/02/10/16129503441908_Gif138.gif",alt:"Barres ondulantes encore plus fluides"})),(0,r.mdx)("p",null,"Joliiiii \ud83e\udd13\xa0! Alors, on s'arr\xeate l\xe0\xa0? ... Non, pas encore."),(0,r.mdx)("p",null,"Pour le moment, l'animation reste quand m\xeame un peu ennuyeuse. Essayons de rendre l'ensemble un peu plus attrayant en ajoutant un peu plus de\ncomplexit\xe9 visuelle. Peut-\xeatre que nous pouvons ajouter un autre ensemble de barres juste en dessous, et les animer en miroir ? Pour cela,\nnous pouvons simplement dupliquer la ",(0,r.mdx)("inlineCode",{parentName:"p"},"div .load"),"\xa0et son contenu\xa0:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-html"},'<div class="container">\n    <div class="load">\n        <div class="load__bar load__bar--1"></div>\n        <div class="load__bar load__bar--2"></div>\n        <div class="load__bar load__bar--3"></div>\n        <div class="load__bar load__bar--4"></div>\n        <div class="load__bar load__bar--5"></div>\n    </div>\n    <div class="load">\n        <div class="load__bar load__bar--1"></div>\n        <div class="load__bar load__bar--2"></div>\n        <div class="load__bar load__bar--3"></div>\n        <div class="load__bar load__bar--4"></div>\n        <div class="load__bar load__bar--5"></div>\n    </div>\n</div>\n')),(0,r.mdx)("p",null,"Voyons o\xf9 \xe7a nous m\xe8ne :"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2021/02/10/16129503569036_Gif139.gif",alt:"Barres ondulantes x2 non synchronis\xe9es"})),(0,r.mdx)("p",null,"Mmm... c'est ",(0,r.mdx)("em",{parentName:"p"},"plut\xf4t")," cool... Mais tentons de pimenter tout \xe7a. Plut\xf4t que de reproduire l'ensemble de barres du haut, essayons de faire en\nsorte que l'ensemble de barres du bas se fonde dans celui du haut, de fa\xe7on \xe0 ce que la barre du haut s'agrandisse et celle du bas r\xe9tr\xe9cisse.\nUn peu comme une synchronisation invers\xe9e. Il nous faut une boucle continue pour l'animation, mais en sens inverse."),(0,r.mdx)("p",null,"Dites donc, ne serait-ce pas g\xe9nial s'il y avait un mot cl\xe9 pour la propri\xe9t\xe9 animation-direction qui jouerait les animations dans des\ndirections altern\xe9es, mais \xe0 l'envers\xa0? Bon, vous vous doutez s\xfbrement maintenant que nous ne faisons pas les choses au hasard\xa0!"),(0,r.mdx)("p",null,"La valeur s'appelle \xab\xa0alternate-reverse\xa0\xbb. Afin d'appliquer la\xa0valeur ",(0,r.mdx)("inlineCode",{parentName:"p"},"alternate-reverse"),"\xa0\xe0 notre deuxi\xe8me ensemble de barres, nous devrons\ncr\xe9er un nouvel ensemble de modificateurs, ce qui est possible depuis notre boucle @for."),(0,r.mdx)("p",null,"Au sein de chaque boucle, nous demanderons de cr\xe9er un deuxi\xe8me s\xe9lecteur, en utilisant la m\xeame structure de d\xe9nomination de base, mais en\najoutant un suffixe pour indiquer que sa direction est invers\xe9e. Pendant que nous y sommes, donnons aussi un peu plus de contraste visuel et\najoutons une couleur diff\xe9rente \xe0 nos barres invers\xe9es\xa0:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"$cd-bars: #15DEA5;\n$cd-bars-inv: #0E397F;\n$size: 3vh;\n$anim-dur: 1000ms;\n$anim-delay: $anim-dur / 5;\n.load {\n    &__bar {\n        animation: bars $anim-dur backwards infinite ease-in-out alternate;\n        @for $i from 1 through 5 {\n            &--#{$i} {\n                animation-delay: $anim-delay * $i;\n            }\n            &--#{$i}-inv {\n                animation-delay: $anim-delay * $i;\n                animation-direction: alternate-reverse;\n                background-color: $cd-bars-inv;\n            }\n        }\n    }\n}\n")),(0,r.mdx)("p",null,"Notre CSS compil\xe9 a d\xe9sormais deux ensembles de modificateurs, un pour la ligne du haut, un autre pour le bas\xa0:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},".load__bar--1 {\n    animation-delay: 200ms;\n}\n.load__bar--1-inv {\n    animation-delay: 200ms;\n    animation-direction: alternate-reverse;\n    animation-fill-mode: forwards;\n    background: #0E397F;\n}\n.load__bar--2 {\n    animation-delay: 400ms;\n}\n.load__bar--2-inv {\n    animation-delay: 400ms;\n    animation-direction: alternate-reverse;\n    animation-fill-mode: forwards;\n    background: #0E397F;\n}\n.load__bar--3 {\n    animation-delay: 600ms;\n}\n.load__bar--3-inv {\n    animation-delay: 600ms;\n    animation-direction: alternate-reverse;\n    animation-fill-mode: forwards;\n    background: #0E397F;\n}\n.load__bar--4 {\n    animation-delay: 800ms;\n}\n.load__bar--4-inv {\n    animation-delay: 800ms;\n    animation-direction: alternate-reverse;\n    animation-fill-mode: forwards;\n    background: #0E397F;\n}\n.load__bar--5 {\n    animation-delay: 1000ms;\n}\n.load__bar--5-inv {\n    animation-delay: 1000ms;\n    animation-direction: alternate-reverse;\n    animation-fill-mode: forwards;\n    background: #0E397F;\n}\n")),(0,r.mdx)("p",null,"Rempla\xe7ons les modificateurs pour notre deuxi\xe8me ensemble de barres dans le HTML\xa0:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-html"},'<div class="container">\n    <div class="load">\n        <div class="load__bar load__bar--1"></div>\n        <div class="load__bar load__bar--2"></div>\n        <div class="load__bar load__bar--3"></div>\n        <div class="load__bar load__bar--4"></div>\n        <div class="load__bar load__bar--5"></div>\n    </div>\n    <div class="load">\n        <div class="load__bar load__bar--1-inv"></div>\n        <div class="load__bar load__bar--2-inv"></div>\n        <div class="load__bar load__bar--3-inv"></div>\n        <div class="load__bar load__bar--4-inv"></div>\n        <div class="load__bar load__bar--5-inv"></div>\n    </div>\n</div>\n')),(0,r.mdx)("p",null,"Et maintenant, v\xe9rifions comment nos barres synchronis\xe9es de fa\xe7on inverse s'affichent dans notre navigateur\xa0:"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2021/02/10/16129503736544_Gif140.gif",alt:"Barres ondulantes synchronis\xe9es"})),(0,r.mdx)("p",null,"Beaucoup mieux\xa0! Nous avons ajout\xe9 une sorte de mouvement secondaire \xe0 notre animation en faisant en sorte que nos deux s\xe9ries de barres\nsoient compl\xe9mentaires..."),(0,r.mdx)("h3",{id:"faites-une-pause"},"Faites une pause"),(0,r.mdx)("p",null,"Nos barres de chargement sont pas mal du tout. Nous pourrions tr\xe8s bien dire qu'elles sont termin\xe9es et passer \xe0 autre chose. Mais qu'en\nest-il de ces pauvres utilisateurs qui n\u2019ont pas encore la fibre\xa0? Qui sait combien de temps ils devront regarder ces barres avant d'obtenir\nune r\xe9ponse du serveur\xa0? Ayons piti\xe9 de leurs pauvres \xe2mes et faisons quelque chose pour rendre l'animation un peu plus interactive et les\ndivertir pendant qu'ils patientent."),(0,r.mdx)("p",null,"Surprise ! Il y a une propri\xe9t\xe9 d'animation CSS que nous n'avons pas encore abord\xe9e. Plut\xf4t que de contr\xf4ler la direction ou le d\xe9lai d'une\nanimation, cette propri\xe9t\xe9 permet de contr\xf4ler si l'animation est lue ou non. La propri\xe9t\xe9 ",(0,r.mdx)("strong",{parentName:"p"},"animation-play-state")," permet de mettre en pause\nou de jouer des animations en utilisant respectivement les mots cl\xe9s \xab\xa0paused\xa0\xbb ou \xab\xa0running\xa0\xbb."),(0,r.mdx)("p",null,"Supposons que nous disposions d'une div toute simple avec la classe .spin\xa0:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-html"},'<div class="container">\n    <div class="spin"></div>\n</div>\n')),(0,r.mdx)("p",null,"Quelques @keyframes et propri\xe9t\xe9s d'animation suffisent pour la faire tourner \xe0 l'infini, chaque rotation prenant trois secondes \xe0 se terminer :"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},".spin {\n    background-color: #15DEA5;\n    width: 30vh;\n    height: 30vh;\n    animation: spin 3s linear infinite;\n}\n@keyframes spin {\n    from {\n        transform: rotate(0deg);\n    }\n    to {\n        transform: rotate(360deg);\n    }\n}\n")),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2021/02/10/16129505611161_Gif141.gif",alt:"Carr\xe9 qui pivote"})),(0,r.mdx)("p",null,"Elle tourne, tourne, tourne... Plus rien ne peut l'arr\xeater, ni l'acc\xe9l\xe9rer ou lui faire quoi que ce soit, \xe0 vrai dire. Pour l'instant, nous\nn'avons vu que comment mettre nos animations en mouvement, mais une fois qu'elles sont en marche, nous n'avons plus qu'\xe0 attendre qu'elles se\nterminent. Mais la propri\xe9t\xe9 ",(0,r.mdx)("inlineCode",{parentName:"p"},"animation-play-state"),"\xa0nous offre une commande toute pr\xeate que nous pouvons utiliser pour lire et mettre en pause\nnos animations."),(0,r.mdx)("p",null,"Configurons notre bo\xeete pour qu'elle commence en pause, mais que la lecture de l'animation commence au survol de la souris. Pour mettre en\npause notre bo\xeete en rotation, nous devons r\xe9gler ",(0,r.mdx)("inlineCode",{parentName:"p"},"animation-play-state"),"\xa0sur \xab\xa0paused\xa0\xbb, ou simplement ajouter le mot cl\xe9 \xab\xa0paused\xa0\xbb \xe0 la\npropri\xe9t\xe9 d'animation abr\xe9g\xe9e\xa0:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},".spin {\n    background-color: #15DEA5;\n    width: 30vh;\n    height: 30vh;\n    animation: spin 3s linear infinite paused;\n}\n@keyframes spin {\n    from {\n        transform: rotate(0deg);\n    }\n    to {\n        transform: rotate(360deg);\n    }\n}\n")),(0,r.mdx)("p",null,"Maintenant, notre bo\xeete ne bouge plus, m\xeame si notre animation de rotation \xab\xa0spin\xa0\xbb lui est appliqu\xe9e\xa0:"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2019/08/07/15651894112127_image34.png",alt:"L'animation ne fonctionne plus"})),(0,r.mdx)("p",null,"Notre animation commence directement en statut pause. Pour faire bouger notre animation, nous avons besoin d'ajouter un bouton de lecture, ce\nque nous allons faire en ajoutant un pseudos\xe9lecteur ",(0,r.mdx)("inlineCode",{parentName:"p"},":hover"),"\xa0\xe0 notre s\xe9lecteur ",(0,r.mdx)("inlineCode",{parentName:"p"},".spin"),", dans lequel l\u2019\xe9tat de l\u2019animation sera sur \xab\xa0running\xa0\xbb\xa0:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},".spin {\n    background-color: #15DEA5;\n    width: 30vh;\n    height: 30vh;\n    animation: spin 3s linear infinite paused;\n    &:hover {\n        animation-play-state: running;\n    }\n}\n@keyframes spin {\n    from {\n        transform: rotate(0deg);\n    }\n    to {\n        transform: rotate(360deg);\n    }\n}\n")),(0,r.mdx)("p",null,"Maintenant, chaque fois que nous survolerons notre bo\xeete, elle reprendra l'animation l\xe0 o\xf9 elle s'\xe9tait arr\xeat\xe9e, et une fois le survol\ntermin\xe9, elle fera une pause l\xe0 o\xf9 elle \xe9tait, pour recommencer son animation si nous la survolons \xe0 nouveau\xa0:"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2021/02/10/16129505768598_Gif142.gif",alt:"Carr\xe9 pivotant au passage de la souris"})),(0,r.mdx)("p",null,(0,r.mdx)("inlineCode",{parentName:"p"},"animation-play-state")," donne \xe0 nos utilisateurs la possibilit\xe9 d'interagir avec nos animations \ud83d\udd25. Ce qui pourrait \xeatre plut\xf4t cool, \xe0\ncondition de ne pas en faire trop. Utilisons ",(0,r.mdx)("inlineCode",{parentName:"p"},"animation-play-state"),"\xa0pour transformer nos barres de chargement en un petit jeu qui va aider\nnos utilisateurs \xe0 patienter en attendant la r\xe9ponse du serveur."),(0,r.mdx)("p",null,"Pour l'instant, nos deux ensembles de barres sont verrouill\xe9s l'un et l'autre dans une sorte de danse\xa0:"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2021/02/10/1612950588033_Gif143.gif",alt:"Barres ondulantes synchronis\xe9es"})),(0,r.mdx)("p",null,"Et si on changeait ces d\xe9lais sur la deuxi\xe8me s\xe9rie de barres, pour que chacune ait un temps de d\xe9part al\xe9atoire\xa0?"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2021/02/10/16129506197045_Gif144.gif",alt:"Barres ondulantes d\xe9lai"})),(0,r.mdx)("p",null,"Maintenant, tout est d\xe9synchronis\xe9\xa0! Mais cela nous permet d'int\xe9grer une certaine interactivit\xe9 pour nos utilisateurs et de les divertir un\npeu pendant qu'ils attendent que les choses se chargent."),(0,r.mdx)("p",null,"Nous pourrions utiliser la pseudoclasse :hover pour agir comme un bouton pause. Mais l\u2019utilisateur pourra resynchroniser les deux ensembles\nde barres en survolant chaque barre, jusqu'\xe0 ce qu'elle soit synchronis\xe9e avec son acolyte. La premi\xe8re \xe9tape consiste \xe0 donner des d\xe9lais\nal\xe9atoires sur les barres invers\xe9es, ce qui peut se faire via la fonction ",(0,r.mdx)("inlineCode",{parentName:"p"},"random()"),"\xa0de Sass\xa0:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"$cd-bars: #15DEA5;\n$cd-bars-inv: #0E397F;\n$size: 3vh;\n$anim-dur: 1000ms;\n$anim-delay: $anim-dur / 5;\n.load {\n    &__bar {\n        animation: bars $anim-dur backwards infinite ease-in-out alternate;\n        @for $i from 1 through 5 {\n            &--#{$i} {\n                animation-delay: $anim-delay * $i;\n            }\n            &--#{$i}-inv {\n                animation-delay: $anim-delay * $i + random(100)*15ms;\n                animation-direction: alternate-reverse;\n                animation-fill-mode: forwards;\n                background-color: $cd-bars-inv;\n            }\n        }\n    }\n}\n")),(0,r.mdx)("p",null,"La fonction al\xe9atoire g\xe9n\xe8re un entier compris entre 1 et le nombre choisi comme argument, qui dans notre cas de figure est 100. Nous\ng\xe9n\xe9rons donc un nombre al\xe9atoire entre 1 et 100, puis nous le multiplions par 15ms et l'ajoutons \xe0 notre retard incr\xe9mentiel, cr\xe9ant ainsi\nun animation-delay al\xe9atoire pour chacune des barres invers\xe9es\xa0:"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2021/02/10/16129506320049_Gif145.gif",alt:"Barres ondulantes d\xe9lai al\xe9atoire"})),(0,r.mdx)("p",null,"Maintenant, tout ce que nous avons \xe0 faire est d'ajouter notre bouton pause en assignant \xe0 ",(0,r.mdx)("inlineCode",{parentName:"p"},".load__bar"),"\xa0une pseudoclasse ",(0,r.mdx)("inlineCode",{parentName:"p"},":hover"),"\xa0permettant\nde r\xe9gler animation-play-state sur \xab\xa0paused\xa0\xbb\xa0:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"$cd-bars: #15DEA5;\n$cd-bars-inv: #0E397F;\n$size: 3vh;\n$anim-dur: 1000ms;\n$anim-delay: $anim-dur / 5;\n.load {\n    &__bar {\n        animation: bars $anim-dur backwards infinite ease-in-out alternate;\n        @for $i from 1 through 5 {\n            &--#{$i} {\n                animation-delay: $anim-delay * $i;\n            }\n            &--#{$i}-inv {\n                animation-delay: $anim-delay * $i + random(100)*15ms;\n                animation-direction: alternate-reverse;\n                animation-fill-mode: forwards;\n                background-color: $cd-bars-inv;\n                &:hover {\n                    animation-play-state: paused;\n                }\n            }\n        }\n    }\n}\n")),(0,r.mdx)("p",null,"Pendant que nous y sommes, ajoutons quelques\xa0instructions directement dans notre HTML."),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-html"},'<div class="container">\n    <span>\n        Survolez les barres bleues pour les synchroniser</span>\n    <div class="load">\n        <div class="load__bar load__bar--1"></div>\n        <div class="load__bar load__bar--2"></div>\n        <div class="load__bar load__bar--3"></div>\n        <div class="load__bar load__bar--4"></div>\n        <div class="load__bar load__bar--5"></div>\n    </div>\n    <div class="load">\n        <div class="load__bar load__bar--1-inv"></div>\n        <div class="load__bar load__bar--2-inv"></div>\n        <div class="load__bar load__bar--3-inv"></div>\n        <div class="load__bar load__bar--4-inv"></div>\n        <div class="load__bar load__bar--5-inv"></div>\n    </div>\n    <span>avec leurs \xe9quivalents verts au dessus.</span>\n</div>\n')),(0,r.mdx)("p",null,"Et c'est tout\xa0! Maintenant, nos barres vont d\xe9marrer de fa\xe7on al\xe9atoire, et c'est l'utilisateur qui pourra les resynchroniser en les\nsurvolant avec sa souris :"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2021/02/15/16133818585532_Gif146.gif",alt:"Barres ondulantes jeu survol souris"})),(0,r.mdx)("p",null,"Pas mal du tout !"),(0,r.mdx)("p",null,"De quoi tenir votre utilisateur alerte pour un petit moment."),(0,r.mdx)("p",null,"Si vous voulez les manipuler directement, jetez un \u0153il ",(0,r.mdx)("a",{parentName:"p",href:"https://codepen.io/atoulmet/pen/WNeEWdx"},"\xe0 mon CodePen"),"."),(0,r.mdx)("p",null,(0,r.mdx)("em",{parentName:"p"},"Essayez de changer le temps de anim-delay \ud83d\ude00")),(0,r.mdx)("h3",{id:"en-r\xe9sum\xe9-1"},"En r\xe9sum\xe9"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},"nous pouvons r\xe9p\xe9ter un ensemble de keyframes autant de fois que nous le souhaitons en utilisant la propri\xe9t\xe9 ",(0,r.mdx)("inlineCode",{parentName:"li"},"animation-iteration-count"),",\navec le nombre de cycles comme valeur ;"),(0,r.mdx)("li",{parentName:"ul"},"nous pouvons r\xe9gler nos keyframes pour qu'ils se r\xe9p\xe8tent \xe0 l'infini en utilisant la propri\xe9t\xe9 ",(0,r.mdx)("inlineCode",{parentName:"li"},"animation-iteration-count"),"\xa0avec le mot cl\xe9\n\xab\xa0infinite\xa0\xbb ;"),(0,r.mdx)("li",{parentName:"ul"},"la propri\xe9t\xe9 ",(0,r.mdx)("inlineCode",{parentName:"li"},"animation-direction"),"\xa0nous permet de lire un ensemble de keyframes normalement, avec le mot cl\xe9 \xab\xa0normal \xbb ;"),(0,r.mdx)("li",{parentName:"ul"},"la propri\xe9t\xe9 ",(0,r.mdx)("inlineCode",{parentName:"li"},"animation-direction"),"\xa0nous permet de lire un ensemble de keyframes vers l'arri\xe8re avec le mot cl\xe9 \xab\xa0reverse\xa0\xbb ;"),(0,r.mdx)("li",{parentName:"ul"},"la propri\xe9t\xe9 ",(0,r.mdx)("inlineCode",{parentName:"li"},"animation-direction"),"\xa0nous permet de lire un ensemble de keyframes avec des allers-retours avec le mot cl\xe9 \xab\xa0alternate\xa0\xbb ;"),(0,r.mdx)("li",{parentName:"ul"},"et enfin, la propri\xe9t\xe9 ",(0,r.mdx)("inlineCode",{parentName:"li"},"animation-direction"),"\xa0nous permet de lire un ensemble de keyframes avec des allers-retours, mais en commen\xe7ant par\nla fin avec le mot cl\xe9 \xab\xa0alternate-reverse\xa0\xbb ;"),(0,r.mdx)("li",{parentName:"ul"},"nous pouvons mettre en pause une animation avec keyframe en assignant \xe0 la propri\xe9t\xe9 ",(0,r.mdx)("inlineCode",{parentName:"li"},"animation-play-state"),"\xa0la valeur r\xe9gl\xe9e sur \xab\xa0paused\xa0\xbb ;"),(0,r.mdx)("li",{parentName:"ul"},"nous pouvons reprendre la lecture d'une animation avec keyframe en assignant la propri\xe9t\xe9 ",(0,r.mdx)("inlineCode",{parentName:"li"},"animation-play-state"),"\xa0avec la valeur r\xe9gl\xe9e sur\n\xab\xa0running\xa0\xbb.")),(0,r.mdx)("p",null,(0,r.mdx)("em",{parentName:"p"},"Nous avons maintenant fait un tour d\u2019ensemble plut\xf4t utile de l'animation CSS et des propri\xe9t\xe9s de transition\xa0! Toutes les propri\xe9t\xe9s que le\nCSS peut vous offrir sont d\xe9sormais \xe0 votre disposition pour l'animation. Vous avez s\xfbrement h\xe2te de les mettre en pratique pour donner vie \xe0\nvos pages. Mais avant de conclure, nous allons apprendre \xe0 ma\xeetriser un nouvel outil qui nous aidera \xe0 construire et peaufiner plus rapidement\nvos animations en revenant \xe0 DevTools. Rendez-vous au chapitre suivant !")),(0,r.mdx)("hr",null),(0,r.mdx)("h2",{id:"affinez-vos-animations-css-avec-devtools"},"Affinez vos animations CSS avec DevTools"),(0,r.mdx)("p",null,(0,r.mdx)("a",{parentName:"p",href:"https://openclassrooms.com/fr/courses/5919246-creez-des-animations-css-modernes/6340942-affinez-vos-animations-css-avec-devtools"},"Affinez vos animations CSS avec DevTools - Cr\xe9ez des animations CSS modernes - OpenClassrooms")),(0,r.mdx)(t.fG,{vimeoId:"508777445",mdxType:"Vimeo"}),(0,r.mdx)("br",null),(0,r.mdx)("p",null,"Tout au long de ce cours, nous avons construit beaucoup de transitions et d'animations. Et, pour chacune d'entre elles, nous sommes revenus\nplusieurs fois sur le rythme, les acc\xe9l\xe9rations, les transformations de nos animations."),(0,r.mdx)("p",null,"\"C'est un peu trop rapide, trop lent, trop X, trop Y\"... Maintenant c'est mieux/c'est bien/c'est id\xe9al/c'est la perfection incarn\xe9e/ \u27a1\ufe0fins\xe9rez\nici une d\xe9claration positive."),(0,r.mdx)("p",null,"Vous vous \xeates s\xfbrement demand\xe9 d\u2019o\xf9 sortaient ces propositions de transitions de X secondes\xa0? Est-ce que ces X secondes ne devraient pas \xeatre\nY secondes\xa0? Mais est-ce que rendre un nombre de millisecondes soi-disant al\xe9atoire plus rapide/plus lent permet encore d'am\xe9liorer l'effet\nobtenu ?"),(0,r.mdx)("p",null,"Vraiment\xa0?"),(0,r.mdx)("p",null,"Et la r\xe9ponse est... peut-\xeatre... \ud83e\udd37\u200d\u2640\ufe0f ?"),(0,r.mdx)("h3",{id:"ajustez-vos-animations-par-lit\xe9ration-et-les-bonnes-pratiques"},"Ajustez vos animations par l'it\xe9ration et les bonnes pratiques"),(0,r.mdx)("p",null,"Instant r\xe9v\xe9lation : la \xab\xa0perfection\xa0\xbb n'existe pas. Chaque personne a un point de vue diff\xe9rent. Mais si nos pr\xe9f\xe9rences peuvent para\xeetre\nassez vari\xe9es, elles tendent quand m\xeame \xe0 \xeatre regroup\xe9es autour de certaines valeurs. Une personne pense peut-\xeatre qu'un menu doit mettre\n500ms pour s'ouvrir, alors que quelqu'un d'autre peut pr\xe9f\xe9rer 400ms. Mais nous aurions probablement du mal \xe0 trouver quelqu'un qui pense\nqu'il faudrait 15 secondes pour que la m\xeame animation soit lue."),(0,r.mdx)("p",null,"Alors, comment faire pour que nos animations soient \xab\xa0parfaites\xa0\xbb\xa0? Comment pouvons-nous savoir quelle devrait \xeatre leur dur\xe9e ",(0,r.mdx)("em",{parentName:"p"},"id\xe9ale"),"\xa0? Et\nlorsque cette dur\xe9e ne semble toujours pas \xab\xa0parfaite\xa0\xbb, savons-nous de combien nous devons la ralentir ou l'acc\xe9l\xe9rer\xa0?"),(0,r.mdx)("p",null,"La r\xe9ponse \xe0 ces questions vient en partie de l'exp\xe9rience et de la pratique. Au fil du temps, l'exp\xe9rience en tant qu'animateurs, concepteurs\nou programmateurs, permet de d\xe9velopper une intuition\xa0de ce qui est \xab\xa0parfait\xa0\xbb. En animation, tout comme dans tout ce qui est en rapport\navec la programmation, c\u2019est en pratiquant que l\u2019on apprend."),(0,r.mdx)("p",null,"Vous vous souvenez quand je vous disais que j\u2019essayais de ne jamais faire une animation de plus de 300ms dans mes \xe9l\xe9ments fonctionnels ? Il\ns\u2019agit en fait de l\u2019un des principes d\u2019UX (user experience, ou ",(0,r.mdx)("em",{parentName:"p"},"exp\xe9rience utilisateur"),"). Car en termes d\u2019UX, il existe un certain nombre de\nbest practices qui peuvent vous guider dans vos choix."),(0,r.mdx)("p",null,"La pratique pourrait signifier : ajouter plein de valeurs \xe0 notre code, actualiser, changer ces nombres, actualiser \xe0 nouveau, plisser les\nyeux en regardant l'\xe9cran pour essayer de savoir si \xe7a am\xe9liore les choses ou non, puis changer \xe0 nouveau les nombres, Ctrl + R/Cmd + R,\ncommencer \xe0 devenir nerveuse, changer les nombres pour un tout nouvel ensemble de nombres, actualiser, \xe7a semble mieux... vraiment\xa0?"),(0,r.mdx)("p",null,"L'it\xe9ration est essentielle dans le processus de cr\xe9ation d\u2019une animation, mais relancer \xe0 chaque fois notre code peut parfois \xeatre p\xe9nible.\nEt quand nous sommes sur une app front qui prend quelques secondes \xe0 recharger, comme une application React, cela peut rapidement devenir\nassez frustrant."),(0,r.mdx)("p",null,"Alors, vous pouvez prendre votre mal en patience\u2026 ou vous pouvez utiliser les outils d\u2019animation DevTools ! (Vous vous doutez bien que je\nvous recommande fortement l'option 2.)"),(0,r.mdx)("h3",{id:"d\xe9mythifiez-les-animations"},"D\xe9mythifiez les animations"),(0,r.mdx)("p",null,"DevTools de Chrome poss\xe8de un outil int\xe9gr\xe9 que nous pouvons utiliser pour peaufiner et am\xe9liorer les transitions et les animations. Cet\noutil s'appelle judicieusement \xab\xa0Animations\xa0\xbb."),(0,r.mdx)("p",null,"Mais avant de pouvoir utiliser le panneau Animations, nous devons l'ouvrir\xa0:"),(0,r.mdx)("div",{className:"admonition admonition-info alert alert--info"},(0,r.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,r.mdx)("h5",{parentName:"div"},(0,r.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,r.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.mdx)("div",{parentName:"div",className:"admonition-content"},(0,r.mdx)("p",{parentName:"div"},"Petit rappel : pour ouvrir DevTools, nous devons taper Ctrl-Shift-I sous Windows, ou Cmd-Opt-I sous Mac. Une fois DevTools ouvert, il faut\ncliquer sur les trois points\xa0en haut \xe0 droite du panneau, descendre vers \xab\xa0More Tools\xa0\xbb (",(0,r.mdx)("em",{parentName:"p"},"plus d'outils"),") et cliquer sur \xab\xa0Animations\xa0\xbb."))),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2019/08/26/15668476626738_15545563480631_pt03ch04_01_openAnimPanel_v002.gif",alt:"Ouverture du panneau animations dans DevTools"})),(0,r.mdx)("p",null,"Et voil\xe0, nous y sommes. Le panneau Animations. Rien de tr\xe8s excitant pour l'instant, sauf un message nous disant que l'application \xe9coute\nles animations. Donnons-lui quelque chose \xe0 \xe9couter en chargeant une page avec une animation\xa0:"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2021/02/10/16129510589393_Gif148.gif",alt:"Le panneau DevTools lorsque qu'une page avec une animation se charge"})),(0,r.mdx)("p",null,"Nous avons un menu anim\xe9, la bo\xeete principale qui s'ouvre en coulissant, puis les \xe9l\xe9ments du menu qui glissent en position. Au fur et \xe0\nmesure que l'animation est lue, une bo\xeete grise s'efface, remplie de quelques lignes color\xe9es."),(0,r.mdx)("p",null,"\xc9trange... Laissons-nous tenter et cliquons\xa0:"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2019/08/26/15668477332601_15545564074413_pt03ch04_03_clickThumbnail_v001.gif",alt:"Le panneau Devtools au clic sur la boite grise"})),(0,r.mdx)("p",null,"Et voil\xe0\xa0! Notre animation de menu se r\xe9p\xe8te, bien que la page n'ait pas \xe9t\xe9 recharg\xe9e. Dans le panneau Animations, une timeline d'\xe9l\xe9ments\nanim\xe9s appara\xeet, avec un logo de lecture lisant les segments pendant que l'animation progresse."),(0,r.mdx)("p",null,"Mais \xe0 quoi servent ces lignes color\xe9es sur l'image miniature\xa0?\xa0"),(0,r.mdx)("p",null,"Chaque ligne repr\xe9sente un \xe9l\xe9ment HTML anim\xe9 avec sa propre couche dans la timeline. Si nous survolons le nom de l'\xe9l\xe9ment ou si nous\ncliquons sur son graphique d'animation, Chrome le met en surbrillance sur la page\xa0:"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2019/08/26/15668478903004_15545564313588_pt03ch04_04_clickElement_v001.gif",alt:"Illustration de la surbrillance dans Devtools"})),(0,r.mdx)("p",null,"On dirait donc que nous avons un \xe9l\xe9ment de menu, avec une div pour chaque \xe9l\xe9ment de menu, quelques \xe9l\xe9ments d\xe9coratifs pour am\xe9liorer\nl'animation et des \xe9l\xe9ments de menu."),(0,r.mdx)("p",null,"Dans chaque couche, des points repr\xe9sentent les \xe9tapes cl\xe9s pour voir o\xf9 chaque animation commence et se termine, ainsi que les courbes\nd'acc\xe9l\xe9ration, repr\xe9sent\xe9es par un graphique de vitesse, o\xf9 le pic du profil est la vitesse maximale."),(0,r.mdx)("p",null,"L'\xe9l\xe9ment de menu avec la classe ",(0,r.mdx)("inlineCode",{parentName:"p"},".menu"),"\xa0qui lui est appliqu\xe9e commence \xe0 0 seconde et dure environ 600ms, en tout cas \xe0 premi\xe8re vue. En\nfait, si nous cliquons sur la couche, non seulement l'\xe9l\xe9ment est mis en surbrillance, mais ses balises et son style sont \xe9galement\xa0affich\xe9s\ndans le panneau \xc9l\xe9ments ci-dessous\xa0:"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2019/08/26/15668479285784_15545564651766_pt03ch04_05_animProps_v002.gif",alt:"Illustration du panneau \xe9l\xe9ments dans Devtools"})),(0,r.mdx)("p",null,"Avec le style de .menu qui nous est pr\xe9sent\xe9, nous pouvons voir qu'il a en effet une dur\xe9e d'animation de 600ms, ainsi que la fonction de\ntiming par d\xe9faut, et un ",(0,r.mdx)("inlineCode",{parentName:"p"},"animation-fill-mode"),"\xa0r\xe9gl\xe9 sur \xab\xa0both\xa0\xbb. Il utilise \xe9galement un ensemble de keyframes appel\xe9 \xab\xa0menu\xa0\xbb et poss\xe8de\nun keyframe entre le d\xe9but et la fin, ce qui est indiqu\xe9 par le point creux au milieu de l'animation."),(0,r.mdx)("p",null,"Les animations attach\xe9es aux \xe9l\xe9ments .menu__open-accent utilisent toujours le m\xeame ensemble de keyframes que l'animation du menu principal.\nOn peut le voir gr\xe2ce au nom \u201cmenu\u201d qui est indiqu\xe9 au-dessus du profil de vitesse. Elles sont les seules \xe0 avoir des dur\xe9es et des d\xe9lais\ndiff\xe9rents. Si nous cliquons sur l'une d'elles, nous verrons exactement quels sont sa dur\xe9e et son d\xe9lai\xa0:"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2019/08/26/15668481964151_15545564932301_pt03ch04_06_accentProps_v002_1.gif",alt:"Propri\xe9t\xe9s duration et delay dans les Elements"})),(0,r.mdx)("p",null,"Vous pouvez\xa0faire des allers-retours avec l'animation en d\xe9pla\xe7ant le curseur sur la timeline. Cela donne une tr\xe8s bonne id\xe9e de la fa\xe7on\ndont les diff\xe9rents \xe9l\xe9ments agissent et interagissent les uns avec les autres\xa0:"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2019/08/26/15668482559065_15545565166639_pt03ch04_07_scrubbing.gif",alt:"D\xe9placement du curseur sur la timeline"})),(0,r.mdx)("p",null,"En cliquant\xa0sur le bouton de lecture situ\xe9 \xe0 gauche de la timeline, on peut voir notre animation en temps r\xe9el\xa0:"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2019/08/26/15668482911548_15545565375392_pt03ch04_08_play100_v001.gif",alt:"Clic sur le bouton lecture"})),(0,r.mdx)("p",null,"Ceci n'est possible que si l'option 100% est surlign\xe9e pr\xe8s du haut du panneau. 100% indique la vitesse de lecture. Nous pouvons donc\n\xe9galement choisir de lire une animation \xe0 un quart de sa vitesse normale\xa0:"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2019/08/26/1566848471581_15545565774503_pt03ch04_09_play25_v001%20%281%29.gif",alt:"Devtools Animations playback speed"})),(0,r.mdx)("p",null,"Ou, pour une lecture tr\xe8s ralentie, nous pouvons m\xeame la r\xe9gler pour qu'elle soit lue \xe0 10\xa0% de sa vitesse normale\xa0:"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2019/08/26/15668485350069_15545566258087_pt03ch04_10_play10_v001.gif",alt:"Devtools Animations playback slow"})),(0,r.mdx)("div",{className:"admonition admonition-info alert alert--info"},(0,r.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,r.mdx)("h5",{parentName:"div"},(0,r.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,r.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.mdx)("div",{parentName:"div",className:"admonition-content"},(0,r.mdx)("p",{parentName:"div"},"Une excellente fa\xe7on d'am\xe9liorer ses comp\xe9tences en animation consiste \xe0 d\xe9composer les animations que vous aimez.\xa0Vous voyez\xa0imm\xe9diatement\nsi\xa0vous aimez quelque chose en particulier, mais avec l\u2019outil Animations des DevTools,\xa0vous pouvez\xa0aller plus loin et les diss\xe9quer \xe9tape par\n\xe9tape."),(0,r.mdx)("p",{parentName:"div"},"En bref, l'outil d'animation peut nous aider pour\xa0:"),(0,r.mdx)("ol",{parentName:"div"},(0,r.mdx)("li",{parentName:"ol"},"Voir rapidement tous les \xe9l\xe9ments utilis\xe9s dans une animation."),(0,r.mdx)("li",{parentName:"ol"},"Comprendre comment ils sont combin\xe9s et mis en sc\xe8ne pour cr\xe9er le rendu final."),(0,r.mdx)("li",{parentName:"ol"},"Rep\xe9rer l\xe0 o\xf9 il y a un probl\xe8me."),(0,r.mdx)("li",{parentName:"ol"},"Et commencer \xe0 trouver une solution\xa0!")),(0,r.mdx)("p",{parentName:"div"},"Ainsi, au-del\xe0 d'une meilleure compr\xe9hension de la composition des animations, comment est-ce que DevTools peut nous aider \xe0 am\xe9liorer nos\nanimations\xa0?"),(0,r.mdx)("p",{parentName:"div"},"Regardons \xe0 nouveau notre animation de menu\xa0:"),(0,r.mdx)("p",{parentName:"div"},(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2019/08/26/15668485695034_15545566757547_pt03ch04_10_play10_v001.gif",alt:"Devtools Animations playback slow 2"})),(0,r.mdx)("p",{parentName:"div"},"\xc7a vous para\xeet enthousiasmant, n'est-ce pas\xa0? Mais il y a encore quelque chose qui me chiffonne."),(0,r.mdx)("p",{parentName:"div"},"Ce n'est pas que cette application soit\xa0",(0,r.mdx)("em",{parentName:"p"},"mauvaise"),"... Mais, quand on regarde la timeline, on voit qu\u2019elle est tr\xe8s lin\xe9aire. L'animation se\nd\xe9roule de mani\xe8re tr\xe8s r\xe9guli\xe8re et graduelle. Chaque \xe9l\xe9ment du menu commence lorsque le pr\xe9c\xe9dent est \xe0 mi-chemin. Tout semble un peu trop\nrobotique et sans vie\xa0:"),(0,r.mdx)("p",{parentName:"div"},(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2019/08/26/15668486304178_15545567133209_pt03ch04_11_uniformity_v001%20%280-00-01-07%29_1.png",alt:"Devtools Animations steps"})),(0,r.mdx)("p",{parentName:"div"},"OK, cette animation n'est pas la meilleure qui soit. J\u2019ai compris\xa0! \ud83d\ude48 Alors, revenons \xe0 l'\xe9diteur et changeons un peu les d\xe9lais et les\ndur\xe9es des \xe9l\xe9ments du menu, et esp\xe9rons que les choses aient l'air un peu plus naturelles."),(0,r.mdx)("p",{parentName:"div"},"Croisons les doigts. Mais vous n\u2019\xeates cependant pas certain d\u2019obtenir le r\xe9sultat attendu. Pour avoir une animation avec un timing adapt\xe9,\nrien ne remplace l'exp\xe9rimentation. Et exp\xe9rimenter en faisant de nombreux allers-retours entre notre \xe9diteur et notre navigateur, c'est un\npeu comme essayer de courir dans des sables mouvants\xa0: une exp\xe9rience lente, frustrante, avec le risque constant de s'enliser."),(0,r.mdx)("p",{parentName:"div"},"Alors, plut\xf4t qu'un destin fait de frustrations et de d\xe9sespoir, pourquoi ne pas simplement faire glisser son curseur sur les DevTools\xa0? \xc7a\npara\xeet plus tentant, n'est-ce-pas ?"),(0,r.mdx)("h3",{parentName:"div",id:"r\xe9glez-vos-animations-directement-dans-les-devtools"},"R\xe9glez vos animations directement dans les DevTools"),(0,r.mdx)("p",{parentName:"div"},"Eh oui,\xa0vous pouvez ajuster vos animations tr\xe8s simplement en cliquant et en faisant glisser les \xe9l\xe9ments de la timeline. Vous voulez faire\ndurer votre animation plus longtemps ou au contraire l\u2019acc\xe9l\xe9rer\xa0? Cliquez sur son point de d\xe9part ou sa destination et faites-le glisser vers\nla gauche ou la droite :"),(0,r.mdx)("p",{parentName:"div"},(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2019/08/26/15668486799632_15545567554873_pt03ch04_12_outPointDrag_v002.gif",alt:"Devtools Animations duration drag and drop"})),(0,r.mdx)("p",{parentName:"div"},"Et d'un seul coup, nous avons modifi\xe9 la dur\xe9e de l'animation pour le premier \xe9l\xe9ment de menu. Dans le volet Elements, les valeurs de dur\xe9e\net de d\xe9lai de l'animation ont \xe9t\xe9 mises \xe0 jour."),(0,r.mdx)("p",{parentName:"div"},"En cliquant \xe0 nouveau sur ce bouton de lecture,\xa0nous pouvons voir\xa0que notre menu est maintenant lu en utilisant la nouvelle dur\xe9e."),(0,r.mdx)("p",{parentName:"div"},(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2019/08/26/15668487262798_15545567826443_pt03ch04_13_modPlayback_v001.gif",alt:"Devtools Animations drag and drop duration"})),(0,r.mdx)("p",{parentName:"div"},"Nous pouvons donc ajuster nos dur\xe9es et effectuer quelques petites modifications jusqu'\xe0 ce que tout semble parfait. C'est beaucoup plus\nrapide et plus facile que de faire des allers-retours entre le navigateur et l'\xe9diteur, vous ne trouvez pas\xa0?"))),(0,r.mdx)("p",null,"Le panneau d'animation nous permet d'ajuster les propri\xe9t\xe9s de l'animation telles que la dur\xe9e. Mais les pourcentages des keyframes ne font\npas partie des propri\xe9t\xe9s de l'animation\xa0: ces pourcentages font partie de\xa0l'animation @keyframes en tant que telle. La modification d'un\npourcentage d'un keyframe se refl\xe8te dans chaque instance d'une animation qui utilise ces keyframes. Donc, si nous voulons ajuster les\npourcentages des keyframes, nous devons le faire \xe0 la main.\n:::"),(0,r.mdx)("p",null,"En plus de faire glisser les extr\xe9mit\xe9s des animations pour ajuster leur dur\xe9e, nous pouvons \xe9galement ajuster leurs d\xe9lais en faisant glisser\n(en mode drag-and-drop) le profil de l'animation\xa0:"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2019/08/26/1566848786371_15545568254129_pt03ch04_14_clipDrag_v001.gif",alt:"Devtools Animations drag and drop delay"})),(0,r.mdx)("p",null,"Apr\xe8s avoir d\xe9plac\xe9 une animation sur la timeline dans un sens ou dans l'autre, sa valeur de d\xe9lai d'animation est mise \xe0 jour dans le volet\nElements ci-dessus. Et en cliquant sur le bouton de lecture, vous verrez appara\xeetre notre animation modifi\xe9e avec son nouveau d\xe9lai\xa0:"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2019/08/26/15668488338333_15545568586413_pt03ch04_15_dragPlayback_v001.gif",alt:"Observation directe du r\xe9sultat d'un changement dans DevTools"})),(0,r.mdx)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,r.mdx)("h5",{parentName:"div"},(0,r.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,r.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"?")),(0,r.mdx)("div",{parentName:"div",className:"admonition-content"},(0,r.mdx)("p",{parentName:"div"},(0,r.mdx)("em",{parentName:"p"},"Que se passe-t-il si nous actualisons la page \xe0 ce stade\xa0?")))),(0,r.mdx)("p",null,"Si on regarde notre code source, rien n'a chang\xe9. Cela signifie que si nous actualisons notre page, tout reviendrait \xe0 la version pr\xe9c\xe9dente\nde nos animations, et toutes nos modifications seraient perdues\xa0!"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2019/08/26/15668488646528_15545568971949_pt03ch04_16_pageRefresh_v001.gif",alt:"Devtools Animations refresh page"})),(0,r.mdx)("p",null,"Quand nous modifions des animations dans le panneau d'animation, nous modifions des \xe9l\xe9ments dans ce qu'on appelle le DOM (vous vous souvenez,\nje vous en avais parl\xe9), qui, pour simplifier, est le rendu par le navigateur de nos HTML et CSS, etc. Les modifications que nous avons\napport\xe9es aux panneaux Animation et Elements n'affectent donc que l'interpr\xe9tation du rendu de notre code. Si nous voulons conserver la\nversion de notre animation que nous cr\xe9ons dans le panneau Animation, nous devrons mettre \xe0 jour manuellement notre code pour le faire\ncorrespondre."),(0,r.mdx)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,r.mdx)("h5",{parentName:"div"},(0,r.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,r.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"?")),(0,r.mdx)("div",{parentName:"div",className:"admonition-content"},(0,r.mdx)("p",{parentName:"div"},"Euh... mais... il se passe tout plein de trucs... des dur\xe9es, des d\xe9lais... cela fait beaucoup de choses \xe0 suivre..."))),(0,r.mdx)("p",null,"C'est vrai. Heureusement, Chrome suit mieux que nous. En haut dans l'onglet de l'\xe9l\xe9ment, align\xe9 \xe0 droite du s\xe9lecteur qui contient le d\xe9lai\nque nous venons de modifier, il y a un lien vers l'emplacement dans le fichier CSS.\xa0Cliquons dessus. Devtools passe directement au volet\nSources et le met en surbrillance dans le code. Et si nous faisons un clic droit sur le fichier CSS,\xa0il est possible de\xa0choisir \xab\xa0Local\nModifications\xa0\xbb (",(0,r.mdx)("em",{parentName:"p"},"modifications locales"),") dans le menu contextuel, ce qui ouvre un panneau Modifications \xe0 c\xf4t\xe9 de notre panneau Animations :"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2019/08/26/15668491227766_15545569362614_pt03ch04_17_localMods_v001_3%20%281%29.gif",alt:"Animation des changements"})),(0,r.mdx)("p",null,"Dans le panneau \xab\xa0Changes\xa0\xbb, on peut voir les logs de \xab\xa0diff\xa0\xbb. Cela correspond aux diff\xe9rences entre le code source et les modifications\neffectu\xe9es dans les DevTools. Les valeurs originales sont surlign\xe9es en rouge, et les valeurs mises \xe0 jour sont surlign\xe9es en vert."),(0,r.mdx)("p",null,"Nous pouvons rapidement voir les propri\xe9t\xe9s que nous devons mettre \xe0 jour, et les valeurs sur lesquelles nous devons les mettre \xe0 jour. Une\nfois que nous avons ajust\xe9 nos animations pour qu\u2019elles correspondent \xe0 l\u2019effet recherch\xe9, nous pouvons ainsi passer \xe0 ce panneau et\nl'utiliser pour mettre \xe0 jour notre code source."),(0,r.mdx)("p",null,"La comparaison avec les \u201cdiffs\u201d fonctionne comme les syst\xe8mes de contr\xf4le de version, o\xf9 les modifications apport\xe9es au code existant sont\nstock\xe9es et utilis\xe9es pour cr\xe9er la version la plus r\xe9cente d'un document. Si vous avez d\xe9j\xe0 eu un conflit de merge sur Git, vous avez\nprobablement compar\xe9 les diff\xe9rences entre les deux documents pour r\xe9soudre ce conflit."),(0,r.mdx)("h3",{id:"\xe9valuez-vos-animations"},"\xc9valuez vos animations"),(0,r.mdx)("p",null,"Maintenant que nous connaissons l\u2019outil Animation sur le bout des doigts, jetons un coup d\u2019\u0153il \xe0 notre menu\xa0:"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2019/08/26/15668491605298_15545569983309_pt03ch04_08_play100_v001%20%282%29.gif",alt:"Menu animation devtools"})),(0,r.mdx)("p",null,"Retour \xe0 l'animation de votre menu"),(0,r.mdx)("p",null,"Pour l'instant, il y a quelques \xe9l\xe9ments qui ne vont pas."),(0,r.mdx)("ol",null,(0,r.mdx)("li",{parentName:"ol"},"Les \xe9l\xe9ments du menu s'affichent trop tard."),(0,r.mdx)("li",{parentName:"ol"},"Les borders de l'\xe9l\xe9ment de menu arrivent \xe9galement un peu trop tard."),(0,r.mdx)("li",{parentName:"ol"},"Le d\xe9calage est trop important entre les diff\xe9rents \xe9l\xe9ments de menu qui s'animent \xe0 l'int\xe9rieur. Ils donnent l'impression de s'animer\nl'un apr\xe8s l'autre, plut\xf4t que d'\xeatre d\xe9cal\xe9s."),(0,r.mdx)("li",{parentName:"ol"},"La dur\xe9e des animations menu__item semble \xeatre un peu trop rapide.")),(0,r.mdx)("p",null,"Toutes ces remarques viennent vraiment d\u2019une sensibilit\xe9. Nous assignons des valeurs en pensant qu'elles seraient de bons points de d\xe9part\npour les diff\xe9rentes animations, mais elles peuvent et doivent \xeatre ajust\xe9es en fonction des pr\xe9f\xe9rences. Nous n'allons pas entrer dans les\nd\xe9tails des dur\xe9es et des d\xe9lais de chaque animation."),(0,r.mdx)("p",null,"Diff\xe9rentes choses peuvent vous sembler parfaites ou imparfaites. C\u2019est donc le moment pour vous de faire vos propres exp\xe9riences. Ouvrez le\npanneau Animations, cliquez, glissez-d\xe9placez, modifiez et exp\xe9rimentez \xe0 votre guise. Revenez quand vous serez satisfait de votre r\xe9sultat."),(0,r.mdx)("h3",{id:"comparez-vos-animations"},"Comparez vos animations"),(0,r.mdx)("p",null,"Vous voil\xe0 de retour\xa0? Parfait\xa0! J'esp\xe8re que vous avez une animation qui vous pla\xeet. De mon c\xf4t\xe9, voici la version que je pr\xe9f\xe8re\xa0!"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2019/08/26/15668492166283_15545570580813_pt03ch04_18_finalResult_v001.gif",alt:"Devtools menu final"})),(0,r.mdx)("p",null,"Et voil\xe0 le rendu final !"),(0,r.mdx)("p",null,"Dans l'ensemble, l'animation principale .menu est un peu plus lente, de m\xeame que les animations de .menu__item, qui sont maintenant\n\xe9chelonn\xe9es de mani\xe8re plus rapproch\xe9e."),(0,r.mdx)("p",null,"Modifier son animation est un v\xe9ritable processus. Arriver \xe0 une animation que l'on trouve \xab\xa0parfaite\xa0\xbb n'est pas quelque chose que l'on\nparvient \xe0 faire du premier coup. Gr\xe2ce \xe0 notre exp\xe9rience et \xe0 notre instinct, nous pouvons commencer \xe0 nous faire une id\xe9e de ce que les\nvaleurs de l'animation devraient\xa0",(0,r.mdx)("em",{parentName:"p"},"probablement")," \xeatre, mais ce n'est que le point de d\xe9part. \xc0 partir de l\xe0, il s'agit de tester et de t\xe2tonner\npour arriver \xe0 un r\xe9sultat dont nous sommes satisfaits."),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2019/08/26/15668497833648_1554557862722_pt03ch04_21_diffed_v001%20%280-00-03-02%29.png",alt:"Diff\xe9rences avec tous les changements effectu\xe9s"})),(0,r.mdx)("p",null,"Tous les changements effectu\xe9s"),(0,r.mdx)("p",null,"Les dur\xe9es ont \xe9t\xe9 un peu modifi\xe9es, mais les changements les plus importants concernent la dur\xe9e des ",(0,r.mdx)("inlineCode",{parentName:"p"},"animation-delay"),". Tous les \xe9l\xe9ments de\n.menu",(0,r.mdx)("strong",{parentName:"p"},"item arrivent plus t\xf4t, avec .menu"),"item--1 \xe0 peine 25 millisecondes plus t\xf4t, et .menu__item--3 presque 400ms plus t\xf4t."),(0,r.mdx)("p",null,"Dans l'ensemble, cela permet d\u2019avoir une animation plus dynamique et plus accrocheuse. Voici ces changements, int\xe9gr\xe9s dans le code final\xa0:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-html"},'<div class="container">\n    <menu class="menu">\n        <div class="menu__item menu__item--1 menu__item--current">\n            Home\n            <div class="menu__item-accent menu__item-accent--active"></div>\n        </div>\n        <div class="menu__item menu__item--2">\n            About\n            <div class="menu__item-accent"></div>\n        </div>\n        <div class="menu__item menu__item--3">\n            Contact\n            <div class="menu__item-accent"></div>\n        </div>\n        <div class="menu__open-accent--1"></div>\n        <div class="menu__open-accent--2"></div>\n    </menu>\n</div>\n')),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},'$cd-navy: #0E397F;\n$cd-mint: #15dea5;\n@mixin menu__open-accent($dur, $delay) {\n    content: "";\n    position: absolute;\n    left: 0;\n    right: 0;\n    top:0;\n    bottom: 0;\n    background: #f4f9f8;\n    transform-origin: top left;\n    animation: menu $dur $delay both;\n    z-index: -1;\n}\n.menu {\n    min-width: 33vh;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    padding: 1rem;\n    background:$cd-mint;\n    overflow: hidden;\n    transform-origin: top left;\n    position: relative;\n    animation: menu 661ms both;\n    z-index: -10;\n    &__open-accent--1 {\n        @include menu__open-accent(450ms, 275ms);\n    }\n    &__open-accent--2 {\n        @include menu__open-accent(450ms, 150ms);\n        background: $cd-navy;\n        z-index: -2;\n    }\n    &__item {\n        padding: .75rem;\n        margin: .25rem;\n        background: #fff;\n        animation: menu__item 810ms cubic-bezier(.1,.9,.1,1) both;\n        position: relative;\n        &-accent {\n            content: "";\n            position: absolute;\n            top: 0;\n            bottom: 0;\n            left: 0;\n            width: .25rem;\n            background-color: $cd-mint;\n            animation: menu__accent 400ms both;\n            &--active {\n                background-color: $cd-navy\n            }\n        }\n        &--1 {\n            animation-delay: 475ms;\n            > div {\n                animation-delay: 712ms;\n            }\n        }\n        &--2 {\n            animation-delay: 546ms;\n            > div {\n                animation-delay: 805ms;\n            }\n        }\n        &--3 {\n            animation-delay: 632ms;\n            > div {\n                animation-delay: 914ms;\n            }\n        }\n    }\n}\n@keyframes menu {\n    0% {\n        transform: scale(0,.07);\n    }\n    33% {\n        transform: scale(1,.07);\n        animation-timing-function: cubic-bezier(.73,.01,.2,.99)\n    }\n}\n@keyframes menu__item {\n    0% {\n        transform: translateX(\\-110%);\n    }\n}\n@keyframes menu__accent {\n    0% {\n        transform: scaleY(0);\n    }\n}\n')),(0,r.mdx)("p",null,"Votre code peut vous sembler tr\xe8s similaire, ou il peut y avoir d'\xe9normes diff\xe9rences. Quoi qu'il en soit, vous avez cr\xe9\xe9 une animation qui\nvous convient \xe0 ",(0,r.mdx)("em",{parentName:"p"},"vous"),", et c\u2019est tr\xe8s important. Maintenant une \xe9tape essentielle : s\u2019assurer que votre animation convient \xe9galement aux\nautres. Le meilleur moyen de savoir si c'est le cas est de demander des feedbacks autour de vous."),(0,r.mdx)("p",null,"La cr\xe9ation d'une animation ne consiste pas seulement \xe0 cocher des cases sur une liste d'\xe9l\xe9ments \xe0 livrer. Elle vient \xe9galement \xe9tayer et\nam\xe9liorer notre compr\xe9hension de ce qui esth\xe9tique ou non. Chaque keyframe, chaque ajustement, chaque erreur nous permet d'\xeatre plus\nperformants \xe0 l'avenir. Chaque animation que nous cr\xe9ons nous permet d'am\xe9liorer notre art."),(0,r.mdx)("p",null,"F\xe9licitations, vous \xeates maintenant de v\xe9ritables animateurs dans l\u2019\xe2me. Vous donnez vie aux pages web \ud83d\udc69\u200d\ud83c\udfa8 !"),(0,r.mdx)("h3",{id:"en-r\xe9sum\xe9-2"},"En r\xe9sum\xe9"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},"It\xe9rer, c\u2019est le secret d'une bonne animation. Le simple fait d'ajouter quelques chiffres et d'appuyer sur Enregistrer est rarement\nsuffisant ;"),(0,r.mdx)("li",{parentName:"ul"},"Notre exp\xe9rience nous donne une bonne intuition quant aux valeurs de d\xe9part qui paraissent bien pour nos propri\xe9t\xe9s d'animation ;"),(0,r.mdx)("li",{parentName:"ul"},"Le panneau Animations de DevTools nous permet d'affiner rapidement les animations, d'improviser et d'exp\xe9rimenter jusqu'\xe0 ce que nous\ntrouvions la bonne dur\xe9e ou le bon d\xe9lai pour un \xe9l\xe9ment ;"),(0,r.mdx)("li",{parentName:"ul"},"Le panneau Changes (Modifications) nous permet de voir les propri\xe9t\xe9s que nous avons modifi\xe9es ainsi que leurs nouvelles valeurs, de fa\xe7on\n\xe0 mettre \xe0 jour notre code source en cons\xe9quence.")),(0,r.mdx)("p",null,(0,r.mdx)("em",{parentName:"p"},"Dans le prochain chapitre, nous ferons un petit tour d\u2019horizon de vos nouvelles comp\xe9tences \ud83d\ude80")),(0,r.mdx)("hr",null),(0,r.mdx)("h2",{id:"r\xe9sum\xe9-du-cours"},"R\xe9sum\xe9 du cours"),(0,r.mdx)("p",null,(0,r.mdx)("a",{parentName:"p",href:"https://openclassrooms.com/fr/courses/5919246-creez-des-animations-css-modernes/6340949-resume-du-cours"},"R\xe9sum\xe9 du cours - Cr\xe9ez des animations CSS modernes - OpenClassrooms")),(0,r.mdx)(t.fG,{vimeoId:"508777494",mdxType:"Vimeo"}),(0,r.mdx)("br",null),(0,r.mdx)("p",null,"Prenez un instant pour r\xe9fl\xe9chir \xe0 o\xf9 vous en \xe9tiez il n\u2019y a pas si longtemps... C\u2019est assez fou, non\xa0?"),(0,r.mdx)("p",null,"En quelques chapitres seulement, vous avez appris l\u2019essentiel pour donner vie \xe0 vos pages web."),(0,r.mdx)("p",null,"Ensemble, nous avons appris comment :"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},"appliquer les principes de l\u2019animation au CSS ;"),(0,r.mdx)("li",{parentName:"ul"},"cr\xe9er des transitions CSS simples ;"),(0,r.mdx)("li",{parentName:"ul"},"mais aussi des transitions complexes ;"),(0,r.mdx)("li",{parentName:"ul"},"cr\xe9er des animations ayant de nombreuses \xe9tapes avec les keyframes ;"),(0,r.mdx)("li",{parentName:"ul"},"cr\xe9er une animation qui boucle \xe0 l\u2019infini avec les propri\xe9t\xe9s d\u2019it\xe9ration et de direction.")),(0,r.mdx)("p",null,"Il est maintenant temps de vous lancer dans vos propres animations avec keyframes. Pour cela, vous avez la derni\xe8re activit\xe9 de ce cours.\nJ\u2019esp\xe8re que vous en profiterez pour exprimer votre cr\xe9ativit\xe9 d\u2019animateurs et animatrices !"),(0,r.mdx)("div",{className:"admonition admonition-info alert alert--info"},(0,r.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,r.mdx)("h5",{parentName:"div"},(0,r.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,r.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.mdx)("div",{parentName:"div",className:"admonition-content"},(0,r.mdx)("p",{parentName:"div"},"Personnellement, quand j'ai besoin de cr\xe9er une nouvelle animation, je recherche toujours ce qui existe d\xe9j\xe0. Voil\xe0 les sites que je consulte\nen priorit\xe9 :"),(0,r.mdx)("ul",{parentName:"div"},(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("a",{parentName:"li",href:"https://www.awwwards.com/websites/animation/"},"Awwwards"),' : ce site recense les plus beaux sites Internet. La cat\xe9gorie "animation" a de\nquoi faire r\xeaver n\'importe quel animateur \ud83d\ude0d ;'),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("a",{parentName:"li",href:"https://dribbble.com/"},"Dribbble")," : vous pouvez chercher le mot cl\xe9 qui correspond le plus \xe0 ce que vous voulez cr\xe9er, et rassembler vos\nr\xe9sultats dans un panier (",(0,r.mdx)("em",{parentName:"li"},"bucket")," en anglais). Tr\xe8s pratique !"),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("a",{parentName:"li",href:"https://codepen.io/"},"Codepen")," : ce site est parfait lorsque vous cherchez une animation sur un \xe9l\xe9ment bien sp\xe9cifique, comme un burger\nmenu, par exemple ;"),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("a",{parentName:"li",href:"https://uimovement.com/"},"UI Movement")," : votre dose d'inspiration quotidienne en UI (User Interface), qui recense de nombreuses animations ;"),(0,r.mdx)("li",{parentName:"ul"},"et encore bien plus en vous perdant dans le web. Alors bonnes d\xe9couvertes \xe0 vous \ud83d\udc69\u200d\ud83d\ude80 !")))),(0,r.mdx)("hr",null),(0,r.mdx)("h2",{id:"quiz--r\xe9alisez-des-animations-dynamiques"},"Quiz : R\xe9alisez des animations dynamiques"),(0,r.mdx)("p",null,(0,r.mdx)("a",{parentName:"p",href:"https://openclassrooms.com/fr/courses/5919246-creez-des-animations-css-modernes/exercises/3624"},"R\xe9alisez des animations dynamiques - OpenClassrooms")),(0,r.mdx)("h4",{id:"comp\xe9tences-\xe9valu\xe9es"},"Comp\xe9tences \xe9valu\xe9es"),(0,r.mdx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-checkbox",width:"22",height:"22",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"#00b341",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},(0,r.mdx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,r.mdx)("polyline",{points:"9 11 12 14 20 6"}),(0,r.mdx)("path",{d:"M20 12v6a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h9"}))," R\xe9aliser des animations dynamiques",(0,r.mdx)("hr",null),(0,r.mdx)("h4",{id:"description"},"Description"),(0,r.mdx)("p",null,"Dans ce quiz, vous allez cr\xe9er vos premi\xe8res animations @keyframes.",(0,r.mdx)("br",null),"\nCe quiz n'est ",(0,r.mdx)("strong",{parentName:"p"},"pas"),"\xa0comme les deux pr\xe9c\xe9dents. Il v\xe9rifie vos connaissances mais aussi\xa0",(0,r.mdx)("strong",{parentName:"p"},"votre pratique sur un exemple concret"),". Veillez \xe0\nsuivre les questions dans l'ordre et effectuer les t\xe2ches demand\xe9es. Ce quiz ressemble \xe0 un TP et\xa0",(0,r.mdx)("strong",{parentName:"p"},"vous prendra donc s\xfbrement plus de temps"),"\nque les deux autres, c'est normal !",(0,r.mdx)("br",null),"\nLes premi\xe8res questions sont des questions g\xe9n\xe9rales sur les comp\xe9tences apprises dans la partie 3. Pour les questions 6, 7, 8, 9 et 10, vous\nallez devoir travailler sur le ",(0,r.mdx)("a",{parentName:"p",href:"https://github.com/atoulmet/openclassrooms_css-animations"},"repository GitHub")," dont vous aviez eu besoin pour\nle quiz de la deuxi\xe8me partie.",(0,r.mdx)("br",null),"\nV\xe9rifiez le fichier README.md pour obtenir quelques instructions suppl\xe9mentaires sur comment le faire tourner.",(0,r.mdx)("br",null),"\nAlors \xe0 vous de jouer ! \ud83d\udcaa"),(0,r.mdx)("h4",{id:"question-1--quelssnippets-de-code-me-permettent-de-cr\xe9er-une-animation-keyframes-"},"Question 1 : Quels\xa0snippets de code me permettent de cr\xe9er une animation @keyframes ?"),(0,r.mdx)("p",null,(0,r.mdx)("em",{parentName:"p"},"Attention, plusieurs r\xe9ponses sont possibles.")),(0,r.mdx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-square",width:"22",height:"22",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"#9e9e9e",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},(0,r.mdx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,r.mdx)("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"})),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"@keyframes mon-animation {\n    0%: {\n        transform: scale(1);\n    }\n    100%: {\n        transform: scale(1.2);\n    }\n}\n")),(0,r.mdx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-checkbox",width:"22",height:"22",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"#00b341",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},(0,r.mdx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,r.mdx)("polyline",{points:"9 11 12 14 20 6"}),(0,r.mdx)("path",{d:"M20 12v6a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h9"})),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"@keyframes mon-animation {\n    100% {\n        transform: scale(1.2);\n    }\n    0% {\n        transform: scale(1);\n    }\n}\n")),(0,r.mdx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-checkbox",width:"22",height:"22",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"#00b341",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},(0,r.mdx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,r.mdx)("polyline",{points:"9 11 12 14 20 6"}),(0,r.mdx)("path",{d:"M20 12v6a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h9"})),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"@keyframes mon-animation {\n    from {\n        transform: scale(1);\n    }\n    to {\n        transform: scale(1.2);\n    }\n}\n")),(0,r.mdx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-square",width:"22",height:"22",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"#9e9e9e",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},(0,r.mdx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,r.mdx)("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"})),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"@keyframes mon-animation {\n    from: {\n        transform: scale(1);\n    }\n    to: {\n        transform: scale(1.2);\n    }\n}\n")),(0,r.mdx)("p",null,(0,r.mdx)("em",{parentName:"p"},'La premi\xe8re r\xe9ponse semble exacte ; pourtant, elle utilise les ":" pour d\xe9finir chaque keyframe. Cette syntaxe n\'est pas correcte.')),(0,r.mdx)("p",null,(0,r.mdx)("em",{parentName:"p"},"En revanche, les deuxi\xe8me et troisi\xe8me r\xe9ponses permettent bien de cr\xe9er une animation. M\xeame si l'\xe9tape 100% est d\xe9clar\xe9e avant l'\xe9tape 0%,\nl'animation interpr\xe8te le pourcentage d\xe9clar\xe9."),(0,r.mdx)("br",null),"\n",(0,r.mdx)("em",{parentName:"p"},'Pour ce qui est de la quatri\xe8me r\xe9ponse, elle reprend \xe9galement les ":" qui sont une mauvaise syntaxe.')),(0,r.mdx)("hr",null),(0,r.mdx)("h4",{id:"question-2--une-animation-keyframes-peut-\xeatre-d\xe9clench\xe9e-en-css"},"Question 2 : Une animation @keyframes peut \xeatre d\xe9clench\xe9e en CSS\u2026"),(0,r.mdx)("p",null,(0,r.mdx)("em",{parentName:"p"},"Attention, plusieurs r\xe9ponses sont possibles.")),(0,r.mdx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-checkbox",width:"22",height:"22",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"#00b341",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},(0,r.mdx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,r.mdx)("polyline",{points:"9 11 12 14 20 6"}),(0,r.mdx)("path",{d:"M20 12v6a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h9"}))," par le survol d'un \xe9l\xe9ment par la souris avec la pseudoclasse ",(0,r.mdx)("code",null,":hover"),(0,r.mdx)("br",null),(0,r.mdx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-checkbox",width:"22",height:"22",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"#00b341",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},(0,r.mdx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,r.mdx)("polyline",{points:"9 11 12 14 20 6"}),(0,r.mdx)("path",{d:"M20 12v6a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h9"}))," au moment d'un clic sur un \xe9l\xe9ment avec ",(0,r.mdx)("code",null,":active"),(0,r.mdx)("br",null),(0,r.mdx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-checkbox",width:"22",height:"22",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"#00b341",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},(0,r.mdx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,r.mdx)("polyline",{points:"9 11 12 14 20 6"}),(0,r.mdx)("path",{d:"M20 12v6a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h9"}))," d\xe8s le chargement d'une page",(0,r.mdx)("br",null),(0,r.mdx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-square",width:"22",height:"22",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"#9e9e9e",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},(0,r.mdx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,r.mdx)("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"}))," juste avant la fermeture de la page",(0,r.mdx)("br",null),(0,r.mdx)("br",null),(0,r.mdx)("p",null,(0,r.mdx)("em",{parentName:"p"},"Tout comme pour les transitions, les animations @keyframes peuvent \xeatre d\xe9clench\xe9es par les pseudoclasses ad\xe9quates. Les pseudoclasses :hover\net :active sont parfaites pour d\xe9clencher nos animations @keyframes. Mais il existe aussi une sp\xe9cificit\xe9 des animations @keyframes : elles\npeuvent \xeatre \xe9galement d\xe9clench\xe9es d\xe8s le chargement de la page sur laquelle elles se trouvent. Pour cela, il suffit juste de pr\xe9ciser les\nvaleurs minimales pour cr\xe9er une animation.")),(0,r.mdx)("p",null,(0,r.mdx)("em",{parentName:"p"},"En revanche, il n'existe pas de propri\xe9t\xe9 CSS permettant de d\xe9clencher une animation juste au moment de la fermeture de la page. Pour cela,\nil faudrait avoir recours \xe0 d'autres technologies, telles que JavaScript.")),(0,r.mdx)("hr",null),(0,r.mdx)("h4",{id:"question-3--jai-besoin-daide"},"Question 3 : J'ai besoin d'aide."),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Lorsque je code un bouton avec une animation @keyframes, l'animation n'est pas du tout fluide. J'ai le code suivant :")),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-html"},'<div class="grow-element">\n    Je grossis\n</div>\n')),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"@keyframes grow {\n    0% {\n        transform: scale(1);\n    }\n    100% {\n        transform: scale(1.2);\n    }\n}\n.grow-element {\n    border: 1px solid black;\n    width: 100px;\n    cursor: pointer;\n}\n.grow-element:active {\n    animation: grow 200ms;\n}\n")),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Quand je clique dessus, mon \xe9l\xe9ment grossit bien comme je le souhaite. Mais lorsque j'arrive \xe0 la fin de mon animation, catastrophe.\nL'animation s'arr\xeate de mani\xe8re brutale, et revient \xe0 la valeur de d\xe9part, avant m\xeame que j'arr\xeate de cliquer. Comment faire pour fluidifier\ntout \xe7a, et qu'il reste \xe0 une \xe9chelle de 1.2 tant que je maintiens mon clic activ\xe9 ?")),(0,r.mdx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-circle",width:"22",height:"22",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"#9e9e9e",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},(0,r.mdx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,r.mdx)("circle",{cx:"12",cy:"12",r:"9"}))," Pr\xe9ciser la valeur backwards pour animation-fill-mode",(0,r.mdx)("br",null),(0,r.mdx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-circle",width:"22",height:"22",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"#9e9e9e",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},(0,r.mdx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,r.mdx)("circle",{cx:"12",cy:"12",r:"9"}))," Changer le timing de mon animation",(0,r.mdx)("br",null),(0,r.mdx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-circle",width:"22",height:"22",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"#9e9e9e",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},(0,r.mdx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,r.mdx)("circle",{cx:"12",cy:"12",r:"9"}))," Utiliser une valeur de scale de 1.1 au lieu de 2",(0,r.mdx)("br",null),(0,r.mdx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-circle-check",width:"22",height:"22",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"#7bc62d",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},(0,r.mdx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,r.mdx)("circle",{cx:"12",cy:"12",r:"9"}),(0,r.mdx)("path",{d:"M9 12l2 2l4 -4"}))," Pr\xe9ciser la valeur forwards pour animation-fill-mode",(0,r.mdx)("br",null),(0,r.mdx)("br",null),(0,r.mdx)("p",null,(0,r.mdx)("em",{parentName:"p"},"C'est bien la propri\xe9t\xe9 ",(0,r.mdx)("strong",{parentName:"em"},"animation-fill-mode")," qui me permet d'\xe9tendre mon animation CSS avant et apr\xe8s la fin de son ex\xe9cution. Avec la\nvaleur backwards, l'animation appliquera les valeurs d\xe9finies par la premi\xe8re ",(0,r.mdx)("em",{parentName:"em"},"keyframe"),". Elle les retiendra pendant la dur\xe9e indiqu\xe9e par\n",(0,r.mdx)("a",{parentName:"em",href:"https://developer.mozilla.org/fr/docs/Web/CSS/animation-delay"},"animation-delay"),", mais ici, c'est \xe0 la fin de notre animation que nous voulons\n\xe9tendre les propri\xe9t\xe9s. Il s'agit donc de la valeur forwards."),(0,r.mdx)("br",null),"\n",(0,r.mdx)("em",{parentName:"p"},"Changer le timing de mon animation me permettrait de la peaufiner, mais ne me permet pas de corriger l'arr\xeat brutal de mon animation pour\nautant. De m\xeame, si je modifie la valeur de scale, mon \xe9l\xe9ment grossira de mani\xe8re moins forte, mais l'arr\xeat de l'animation sera tout aussi\nbrutal. C'est donc bien la r\xe9ponse 4 qui est correcte ici \ud83d\ude0e.")),(0,r.mdx)("hr",null),(0,r.mdx)("h4",{id:"question-4--trouvez-lintrus-"},"Question 4 : Trouvez l'intrus !"),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Mon outil Animation dans mes DevTools me permet tr\xe8s facilement de :")),(0,r.mdx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-circle",width:"22",height:"22",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"#9e9e9e",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},(0,r.mdx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,r.mdx)("circle",{cx:"12",cy:"12",r:"9"}))," voir rapidement tous les \xe9l\xe9ments utilis\xe9s dans une animation.",(0,r.mdx)("br",null),(0,r.mdx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-circle",width:"22",height:"22",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"#9e9e9e",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},(0,r.mdx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,r.mdx)("circle",{cx:"12",cy:"12",r:"9"}))," comprendre comment les \xe9l\xe9ments\xa0sont combin\xe9s et mis en sc\xe8ne pour cr\xe9er le rendu final.",(0,r.mdx)("br",null),(0,r.mdx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-circle-check",width:"22",height:"22",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"#7bc62d",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},(0,r.mdx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,r.mdx)("circle",{cx:"12",cy:"12",r:"9"}),(0,r.mdx)("path",{d:"M9 12l2 2l4 -4"}))," modifier les pourcentages d'un keyframe.",(0,r.mdx)("br",null),(0,r.mdx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-circle",width:"22",height:"22",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"#9e9e9e",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},(0,r.mdx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,r.mdx)("circle",{cx:"12",cy:"12",r:"9"}))," rep\xe9rer l\xe0 o\xf9 il y a un probl\xe8me.",(0,r.mdx)("br",null),(0,r.mdx)("br",null),(0,r.mdx)("p",null,(0,r.mdx)("em",{parentName:"p"},"L'outil Animation des DevTools est tr\xe8s pratique. Il permet en effet d'it\xe9rer beaucoup plus simplement sur les animations @keyframes, en\najustant les propri\xe9t\xe9s de l'animation telles que la dur\xe9e. Mais les pourcentages des keyframes ne font pas partie des propri\xe9t\xe9s de\nl'animation\xa0: ces pourcentages font partie des keyframes en tant que tels. Ils ne peuvent donc pas \xeatre modifi\xe9s depuis l'outil Animation.")),(0,r.mdx)("hr",null),(0,r.mdx)("h4",{id:"question-5--quelles-affirmations-sont-exactes-"},"Question 5 : Quelles affirmations sont exactes ?"),(0,r.mdx)("p",null,(0,r.mdx)("em",{parentName:"p"},"Attention, plusieurs r\xe9ponses sont possibles.")),(0,r.mdx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-square",width:"22",height:"22",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"#9e9e9e",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},(0,r.mdx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,r.mdx)("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"}))," Les fonctions de timing ne peuvent \xeatre appliqu\xe9es qu'aux transitions.",(0,r.mdx)("br",null),(0,r.mdx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-checkbox",width:"22",height:"22",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"#00b341",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},(0,r.mdx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,r.mdx)("polyline",{points:"9 11 12 14 20 6"}),(0,r.mdx)("path",{d:"M20 12v6a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h9"}))," Par d\xe9faut, chaque keyframe prend la fonction de timing du s\xe9lecteur o\xf9 la fonction a \xe9t\xe9 assign\xe9e.",(0,r.mdx)("br",null),(0,r.mdx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-square",width:"22",height:"22",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"#9e9e9e",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},(0,r.mdx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,r.mdx)("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"}))," La valeur par d\xe9faut de la fonction de timing de chaque keyframe toujours ease.",(0,r.mdx)("br",null),(0,r.mdx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-checkbox",width:"22",height:"22",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"#00b341",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},(0,r.mdx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,r.mdx)("polyline",{points:"9 11 12 14 20 6"}),(0,r.mdx)("path",{d:"M20 12v6a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h9"}))," Le fait de d\xe9clarer une fonction de timing dans une des \xe9tapes d'un keyframe permet d'appliquer un timing sp\xe9cifique \xe0 ce keyframe.",(0,r.mdx)("br",null),(0,r.mdx)("br",null),(0,r.mdx)("p",null,(0,r.mdx)("em",{parentName:"p"},"Comme nous l'avons vu dans le chapitre 2 de notre troisi\xe8me partie, il est tout \xe0 fait possible d'appliquer une fonction de timing \xe0 nos\nanimations @keyframes. Vous pouvez aussi bien d\xe9clarer une valeur \xe0 la propri\xe9t\xe9 animation-timing-function dans le s\xe9lecteur o\xf9 vous assignez\nvotre fonction, ou bien directement dans l'un de vos keyframes. Par d\xe9faut, les valeurs assign\xe9es au timing de chaque keyframe seront celles\nd\xe9clar\xe9es dans le s\xe9lecteur o\xf9 vous assignez votre fonction. Si cette valeur est par d\xe9faut ease, elle ne reste pas toujours \xe0 sa valeur par\nd\xe9faut. Les r\xe9ponses exactes sont donc la 2 et la 4.")),(0,r.mdx)("hr",null),(0,r.mdx)("h4",{id:"question-6--maintenant-je-veux-que-vous-retourniez-sur-le-repository-github-li\xe9-\xe0-ce-cours-encore-une-fois-lisez-le-readmemd-pour-obtenir-plus-dinformations-sur-comment-faire-marcher-le-code"},"Question 6 : Maintenant, je veux que vous retourniez sur le repository GitHub li\xe9 \xe0 ce cours. Encore une fois, lisez le readme.md pour obtenir plus d'informations sur comment faire marcher le code."),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Vous devriez avoir une sc\xe8ne comme celle-ci :")),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2019/08/27/15669306000626_15562876576348_Scene%20%281%29.png",alt:"Capture d'\xe9cran repository Github"})),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Pour cette question, concentrons-nous sur la montgolfi\xe8re.")),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"J'ai d\xe9fini une animation :")),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"@keyframes balloon {\n    0% {\n        bottom: 20%;\n    }\n    100% {\n        bottom: 70%;\n    }\n}\n")),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Quel snippet de code CSS me permet de faire monter et descendre la montgolfi\xe8re \xe0 l'infini de mani\xe8re fluide ?")),(0,r.mdx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-circle",width:"22",height:"22",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"#9e9e9e",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},(0,r.mdx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,r.mdx)("circle",{cx:"12",cy:"12",r:"9"})),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"animation-timing-function: ease-in-out;\nanimation-direction: reverse;\nanimation-iteration-count: infinite;\nanimation-name: balloon;\nanimation-duration: 0s;\n")),(0,r.mdx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-circle-check",width:"22",height:"22",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"#7bc62d",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},(0,r.mdx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,r.mdx)("circle",{cx:"12",cy:"12",r:"9"}),(0,r.mdx)("path",{d:"M9 12l2 2l4 -4"})),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"animation-direction: alternate-reverse;\nanimation-timing-function: ease-in-out;\nanimation-iteration-count: infinite;\nanimation-name: balloon;\nanimation-duration: 5s;\n")),(0,r.mdx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-circle",width:"22",height:"22",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"#9e9e9e",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},(0,r.mdx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,r.mdx)("circle",{cx:"12",cy:"12",r:"9"})),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"animation-timing-function: ease-in-out;\nanimation-iteration-count: infinite;\nanimation-name: balloon;\nanimation-duration: 5s;\n")),(0,r.mdx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-circle",width:"22",height:"22",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"#9e9e9e",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},(0,r.mdx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,r.mdx)("circle",{cx:"12",cy:"12",r:"9"})),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"animation-direction: alternate-reverse;\nanimation-timing-function: ease-in-out;\nanimation-iteration-count: 8;\nanimation-name: balloon;\nanimation-duration: 5s;\n")),(0,r.mdx)("p",null,(0,r.mdx)("em",{parentName:"p"},"Ici, c'est bien la deuxi\xe8me r\xe9ponse qui nous permet d'obtenir l'effet suivant (attention, le format GIF utilis\xe9 ici me limite en temps\nd'animation et en qualit\xe9) :")),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2019/08/27/15669305180794_ezgif.com-optimize%20%2812%29.gif",alt:"Animation montgolfi\xe8re"})),(0,r.mdx)("p",null,(0,r.mdx)("em",{parentName:"p"},'La r\xe9ponse 1, en revanche, ne permet m\xeame pas de cr\xe9er une animation, puisque sa dur\xe9e est de 0 seconde. Et m\xeame si sa dur\xe9e \xe9tait pr\xe9cis\xe9e,\nla valeur "reverse" de "animation-direction" ne permet pas de cr\xe9er l\'effet de mont\xe9e-descente : au lieu de \xe7a, la montgolfi\xe8re part d\'en haut,\ndescend tout en bas, puis se t\xe9l\xe9porte par magie tout en haut.')),(0,r.mdx)("p",null,(0,r.mdx)("em",{parentName:"p"},"La troisi\xe8me r\xe9ponse quant \xe0 elle ne pr\xe9cise m\xeame pas la propri\xe9t\xe9 \"animation-direction\". L'effet est donc similaire \xe0 celui de la r\xe9ponse 1 :\nla montgolfi\xe8re part du sol, monte dans le ciel, puis se t\xe9l\xe9porte en bas. La derni\xe8re r\xe9ponse n'est pas correcte non plus : elle ne pr\xe9cise\npas que l'animation doit boucler \xe0 l'infini, car elle donne la valeur de 8 \xe0 \xa0animation-iteration-count.")),(0,r.mdx)("hr",null),(0,r.mdx)("h4",{id:"question-7--reprenons-lexemple-ci-dessus"},"Question 7 : Reprenons l'exemple ci-dessus."),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Quel(s) snippet(s) de code me permet(tent) de reproduire le m\xeame effet ?")),(0,r.mdx)("p",null,(0,r.mdx)("em",{parentName:"p"},"Attention, plusieurs r\xe9ponses sont possibles.")),(0,r.mdx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-square",width:"22",height:"22",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"#9e9e9e",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},(0,r.mdx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,r.mdx)("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"})),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"animation: balloon 0s 5s ease-in-out alternate-reverse infinite;\n")),(0,r.mdx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-square",width:"22",height:"22",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"#9e9e9e",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},(0,r.mdx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,r.mdx)("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"})),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"animation: balloon 5s 0ms alternate-reverse infinite;\n")),(0,r.mdx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-checkbox",width:"22",height:"22",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"#00b341",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},(0,r.mdx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,r.mdx)("polyline",{points:"9 11 12 14 20 6"}),(0,r.mdx)("path",{d:"M20 12v6a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h9"})),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"animation: balloon 5000ms ease-in-out alternate-reverse infinite;\n")),(0,r.mdx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-checkbox",width:"22",height:"22",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"#00b341",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},(0,r.mdx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,r.mdx)("polyline",{points:"9 11 12 14 20 6"}),(0,r.mdx)("path",{d:"M20 12v6a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h9"})),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"animation: balloon 5s 0s ease-in-out alternate-reverse infinite;\n")),(0,r.mdx)("p",null,(0,r.mdx)("em",{parentName:"p"},"Ici, les r\xe9ponses 3 et 4 permettent de reproduire l'animation de la question pr\xe9c\xe9dente. Souvenez-vous : la propri\xe9t\xe9 raccourcie animation\npermet de d\xe9finir les m\xeames propri\xe9t\xe9s que animation-name, animation-duration, animation-timing-function, animation-delay,\nanimation-iteration-count, animation-direction, animation-fill-mode, animation-play-state. Mais pour cela, il faut bien respecter l'ordre des\nvaleurs. La r\xe9ponse 1 inverse animation-duration et animation-delay : ici, animation-duration est \xe0 0, ce qui ne permet pas de cr\xe9er une\nanimation. Par ailleurs, il faut bien garder \xe0 l'esprit que les animations, tout comme les transitions, ont des valeurs par d\xe9faut. Pour la\npropri\xe9t\xe9 animation-timing-function, la valeur par d\xe9faut est 'ease' : elle ne permet pas de reproduire le snippet de code de la question\npr\xe9c\xe9dente. En revanche, dans la r\xe9ponse 4, aucune valeur n'est pr\xe9cis\xe9e pour animation-delay, et sa valeur par d\xe9faut est 0 : cela correspond\nbien \ud83d\ude80.")),(0,r.mdx)("hr",null),(0,r.mdx)("h4",{id:"question-8--au-tour-cette-fois-ci-de-la-voiture-"},"Question 8 : Au tour, cette fois-ci, de la voiture !"),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Je veux cr\xe9er un effet o\xf9 ma voiture d\xe9marre tranquillement jusqu'au passage pi\xe9ton. Elle y marque un bref arr\xeat, avant de repartir\ntranquillement vers la partie droite de mon \xe9cran."),(0,r.mdx)("br",null),"\n",(0,r.mdx)("strong",{parentName:"p"},"Dans ma classe .car, j'ai le code suivant :")),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"animation: car-animation 3s;\n")),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Quelle animation @keyframes me permet d'y parvenir ?")),(0,r.mdx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-circle-check",width:"22",height:"22",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"#7bc62d",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},(0,r.mdx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,r.mdx)("circle",{cx:"12",cy:"12",r:"9"}),(0,r.mdx)("path",{d:"M9 12l2 2l4 -4"})),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"@keyframes car-animation {\n    0% {\n        left: 0;\n    }\n    30%, 40% {\n        left: 20%;\n    }\n    100% {\n        left: 80%;\n    }\n}\n")),(0,r.mdx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-circle",width:"22",height:"22",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"#9e9e9e",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},(0,r.mdx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,r.mdx)("circle",{cx:"12",cy:"12",r:"9"})),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"@keyframes car-animation {\n    0% {\n        left: 0;\n    }\n    10% {\n        left: 50%;\n    }\n    100% {\n        left: 80%;\n    }\n}\n")),(0,r.mdx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-circle",width:"22",height:"22",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"#9e9e9e",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},(0,r.mdx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,r.mdx)("circle",{cx:"12",cy:"12",r:"9"})),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"@keyframes car-animation {\n    0% {\n        left: 80%;\n    }\n    30% {\n        left: 40%;\n    }\n    100% {\n        left: 80%;\n    }\n}\n")),(0,r.mdx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-circle",width:"22",height:"22",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"#9e9e9e",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},(0,r.mdx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,r.mdx)("circle",{cx:"12",cy:"12",r:"9"})),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"@keyframes car-animation {\n    from {\n        left: 0;\n    }\n    30%, 40% {\n        left: 20%;\n    }\n    100% {\n        left: 80%;\n    }\n}\n")),(0,r.mdx)("p",null,(0,r.mdx)("em",{parentName:"p"},"C'est bien l'animation num\xe9ro 1 qui permet, gr\xe2ce aux keyframes d\xe9clar\xe9s, de cr\xe9er l'animation voulue. Si vous h\xe9sitez pour cr\xe9er un effet,\nn'h\xe9sitez pas \xe0 it\xe9rer !")),(0,r.mdx)("hr",null),(0,r.mdx)("h4",{id:"question-9--testons-maintenant-les-freins-de-notre-voiture"},"Question 9 : Testons maintenant les freins de notre voiture."),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Je veux pouvoir interagir avec ma voiture : \xe0 chaque fois que ma souris la survole, elle doit s'arr\xeater net."),(0,r.mdx)("br",null),"\n",(0,r.mdx)("strong",{parentName:"p"},"Quelle propri\xe9t\xe9 et quelle valeur associ\xe9e dois-je pr\xe9ciser dans le :hover pour y parvenir simplement ?")),(0,r.mdx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-circle",width:"22",height:"22",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"#9e9e9e",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},(0,r.mdx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,r.mdx)("circle",{cx:"12",cy:"12",r:"9"})),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"animation-play: none;\n")),(0,r.mdx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-circle",width:"22",height:"22",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"#9e9e9e",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},(0,r.mdx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,r.mdx)("circle",{cx:"12",cy:"12",r:"9"})),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"animation-play-state: pause;\n")),(0,r.mdx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-circle-check",width:"22",height:"22",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"#7bc62d",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},(0,r.mdx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,r.mdx)("circle",{cx:"12",cy:"12",r:"9"}),(0,r.mdx)("path",{d:"M9 12l2 2l4 -4"})),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"animation-play-state: paused;\n")),(0,r.mdx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-circle",width:"22",height:"22",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"#9e9e9e",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},(0,r.mdx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,r.mdx)("circle",{cx:"12",cy:"12",r:"9"})),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"animation-timing-function: stop;\n")),(0,r.mdx)("p",null,(0,r.mdx)("em",{parentName:"p"},"Il s'agit bien de la propri\xe9t\xe9 animation-play-state. En revanche, ni none ni pause ne sont des valeurs possibles pour cette propri\xe9t\xe9. La\nbonne r\xe9ponse est bien la 3 ici. Pour ce qui est du quatri\xe8me choix possible, je tenais \xe0 pr\xe9ciser que stop n'est pas non plus une fonction\nde timing \ud83d\ude48."),"\n",(0,r.mdx)("em",{parentName:"p"},"Si vous avez un doute, n'h\xe9sitez surtout pas \xe0 aller consulter la doc des propri\xe9t\xe9s CSS, comme ",(0,r.mdx)("a",{parentName:"em",href:"https://developer.mozilla.org/fr/docs/Web/CSS/animation-play-state"},"ici"),".")),(0,r.mdx)("hr",null),(0,r.mdx)("h4",{id:"question-10--restons-sur-la-voiture-je-veux-cette-fois-ci-que-ma-voiture-marque-un-d\xe9lai-de-3-secondes-avant-de-se-lancer-puis-de-sortir-de-l\xe9cran-et-de-rester-en-dehors-de-l\xe9cran-comme-dans-le-gif-ci-dessous-"},"Question 10 : Restons sur la voiture. Je veux cette fois-ci que ma voiture marque un d\xe9lai de 3 secondes avant de se lancer puis de sortir de l'\xe9cran et de rester en dehors de l'\xe9cran. Comme dans le GIF ci-dessous :"),(0,r.mdx)("p",null,(0,r.mdx)("img",{parentName:"p",src:"https://user.oc-static.com/upload/2019/08/27/1566931460763_ezgif.com-resize%20%284%29.gif",alt:"Animation voiture activit\xe9"})),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Mon animation @keyframes est la suivante :")),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"@keyframes car-animation {\n    0% {\n        left: 0;\n    }\n    30%,\n    40% {\n        left: 20%;\n    }\n    100% {\n        left: 110%;\n    }\n}\n")),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Et mon CSS :")),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},'.car {\n    height: 60px;\n    width: 200px;\n    position: absolute;\n    bottom: 80px;\n    left: 10%;\n    background-image: URL("../images/car.png");\n    background-position: center;\n    background-repeat: no-repeat;\n    background-size: contain;\n    z-index: 99;\n}\n')),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Quel snippet de code me permet d'obtenir l'effet ci-dessus ?")),(0,r.mdx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-circle",width:"22",height:"22",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"#9e9e9e",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},(0,r.mdx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,r.mdx)("circle",{cx:"12",cy:"12",r:"9"})),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"animation: car-animation 3s backwards;\n")),(0,r.mdx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-circle",width:"22",height:"22",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"#9e9e9e",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},(0,r.mdx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,r.mdx)("circle",{cx:"12",cy:"12",r:"9"})),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"animation: car-animation 3s 3s backwards;\n")),(0,r.mdx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-circle-check",width:"22",height:"22",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"#7bc62d",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},(0,r.mdx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,r.mdx)("circle",{cx:"12",cy:"12",r:"9"}),(0,r.mdx)("path",{d:"M9 12l2 2l4 -4"})),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"animation: car-animation 3s 3s both;\n")),(0,r.mdx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-circle",width:"22",height:"22",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"#9e9e9e",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},(0,r.mdx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,r.mdx)("circle",{cx:"12",cy:"12",r:"9"})),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-scss"},"animation: car-animation 3s 3s forwards;\n")),(0,r.mdx)("p",null,(0,r.mdx)("em",{parentName:"p"},"Ici, le choix num\xe9ro 1 ne pr\xe9cise pas de d\xe9lai, la voiture ne peut donc pas marquer un arr\xeat de 3 secondes. Le choix num\xe9ro 2 \xe9tend bien\nl'effet durant la propri\xe9t\xe9 animation-delay, ce qui veut dire que la voiture marquera bien l'arr\xeat \xe0 la position de la premi\xe8re keyframe de\nnotre animation. Mais d\xe8s l'animation termin\xe9e, elle retourne \xe0 sa position initiale. \xc0 l'inverse, forwards permet de prolonger l'effet de la\nderni\xe8re keyframe apr\xe8s la fin de l'animation, me permettant de laisser la voiture en dehors de l'\xe9cran, mais son arr\xeat du d\xe9but ne se fait\npas au bon endroit. C'est donc bien la r\xe9ponse 3 qui me permet de reproduire l'effet voulu.")))}c.isMDXComponent=!0}}]);