"use strict";(self.webpackChunkmon_web_dev_wiki=self.webpackChunkmon_web_dev_wiki||[]).push([[1790],{82955:function(e,s,n){n.r(s),n.d(s,{frontMatter:function(){return u},contentTitle:function(){return l},metadata:function(){return d},toc:function(){return m},default:function(){return c}});var t=n(87462),o=n(63366),r=(n(67294),n(3905)),a=(n(9877),n(58215),n(56222)),i=["components"],u={sidebar_position:4},l="Concevez des API REST",d={unversionedId:"OpenClassrooms/Construisez_une_API_securisee_pour_une_application_d_avis_gastronomiques/Adoptez_les_API_REST_pour_vos_projets_web/Concevez_des_API_REST",id:"OpenClassrooms/Construisez_une_API_securisee_pour_une_application_d_avis_gastronomiques/Adoptez_les_API_REST_pour_vos_projets_web/Concevez_des_API_REST",title:"Concevez des API REST",description:"D\xe9finissez la structure de votre API REST",source:"@site/docs/OpenClassrooms/6-Construisez_une_API_securisee_pour_une_application_d_avis_gastronomiques/1-Adoptez_les_API_REST_pour_vos_projets_web/3-Concevez_des_API_REST.mdx",sourceDirName:"OpenClassrooms/6-Construisez_une_API_securisee_pour_une_application_d_avis_gastronomiques/1-Adoptez_les_API_REST_pour_vos_projets_web",slug:"/OpenClassrooms/Construisez_une_API_securisee_pour_une_application_d_avis_gastronomiques/Adoptez_les_API_REST_pour_vos_projets_web/Concevez_des_API_REST",permalink:"/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Construisez_une_API_securisee_pour_une_application_d_avis_gastronomiques/Adoptez_les_API_REST_pour_vos_projets_web/Concevez_des_API_REST",editUrl:"https://github.com/gylgyl2000/Mon_Web_Dev_Wiki/edit/master/website/docs/OpenClassrooms/6-Construisez_une_API_securisee_pour_une_application_d_avis_gastronomiques/1-Adoptez_les_API_REST_pour_vos_projets_web/3-Concevez_des_API_REST.mdx",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"openClassroomsSidebar",previous:{title:"Formulez des requ\xeates et envoyez des r\xe9ponses avec une API REST",permalink:"/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Construisez_une_API_securisee_pour_une_application_d_avis_gastronomiques/Adoptez_les_API_REST_pour_vos_projets_web/Formulez_des_requetes_et_envoyez_des_reponses_avec_une_API_REST"},next:{title:"Introduction du cours",permalink:"/Mon_Web_Dev_Wiki/docs/OpenClassrooms/Construisez_une_API_securisee_pour_une_application_d_avis_gastronomiques/Passez_au_Full_stack_avec_Node_js_Express_et_MongoDB/Introduction_du_cours"}},m=[{value:"D\xe9finissez la structure de votre API REST",id:"d\xe9finissez-la-structure-de-votre-api-rest",children:[{value:"Pr\xe9parez-vous \xe0 concevoir votre propre API REST",id:"pr\xe9parez-vous-\xe0-concevoir-votre-propre-api-rest",children:[],level:3},{value:"Lancez-vous dans la conception de votre API",id:"lancez-vous-dans-la-conception-de-votre-api",children:[],level:3},{value:"Documentez toute la journ\xe9e : d\xe9couvrez pourquoi une documentation adapt\xe9e est essentielle",id:"documentez-toute-la-journ\xe9e--d\xe9couvrez-pourquoi-une-documentation-adapt\xe9e-est-essentielle",children:[{value:"Documentation de l\u2019API Stripe",id:"documentation-de-lapi-stripe",children:[],level:4},{value:"Documentation de l\u2019API Pinterest",id:"documentation-de-lapi-pinterest",children:[],level:4}],level:3},{value:"G\xe9rez les erreurs \ud83d\ude45\u200d\u2640\ufe0f",id:"g\xe9rez-les-erreurs-\ufe0f",children:[{value:"En r\xe9sum\xe9",id:"en-r\xe9sum\xe9",children:[],level:4}],level:3}],level:2},{value:"Concevez les endpoints de votre API",id:"concevez-les-endpoints-de-votre-api",children:[{value:"Concevez une API de partage de photos",id:"concevez-une-api-de-partage-de-photos",children:[],level:3},{value:"Cr\xe9ez vos endpoints",id:"cr\xe9ez-vos-endpoints",children:[],level:3},{value:"Simulez des endpoints suppl\xe9mentaires",id:"simulez-des-endpoints-suppl\xe9mentaires",children:[],level:3},{value:"En r\xe9sum\xe9",id:"en-r\xe9sum\xe9-1",children:[],level:3}],level:2},{value:"Utilisez les fonctionnalit\xe9s avanc\xe9es des endpoints",id:"utilisez-les-fonctionnalit\xe9s-avanc\xe9es-des-endpoints",children:[{value:"Filtrez",id:"filtrez",children:[],level:3},{value:"Recherchez",id:"recherchez",children:[],level:3},{value:"Triez",id:"triez",children:[],level:3},{value:"Paginez vos r\xe9sultats",id:"paginez-vos-r\xe9sultats",children:[],level:3},{value:"Versionnez",id:"versionnez",children:[],level:3},{value:"En r\xe9sum\xe9",id:"en-r\xe9sum\xe9-2",children:[],level:3}],level:2},{value:"Choisissez des frameworks pour construire votre API",id:"choisissez-des-frameworks-pour-construire-votre-api",children:[{value:"D\xe9couvrez les frameworks les plus connus pour construire une API",id:"d\xe9couvrez-les-frameworks-les-plus-connus-pour-construire-une-api",children:[{value:"Express.js (JavaScript)",id:"expressjs-javascript",children:[],level:4},{value:"Ruby on Rails (Ruby)",id:"ruby-on-rails-ruby",children:[],level:4},{value:"Django (Python)",id:"django-python",children:[],level:4},{value:"Flask (Python)",id:"flask-python",children:[],level:4},{value:"Spring (Java)",id:"spring-java",children:[],level:4},{value:"AWS API Gateway",id:"aws-api-gateway",children:[],level:4}],level:3},{value:"En r\xe9sum\xe9",id:"en-r\xe9sum\xe9-3",children:[],level:3}],level:2},{value:"R\xe9sum\xe9 du cours",id:"r\xe9sum\xe9-du-cours",children:[],level:2},{value:"Quiz : Concevez des API REST",id:"quiz--concevez-des-api-rest",children:[{value:"Comp\xe9tences \xe9valu\xe9es",id:"comp\xe9tences-\xe9valu\xe9es",children:[],level:4},{value:"Description",id:"description",children:[],level:4},{value:"Question 1 : Commencez par d\xe9finir votre collection. Sachant que <em>citation</em> se dit \u201cquote\u201d en anglais, comment allez-vous la nommer ?",id:"question-1--commencez-par-d\xe9finir-votre-collection-sachant-que-citation-se-dit-quote-en-anglais-comment-allez-vous-la-nommer-",children:[],level:4},{value:"Question 2 : Maintenant que vous avez d\xe9termin\xe9 votre collection, comment nommez-vous votre ressource ?",id:"question-2--maintenant-que-vous-avez-d\xe9termin\xe9-votre-collection-comment-nommez-vous-votre-ressource-",children:[],level:4},{value:"Question 3 : Le premier endpoint que vous devez cr\xe9er doit retourner la liste de toutes les citations. Quelle URI allez-vous utiliser ?",id:"question-3--le-premier-endpoint-que-vous-devez-cr\xe9er-doit-retourner-la-liste-de-toutes-les-citations-quelle-uri-allez-vous-utiliser-",children:[],level:4},{value:"Question 4 : \xc0 pr\xe9sent, vous devez obtenir une citation gr\xe2ce \xe0 son ID, quelle URI allez-vous utiliser ?",id:"question-4--\xe0-pr\xe9sent-vous-devez-obtenir-une-citation-gr\xe2ce-\xe0-son-id-quelle-uri-allez-vous-utiliser-",children:[],level:4},{value:"Question 5 : Vous voulez maintenant que les utilisateurs de votre API puissent obtenir toutes les citations d\u2019un personnage. Quelle URI utilisez-vous ?",id:"question-5--vous-voulez-maintenant-que-les-utilisateurs-de-votre-api-puissent-obtenir-toutes-les-citations-dun-personnage-quelle-uri-utilisez-vous-",children:[],level:4},{value:"Question 6 : Parmi les propositions suivantes, laquelle permet de supprimer une citation ?",id:"question-6--parmi-les-propositions-suivantes-laquelle-permet-de-supprimer-une-citation-",children:[],level:4},{value:"Question 7 : Vous avez cr\xe9\xe9 les endpoints pour obtenir la liste de toutes les citations, puis d\u2019une citation en particulier. Maintenant, vous souhaitez cr\xe9er un endpoint pour obtenir toutes les citations d\u2019un film pr\xe9cis. Quelle URI utilisez-vous ?",id:"question-7--vous-avez-cr\xe9\xe9-les-endpoints-pour-obtenir-la-liste-de-toutes-les-citations-puis-dune-citation-en-particulier-maintenant-vous-souhaitez-cr\xe9er-un-endpoint-pour-obtenir-toutes-les-citations-dun-film-pr\xe9cis-quelle-uri-utilisez-vous-",children:[],level:4},{value:"Question 8 : Parmi les propositions suivantes, laquelle modifierait la citation \u201cLuke, I am your father!\u201d en \u201cNo, I am your father.\u201d ?",id:"question-8--parmi-les-propositions-suivantes-laquelle-modifierait-la-citation-luke-i-am-your-father-en-no-i-am-your-father-",children:[],level:4},{value:"Question 9 : Vous voulez \xe9toffer votre API et permettre aux utilisateurs de passer plusieurs param\xe8tres dans une requ\xeate. Quel signe utilisez-vous ?",id:"question-9--vous-voulez-\xe9toffer-votre-api-et-permettre-aux-utilisateurs-de-passer-plusieurs-param\xe8tres-dans-une-requ\xeate-quel-signe-utilisez-vous-",children:[],level:4},{value:"Question 10 : Pour cette question, on consid\xe8re qu\u2019une ressource Quote a pour attributs :",id:"question-10--pour-cette-question-on-consid\xe8re-quune-ressource-quote-a-pour-attributs-",children:[],level:4}],level:2}],p={toc:m};function c(e){var s=e.components,n=(0,o.Z)(e,i);return(0,r.mdx)("wrapper",(0,t.Z)({},p,n,{components:s,mdxType:"MDXLayout"}),(0,r.mdx)("h1",{id:"concevez-des-api-rest"},"Concevez des API REST"),(0,r.mdx)("h2",{id:"d\xe9finissez-la-structure-de-votre-api-rest"},"D\xe9finissez la structure de votre API REST"),(0,r.mdx)("p",null,(0,r.mdx)("a",{parentName:"p",href:"https://openclassrooms.com/fr/courses/6573181-adoptez-les-api-rest-pour-vos-projets-web/6824631-definissez-la-structure-de-votre-api-rest"},"D\xe9finissez la structure de votre API REST - Adoptez les API REST pour vos projets web - OpenClassrooms")),(0,r.mdx)(a.fG,{vimeoId:"390934099",mdxType:"Vimeo"}),(0,r.mdx)("br",null),(0,r.mdx)("h3",{id:"pr\xe9parez-vous-\xe0-concevoir-votre-propre-api-rest"},"Pr\xe9parez-vous \xe0 concevoir votre propre API REST"),(0,r.mdx)("p",null,"Maintenant que vous avez vu comment ",(0,r.mdx)("strong",{parentName:"p"},"utiliser")," une API externe, parlons davantage de quand et comment ",(0,r.mdx)("strong",{parentName:"p"},"construire")," concr\xe8tement une API\nREST vous-m\xeame."),(0,r.mdx)("p",null,"Pourquoi aurais-je besoin de construire ma propre API REST\u2009? Je ne peux pas utiliser l\u2019une de ces milliers d\u2019API qui existent et dont tu nous\nas parl\xe9 dans la derni\xe8re partie ? \ud83e\udd14"),(0,r.mdx)("p",null,"Il existe deux raisons ",(0,r.mdx)("strong",{parentName:"p"},"principales")," pour lesquelles vous pourriez vouloir d\xe9velopper votre propre API :"),(0,r.mdx)("ol",null,(0,r.mdx)("li",{parentName:"ol"},"Si vous construisez votre propre application web ou mobile, par exemple pour des recettes de cuisine, o\xf9 vous savez que vous devrez\n",(0,r.mdx)("strong",{parentName:"li"},"sauvegarder et manipuler beaucoup de donn\xe9es"),". \ud83c\udf73 Vous auriez absolument besoin d\u2019une base de donn\xe9es, mais il n\u2019est pas souhaitable que les\nd\xe9veloppeurs front-end aient besoin de conna\xeetre SQL pour pouvoir afficher les informations sur votre UI. Vous voulez aussi respecter les\nnormes pour les applications web pour qu\u2019il y ait une couche API entre votre base de donn\xe9es et l\u2019acc\xe8s \xe0 vos donn\xe9es. Vous ne voulez pas que\nn\u2019importe quel d\xe9veloppeur soit en capacit\xe9 d\u2019acc\xe9der directement \xe0 votre base de donn\xe9es, pour des questions de s\xe9curit\xe9 et de confidentialit\xe9.\nEt vous voulez une mani\xe8re rapide et efficace de rechercher et requ\xeater les donn\xe9es existantes. Pour ce faire, vous aurez besoin d\u2019une API\ninterne."),(0,r.mdx)("li",{parentName:"ol"},"Si vous construisez une application web ou mobile o\xf9 ",(0,r.mdx)("strong",{parentName:"li"},"vous voulez que d\u2019autres d\xe9veloppeurs soient en capacit\xe9 d\u2019interagir avec vos donn\xe9es"),".\nPar exemple, une application o\xf9 vous collectez des donn\xe9es sur les personnages de votre s\xe9rie t\xe9l\xe9 favorite et o\xf9 vous voulez que d\u2019autres\nd\xe9veloppeurs puissent ajouter et utiliser des donn\xe9es.")),(0,r.mdx)("div",{className:"admonition admonition-info alert alert--info"},(0,r.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,r.mdx)("h5",{parentName:"div"},(0,r.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,r.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.mdx)("div",{parentName:"div",className:"admonition-content"},(0,r.mdx)("p",{parentName:"div"},"UI signifie User Interface ou interface utilisateur en fran\xe7ais. Le terme UI fait r\xe9f\xe9rence \xe0 l\u2019interface utilisateur par le biais de laquelle\nl\u2019utilisateur interagit, que ce soit un site internet, un logiciel ou une application mobile."))),(0,r.mdx)("h3",{id:"lancez-vous-dans-la-conception-de-votre-api"},"Lancez-vous dans la conception de votre API"),(0,r.mdx)("p",null,"Comme pour toute chose un peu compliqu\xe9e, un ",(0,r.mdx)("strong",{parentName:"p"},"design")," r\xe9fl\xe9chi et structur\xe9 est essentiel pour obtenir un succ\xe8s sur le long terme. C\u2019est\npeut-\xeatre facile de commencer par tout construire tout de suite en fon\xe7ant t\xeate baiss\xe9e, mais avant de vous ruer sur votre clavier, vous devez\nr\xe9fl\xe9chir aux concepts de design-cl\xe9s qui rendront votre API plus ",(0,r.mdx)("strong",{parentName:"p"},"agr\xe9able d\u2019utilisation")," et plus ",(0,r.mdx)("strong",{parentName:"p"},"facile \xe0 scaler.")),(0,r.mdx)("div",{className:"admonition admonition-info alert alert--info"},(0,r.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,r.mdx)("h5",{parentName:"div"},(0,r.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,r.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.mdx)("div",{parentName:"div",className:"admonition-content"},(0,r.mdx)("p",{parentName:"div"},"Scaler vient de l\u2019anglais to scale et signifie en quelques mots la capacit\xe9 de votre application/logiciel/site internet \xe0 s\u2019adapter et \xe0\nfonctionner m\xeame en cas de forte augmentation soudaine du trafic,\xa0de demandes ou juste d\u2019un grand nombre de fonctionnalit\xe9s impl\xe9ment\xe9es."))),(0,r.mdx)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,r.mdx)("h5",{parentName:"div"},(0,r.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,r.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"?")),(0,r.mdx)("div",{parentName:"div",className:"admonition-content"},(0,r.mdx)("p",{parentName:"div"},"OK allons-y. Par quoi commence-t-on ? \ud83e\udd14"))),(0,r.mdx)("p",null,"Allons-y \xe9tape par \xe9tape. Commencez d'abord par vous poser des questions sur les fonctionnalit\xe9s importantes dont vous avez besoin pour votre\nAPI :"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},"De quel type d\u2019endpoints avez-vous besoin\u2009?"),(0,r.mdx)("li",{parentName:"ul"},"Quelles ressources devez-vous cr\xe9er\u2009?"),(0,r.mdx)("li",{parentName:"ul"},"De quelles ressources avez-vous besoin pour y effectuer les op\xe9rations ",(0,r.mdx)("strong",{parentName:"li"},"CRUD")," ?"),(0,r.mdx)("li",{parentName:"ul"},"Avez-vous besoin des quatre op\xe9rations ",(0,r.mdx)("strong",{parentName:"li"},"CRUD")," pour chaque ressource\u2009? Ou seulement d\u2019une ou deux\u2009?")),(0,r.mdx)("p",null,"Une fois que vous aurez r\xe9pondu \xe0 ces questions, vous serez pr\xeat \xe0 commencer \xe0 pr\xe9parer\u2026 votre documentation."),(0,r.mdx)("h3",{id:"documentez-toute-la-journ\xe9e--d\xe9couvrez-pourquoi-une-documentation-adapt\xe9e-est-essentielle"},"Documentez toute la journ\xe9e : d\xe9couvrez pourquoi une documentation adapt\xe9e est essentielle"),(0,r.mdx)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,r.mdx)("h5",{parentName:"div"},(0,r.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,r.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"?")),(0,r.mdx)("div",{parentName:"div",className:"admonition-content"},(0,r.mdx)("p",{parentName:"div"},"Attends, on n'est pas cens\xe9 cr\xe9er une API ? Pourquoi est-ce que la documentation arrive tout de suite, on peut la faire \xe0 la fin non ? \ud83d\ude44"))),(0,r.mdx)("p",null,"Non, non, non ! Lors des chapitres pr\xe9c\xe9dents nous avons d\xfb consulter la documentation GitHub afin de pouvoir utiliser l\u2019API comme il se doit.\nSans toutes les informations de la documentation, nous aurions eu du mal \xe0 avoir le bon endpoint ou savoir quels param\xe8tres pr\xe9ciser...\nLa documentation est une des partie ",(0,r.mdx)("strong",{parentName:"p"},"les plus importantes")," des API ! Quand vous cr\xe9ez une API, vous devez \xe9galement tenir compte des\n",(0,r.mdx)("strong",{parentName:"p"},"autres d\xe9veloppeurs")," qui utilisent votre API. Cela implique d\u2019avoir une bonne ",(0,r.mdx)("strong",{parentName:"p"},"documentation")," pour qu\u2019ils puissent facilement comprendre\nce que votre API peut accomplir et comment l\u2019utiliser."),(0,r.mdx)("p",null,"Comme vous l\u2019avez vu avec la documentation GitHub, de nombreuses informations doivent \xeatre expliqu\xe9es \xe0 votre utilisateur API. Elles incluent :"),(0,r.mdx)("ol",null,(0,r.mdx)("li",{parentName:"ol"},"Les descriptions des ressources API."),(0,r.mdx)("li",{parentName:"ol"},"Les URI et verbes HTTP disponibles ainsi que leur fonction."),(0,r.mdx)("li",{parentName:"ol"},"Les param\xe8tres (s\u2019il y en a) qui doivent \xeatre donn\xe9s \xe0 l\u2019endpoint."),(0,r.mdx)("li",{parentName:"ol"},"Un exemple de requ\xeate."),(0,r.mdx)("li",{parentName:"ol"},"Une r\xe9ponse typique pour la requ\xeate donn\xe9e.")),(0,r.mdx)("p",null,"Chaque API organise la documentation de mani\xe8re l\xe9g\xe8rement diff\xe9rente, mais voici quelques bons exemples pour vous aider."),(0,r.mdx)("h4",{id:"documentation-de-lapi-stripe"},"Documentation de l\u2019API Stripe"),(0,r.mdx)("p",null,"Dans ",(0,r.mdx)("a",{parentName:"p",href:"https://stripe.com/docs/api"},"l\u2019API de Stripe")," vous pouvez clairement voir que la documentation d\xe9crit l\u2019URL de la ressource et les\ninformations pertinentes que les d\xe9veloppeurs doivent pouvoir comprendre."),(0,r.mdx)("figure",null,(0,r.mdx)("img",{src:"https://user.oc-static.com/upload/2021/10/15/16343004171489_image11.png",alt:"Un exemple dans la documentation de Stripe"}),(0,r.mdx)("figcaption",null,"Un exemple dans la documentation de Stripe")),(0,r.mdx)("figure",null,(0,r.mdx)("img",{src:"https://user.oc-static.com/upload/2021/10/15/16343004670458_image24.png",alt:"Un exemple dans la documentation de Stripe"}),(0,r.mdx)("figcaption",null,"Un exemple dans la documentation de Stripe")),(0,r.mdx)("p",null,"La ",(0,r.mdx)("a",{parentName:"p",href:"https://stripe.com/docs/api/charges/create"},"documentation")," montre \xe9galement un exemple de r\xe9ponse aux requ\xeates API :"),(0,r.mdx)("figure",null,(0,r.mdx)("img",{src:"https://user.oc-static.com/upload/2021/10/15/16343005147954_image46.png",alt:"Un exemple de r\xe9ponse dans la documentation Stripe"}),(0,r.mdx)("figcaption",null,"Un exemple de r\xe9ponse dans la documentation Stripe")),(0,r.mdx)("h4",{id:"documentation-de-lapi-pinterest"},"Documentation de l\u2019API Pinterest"),(0,r.mdx)("p",null,"L\u2019",(0,r.mdx)("a",{parentName:"p",href:"https://developers.pinterest.com/docs/api/pins/"},"API Pinterest")," contient un bon exemple d\u2019affichage d\u2019un verbe HTTP, d\u2019un URI, de\nparam\xe8tres, et d\u2019une description de la fonction de l\u2019endpoint.\xa0"),(0,r.mdx)("figure",null,(0,r.mdx)("img",{src:"https://user.oc-static.com/upload/2021/10/15/16343005723491_image27.png",alt:"Documentation de l\u2019API Pinterest : tableau en 3 colonnes Definition, Parameters et Description."}),(0,r.mdx)("figcaption",null,"Documentation de l\u2019API Pinterest")),(0,r.mdx)("p",null,"La documentation donne de nombreuses informations sur les endpoints et les requ\xeates, mais elle se doit aussi de documenter la gestion des\nerreurs."),(0,r.mdx)("h3",{id:"g\xe9rez-les-erreurs-\ufe0f"},"G\xe9rez les erreurs \ud83d\ude45\u200d\u2640\ufe0f"),(0,r.mdx)("p",null,"Comme nous l\u2019avons vu dans les chapitres pr\xe9c\xe9dents, une requ\xeate peut \xeatre un succ\xe8s mais aussi un \xe9chec, et ce pour diverses raisons :\nressource introuvable, serveur indisponible\u2026 Votre API doit avoir une bonne ",(0,r.mdx)("strong",{parentName:"p"},"gestion des erreurs"),". Si un d\xe9veloppeur essaye accidentellement\nd\u2019utiliser votre API pour un usage non souhait\xe9 (authentification incorrecte, lettres inutiles ajout\xe9es \xe0 une requ\xeate), votre API doit \xeatre\ncapable de dire \xe0 l\u2019utilisateur quelle a \xe9t\xe9 son erreur pour qu\u2019il puisse la corriger. Et oui, personne n\u2019est \xe0 l\u2019abri d\u2019une faute de frappe !\nLe code HTTP donne une information sur le type d\u2019erreur mais est g\xe9n\xe9ralement accompagn\xe9 d\u2019un message d\u2019erreur dans le body de r\xe9ponse."),(0,r.mdx)("p",null,"Vous avez vu \xe0 quoi ressemblaient certaines erreurs dans l\u2019API GitHub lorsque nous avons voulu cr\xe9er un repository dans la derni\xe8re partie.\nSouvenez-vous, quand nous avons essay\xe9 d\u2019effectuer une requ\xeate sans notre token d\u2019authentification, nous avons re\xe7u la r\xe9ponse suivante :"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-json"},'{\n    "message": "Requires authentication",\n    "documentation_url": "https://developer.github.com/v3/repos/#edit"\n}\n')),(0,r.mdx)("p",null,"C\u2019est ainsi que gr\xe2ce au message d\u2019erreur nous avons su que nous avions oubli\xe9 notre code d\u2019authentification\u2009! Il existe de nombreux types\nd\u2019erreurs diff\xe9rents pouvant se produire dans votre API qui, si elles sont g\xe9r\xe9es correctement, peuvent faciliter la vie des d\xe9veloppeurs\nlorsqu\u2019ils utilisent votre API. \ud83d\udcaa"),(0,r.mdx)("p",null,"L\u2019",(0,r.mdx)("a",{parentName:"p",href:"https://www.meetup.com/fr-FR/meetup_api/docs/?uri=%2Fmeetup_api%2Fdocs%2F"},"API de Meetup")," contient un bon exemple de toutes les erreurs\ndiff\xe9rentes qui peuvent se produire quand vous utilisez leur API et ce qu\u2019elles signifient :"),(0,r.mdx)("p",null,"Toutes les erreurs possibles de l\u2019API Meetup"),(0,r.mdx)("table",null,(0,r.mdx)("thead",{parentName:"table"},(0,r.mdx)("tr",{parentName:"thead"},(0,r.mdx)("th",{parentName:"tr",align:null}),(0,r.mdx)("th",{parentName:"tr",align:null}))),(0,r.mdx)("tbody",{parentName:"table"},(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},"announce_error"),(0,r.mdx)("td",{parentName:"tr",align:null},"Erreur dans l\u2019annonce d\u2019un \xe9v\xe9nement")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},"description_error"),(0,r.mdx)("td",{parentName:"tr",align:null},"D\xe9sol\xe9, votre description Meetup est trop longue")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},"duration_error"),(0,r.mdx)("td",{parentName:"tr",align:null},"La dur\xe9e de cet \xe9v\xe9nement n\u2019est pas valide.")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},"event_error"),(0,r.mdx)("td",{parentName:"tr",align:null},"L\u2019ID fourni ne correspond pas \xe0 un \xe9v\xe8nement pouvant \xeatre modifi\xe9")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},"event_hosts_error"),(0,r.mdx)("td",{parentName:"tr",align:null},"Un ou plusieurs des membres donn\xe9s ne sont pas des membres actifs de ce groupe")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},"featured_photo_id_error"),(0,r.mdx)("td",{parentName:"tr",align:null},"Il y a un probl\xe8me avec la photo fournie.")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},"fee.amount_error"),(0,r.mdx)("td",{parentName:"tr",align:null},"Si le groupe se trouve aux \xc9tats-Unis, le montant \xe0 acquitter ne peut pas exc\xe9der 4999. Sinon, il ne peut pas exc\xe9der 1\u2009000\u2009000.")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},"fee.refund_policy_error"),(0,r.mdx)("td",{parentName:"tr",align:null},"La politique de remboursement de fonds ne peut pas exc\xe9der 250.")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},"guest_limit_error"),(0,r.mdx)("td",{parentName:"tr",align:null},"Le nombre d\u2019invit\xe9s maximum n\u2019est pas valide.")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},"how_to_find_us_error"),(0,r.mdx)("td",{parentName:"tr",align:null},"Votre description \xab\u2009Comment nous retrouver\u2009\xbb est trop longue.")))),(0,r.mdx)("p",null,"Une partie n\xe9cessaire et importante lors de la conception de votre API est la r\xe9flexion sur les possibilit\xe9s de mauvaise utilisation par les\nutilisateurs\u2009! Ainsi en fonction de l\u2019erreur, vous pouvez renvoyer le message appropri\xe9 dans la r\xe9ponse."),(0,r.mdx)("h4",{id:"en-r\xe9sum\xe9"},"En r\xe9sum\xe9"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},"Vous pouvez construire une API soit pour l\u2019utiliser dans votre propre application, soit pour que d\u2019autres d\xe9veloppeurs puissent interagir\navec vos donn\xe9es."),(0,r.mdx)("li",{parentName:"ul"},"Il est important en concevant une API de penser \xe0 toutes les fonctionnalit\xe9s n\xe9cessaires avant de commencer \xe0 la d\xe9velopper."),(0,r.mdx)("li",{parentName:"ul"},"La documentation et une bonne gestion des erreurs sont importantes pour que d\u2019autres d\xe9veloppeurs puissent comprendre votre API.")),(0,r.mdx)("p",null,(0,r.mdx)("em",{parentName:"p"},"Maintenant que vous avez les bases, concevez les endpoints de votre API. OK, mais comment faire ? Voyons cela ensemble dans le chapitre\nsuivant.")),(0,r.mdx)("hr",null),(0,r.mdx)("h2",{id:"concevez-les-endpoints-de-votre-api"},"Concevez les endpoints de votre API"),(0,r.mdx)("p",null,(0,r.mdx)("a",{parentName:"p",href:"https://openclassrooms.com/fr/courses/6573181-adoptez-les-api-rest-pour-vos-projets-web/6824856-concevez-les-endpoints-de-votre-api"},"Concevez les endpoints de votre API - Adoptez les API REST pour vos projets web - OpenClassrooms")),(0,r.mdx)(a.fG,{vimeoId:"390934149",mdxType:"Vimeo"}),(0,r.mdx)("br",null),(0,r.mdx)("p",null,"Lors de la cr\xe9ation d\u2019une API, il est important de ne pas se lancer t\xeate baiss\xe9e et de r\xe9fl\xe9chir \xe0 l\u2019architecture de votre API, quitte \xe0 tout\nposer sur papier avant. Quel sera le r\xf4le de votre API ? Quelles seront les ressources ? Quels seront les diff\xe9rents acc\xe8s autoris\xe9s pour les\nutilisateurs ?"),(0,r.mdx)("p",null,"Bien structurer votre API d\xe8s le d\xe9but de sa conception vous permettra d\u2019anticiper les erreurs mais aussi d\u2019avoir une API plus solide et mieux\ncon\xe7ue."),(0,r.mdx)("p",null,"Dans ce chapitre, vous ne coderez pas une API mais allez la concevoir. C\u2019est un exercice de r\xe9flexion, afin de vous pr\xe9parer au mieux \xe0 la\ncr\xe9ation d\u2019une API."),(0,r.mdx)("h3",{id:"concevez-une-api-de-partage-de-photos"},"Concevez une API de partage de photos"),(0,r.mdx)("p",null,"Dans cette partie, nous allons r\xe9fl\xe9chir \xe0 la mani\xe8re de concevoir une API pour une application de partage de photos nomm\xe9e InstaPhoto. \ud83d\udcf8 Nous\nvoulons que les utilisateurs puissent publier et partager des photos avec leurs amis, commenter les photos des autres, cr\xe9er des hashtags,\nrechercher des photos par localisation, la totale, le grand jeu !"),(0,r.mdx)("p",null,"Prenez une minute pour \xe9crire ce \xe0 quoi vous avez besoin de r\xe9fl\xe9chir lors de la conception d\u2019une API pour InstaPhoto. De quelles ",(0,r.mdx)("strong",{parentName:"p"},"ressources"),"\navez-vous besoin\u2009? Quels ",(0,r.mdx)("strong",{parentName:"p"},"URI")," seraient compr\xe9hensibles par d\u2019autres d\xe9veloppeurs ? C\u2019est aussi une belle occasion de revoir ce que vous avez\nappris dans les parties pr\xe9c\xe9dentes \u2009!"),(0,r.mdx)("p",null,"Voici quelques exemples de ",(0,r.mdx)("strong",{parentName:"p"},"ressources")," dont vous aurez absolument besoin :"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},"Photo ;"),(0,r.mdx)("li",{parentName:"ul"},"User ;"),(0,r.mdx)("li",{parentName:"ul"},"Location (",(0,r.mdx)("em",{parentName:"li"},"localisation"),", en fran\xe7ais) ;"),(0,r.mdx)("li",{parentName:"ul"},"Post.")),(0,r.mdx)("p",null,"\xc0 partir de l\xe0, vous pouvez commencer \xe0 r\xe9fl\xe9chir \xe0 des questions importantes, comme celles-ci :"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},"Quels endpoints auront besoin d\u2019autorisations\u2009?"),(0,r.mdx)("li",{parentName:"ul"},"Quelles ressources voulez-vous pouvoir mettre \xe0 jour\u2009?"),(0,r.mdx)("li",{parentName:"ul"},"Aurez-vous besoin de pouvoir modifier des publications apr\xe8s leur cr\xe9ation\u2009?"),(0,r.mdx)("li",{parentName:"ul"},"Les commentaires doivent-ils pouvoir \xeatre supprim\xe9s\u2009?"),(0,r.mdx)("li",{parentName:"ul"},"Avez-vous besoin de toutes les op\xe9rations CRUD pour chaque ressource\u2009? Ou seulement d\u2019une ou deux\u2009? Lesquelles ?")),(0,r.mdx)("p",null,"Il n\u2019y a pas de bonne ou de mauvaise r\xe9ponse ici \u2013 cela d\xe9pend simplement de l\u2019application InstaPhoto que vous voulez d\xe9velopper\u2009! \xc0 vous de\nchoisir ! \u2728"),(0,r.mdx)("h3",{id:"cr\xe9ez-vos-endpoints"},"Cr\xe9ez vos endpoints"),(0,r.mdx)("p",null,"Lors de la conception d\u2019endpoints, le ",(0,r.mdx)("strong",{parentName:"p"},"naming")," (ou ",(0,r.mdx)("em",{parentName:"p"},"nommage"),", en fran\xe7ais) est un \xe9l\xe9ment cl\xe9. Vous voulez que les d\xe9veloppeurs qui\nl\u2019utilisent comprennent naturellement ce que chaque endpoint est cens\xe9 faire. Les conventions de naming actuelles demandent d\u2019inclure\nuniquement la ",(0,r.mdx)("strong",{parentName:"p"},"ressource")," que vous voulez mettre \xe0 jour, et non le ",(0,r.mdx)("strong",{parentName:"p"},"verbe")," que vous voulez mettre en \u0153uvre."),(0,r.mdx)("p",null,"Pour faire simple, utilisez ",(0,r.mdx)("em",{parentName:"p"},"uniquement")," le ",(0,r.mdx)("strong",{parentName:"p"},"nom de la ressource")," dans l\u2019URI, car l\u2019action se trouve d\xe9j\xe0 dans le verbe HTTP. Cela donnerait :"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},"POST /photo"),(0,r.mdx)("li",{parentName:"ul"},"PUT /photo"),(0,r.mdx)("li",{parentName:"ul"},"GET /photo")),(0,r.mdx)("p",null,"Puisque que le ",(0,r.mdx)("strong",{parentName:"p"},"verbe")," de l\u2019action est d\xe9j\xe0 inclus dans la requ\xeate HTTP, il n\u2019est pas n\xe9cessaire de le pr\xe9ciser lors de la conception des\nendpoints."),(0,r.mdx)("p",null,"Pour que vous puissiez mieux comprendre, des endpoints mal nomm\xe9s ressembleraient \xe0 ceci :"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},"POST /createPhoto"),(0,r.mdx)("li",{parentName:"ul"},"PUT /updatePhoto"),(0,r.mdx)("li",{parentName:"ul"},"GET /getPhoto")),(0,r.mdx)("h3",{id:"simulez-des-endpoints-suppl\xe9mentaires"},"Simulez des endpoints suppl\xe9mentaires"),(0,r.mdx)("p",null,"Consid\xe9rons les endpoints possibles pour notre InstaPhoto."),(0,r.mdx)("p",null,"Ici aussi, il n\u2019y a pas de bonne ou de mauvaise r\xe9ponse, cela d\xe9pend simplement des besoins de votre application et de la fa\xe7on dont vous\nvoulez la concevoir."),(0,r.mdx)("p",null,"Imaginons que vous vouliez que les utilisateurs soient en capacit\xe9 de cr\xe9er, voir et supprimer des photos \u2013 mais pas de les modifier une fois\npubli\xe9es. Tous ces \xe9l\xe9ments n\xe9cessitent \xe9galement une authentification, car vous ne voudriez pas que les utilisateurs puissent publier, modifier\nou supprimer des photos qui ne leur appartiennent pas\u2009! \ud83d\udd10"),(0,r.mdx)("p",null,"Maintenant, prenez une feuille de papier et \xe9crivez quelques endpoints pour ",(0,r.mdx)("strong",{parentName:"p"},"cr\xe9er, voir et supprimer des photos"),". Rappelez-vous que vous\nvoudrez peut-\xeatre sp\xe9cifier une photo en particulier \xe0 visionner et \xe0 mettre \xe0 jour, non\u2009? \ud83d\ude09 Une fois que vous aurez fini, regardez juste\nen-dessous si ce que vous avez \xe9crit correspond \xe0 mes r\xe9ponses."),(0,r.mdx)("div",{className:"admonition admonition-info alert alert--info"},(0,r.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,r.mdx)("h5",{parentName:"div"},(0,r.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,r.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.mdx)("div",{parentName:"div",className:"admonition-content"},(0,r.mdx)("p",{parentName:"div"},"Alors, curieux de conna\xeetre mes r\xe9ponses ? Rendez-vous ",(0,r.mdx)("a",{parentName:"p",href:"https://s3-eu-west-1.amazonaws.com/course.oc-static.com/courses/6824856/Solution+endpoints.pdf"},(0,r.mdx)("strong",{parentName:"a"},"ici")),"."),(0,r.mdx)("embed",{style:{width:"100%",height:"667px"},src:"https://s3-eu-west-1.amazonaws.com/course.oc-static.com/courses/6824856/Solution+endpoints.pdf"}))),(0,r.mdx)("p",null,"Vu que l\u2019on veut g\xe9n\xe9ralement voir ou supprimer des photos en particulier, le fait d\u2019ajouter un ID pour les deux derniers endpoints est logique.\nIl permet \xe0 l\u2019API de savoir de quelle photo il s\u2019agit."),(0,r.mdx)("p",null,"Et maintenant, vos utilisateurs\u2009! De quels verbes HTTP aurez-vous besoin pour un compte utilisateur\u2009? \ud83e\udd14 Et puis, m\xeame si vous ne voulez pas\nque les utilisateurs puissent modifier leurs photos une fois qu\u2019elles sont d\xe9j\xe0 cr\xe9\xe9es, il doivent au moins pouvoir ",(0,r.mdx)("strong",{parentName:"p"},"modifier leur profil\nutilisateur")," ! Par ailleurs, vous voulez qu\u2019ils puissent ",(0,r.mdx)("strong",{parentName:"p"},"voir les informations disponibles publiquement sur un utilisateur")," sans\nauthentification (exactement comme l\u2019API GitHub) ; donc pour cet endpoint, vous n\u2019aurez pas besoin d\u2019authentification. Quelles sortes\nd\u2019endpoint pourriez-vous concevoir pour cela\u2009?"),(0,r.mdx)("div",{className:"admonition admonition-info alert alert--info"},(0,r.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,r.mdx)("h5",{parentName:"div"},(0,r.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,r.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.mdx)("div",{parentName:"div",className:"admonition-content"},(0,r.mdx)("p",{parentName:"div"},"Retrouvez mes r\xe9sultats ",(0,r.mdx)("a",{parentName:"p",href:"https://s3-eu-west-1.amazonaws.com/course.oc-static.com/courses/6824856/Solution+utilisateurs.pdf"},(0,r.mdx)("strong",{parentName:"a"},"ici")),"."),(0,r.mdx)("embed",{style:{width:"100%",height:"667px"},src:"https://s3-eu-west-1.amazonaws.com/course.oc-static.com/courses/6824856/Solution+utilisateurs.pdf"}))),(0,r.mdx)("p",null,"Et maintenant, les commentaires \u2009! Comment les ajouter\u2009? Si vous voulez que les utilisateurs puissent commenter les photos d\u2019un autre\nutilisateur, il vous faudra imbriquer une ressource dans une autre. Et ce, parce qu\u2019un commentaire doit \xeatre associ\xe9 \xe0 une photo sp\xe9cifique.\nPar exemple, imaginons que vous vouliez cr\xe9er un nouveau commentaire pour une photo avec ID. Vous pourriez cr\xe9er l\u2019endpoint POST\n/photos/{photoId}/comments. Utilisez POST parce que vous cr\xe9ez quelque chose. Ensuite, travaillez en arri\xe8re : cr\xe9ez un commentaire (/comments)\npour une photo sp\xe9cifique (/{photoId}) parmi toutes les autres photos (/photos)."),(0,r.mdx)("p",null,"Et maintenant, voici une description de trois endpoints suppl\xe9mentaires que vous devrez cr\xe9er :"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},"obtenir tous les commentaires pour une photo sp\xe9cifique avec l\u2019ID {photoId} ;"),(0,r.mdx)("li",{parentName:"ul"},"obtenir le commentaire avec l\u2019ID {commentId} pour la photo avec l\u2019ID {photoId} ;"),(0,r.mdx)("li",{parentName:"ul"},"supprimer le commentaire avec l\u2019ID {commentId} pour la photo avec l\u2019ID {photoId}.")),(0,r.mdx)("p",null,"Vous ne voulez pas que les commentaires soient modifiables, n\u2019incluez donc pas d\u2019endpoint pour cela. Essayez d\u2019\xe9crire les endpoints pour ces\ntrois \xe9l\xe9ments."),(0,r.mdx)("div",{className:"admonition admonition-info alert alert--info"},(0,r.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,r.mdx)("h5",{parentName:"div"},(0,r.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,r.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.mdx)("div",{parentName:"div",className:"admonition-content"},(0,r.mdx)("p",{parentName:"div"},"Vous trouverez mes r\xe9ponses ",(0,r.mdx)("a",{parentName:"p",href:"https://s3-eu-west-1.amazonaws.com/course.oc-static.com/courses/6824856/Solution+nouveaux+endpoints.pdf"},(0,r.mdx)("strong",{parentName:"a"},"ici")),"."),(0,r.mdx)("embed",{style:{width:"100%",height:"667px"},src:"https://s3-eu-west-1.amazonaws.com/course.oc-static.com/courses/6824856/Solution+nouveaux+endpoints.pdf"}))),(0,r.mdx)("p",null,"Tous ces endpoints n\xe9cessitent une authentification, car ils doivent seulement \xeatre modifiables par l\u2019utilisateur qui les a cr\xe9\xe9s, et non les\nautres. Et vous pourriez adopter le m\xeame mode de raisonnement pour toutes les autres ressources dont vous aurez besoin."),(0,r.mdx)("div",{className:"admonition admonition-info alert alert--info"},(0,r.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,r.mdx)("h5",{parentName:"div"},(0,r.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,r.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.mdx)("div",{parentName:"div",className:"admonition-content"},(0,r.mdx)("p",{parentName:"div"},"Rappel : ici, nous avons seulement con\xe7u les endpoints. Les informations suppl\xe9mentaires comme par exemple le contenu du commentaire, ou le nom\nde l\u2019utilisateur que vous souhaitez modifier, seront contenus dans le body."))),(0,r.mdx)("h3",{id:"en-r\xe9sum\xe9-1"},"En r\xe9sum\xe9"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},"Lors de la planification, pensez \xe0 quelles op\xe9rations CRUD seront n\xe9cessaires aux ressources."),(0,r.mdx)("li",{parentName:"ul"},"Utilisez des noms de ressources et non des verbes en nommant les endpoints."),(0,r.mdx)("li",{parentName:"ul"},"Pensez aux ressources que vous devrez imbriquer ",(0,r.mdx)("em",{parentName:"li"},"dans")," d\u2019autres ressources."),(0,r.mdx)("li",{parentName:"ul"},"Pensez aux ressources qui n\xe9cessiteront une authentification.")),(0,r.mdx)("p",null,(0,r.mdx)("em",{parentName:"p"},"Vous avez la liste des op\xe9rations CRUD n\xe9cessaires, vos ressources et leur nom, les ressources compl\xe9mentaires, celles qui n\xe9cessiteront une\nauthentification, la liste de vos endpoints. Votre base est solide, mais vous pouvez approfondir le tout avec la recherche, par exemple. Passez\nau chapitre suivant, nous allons \xe9toffer nos endpoints gr\xe2ce \xe0 quelques fonctionnalit\xe9s avanc\xe9es !")),(0,r.mdx)("hr",null),(0,r.mdx)("h2",{id:"utilisez-les-fonctionnalit\xe9s-avanc\xe9es-des-endpoints"},"Utilisez les fonctionnalit\xe9s avanc\xe9es des endpoints"),(0,r.mdx)("p",null,(0,r.mdx)("a",{parentName:"p",href:"https://openclassrooms.com/fr/courses/6573181-adoptez-les-api-rest-pour-vos-projets-web/6825136-utilisez-les-fonctionnalites-avancees-des-endpoints"},"Utilisez les fonctionnalit\xe9s avanc\xe9es des endpoints - Adoptez les API REST pour vos projets web - OpenClassrooms")),(0,r.mdx)(a.fG,{vimeoId:"390934206",mdxType:"Vimeo"}),(0,r.mdx)("br",null),(0,r.mdx)("p",null,"Jusqu\u2019\xe0 pr\xe9sent, nous avons uniquement vu des endpoints basiques pour obtenir une liste de ressources ou une ressource unique par ID. Mais il\nexiste tellement ",(0,r.mdx)("strong",{parentName:"p"},"plus")," de possibilit\xe9s avec les API \u2009! \ud83d\udcaa Selon la mani\xe8re dont vous concevez vos URI, vous pouvez cr\xe9er des requ\xeates plus\ncomplexes comme la recherche, le classement, et plus encore. Nous reprendrons l\u2019application InstaPhoto \ud83d\udcf8 pour d\xe9cider de quels types d\u2019URI\ncomplexes vous aurez besoin."),(0,r.mdx)("h3",{id:"filtrez"},"Filtrez"),(0,r.mdx)("p",null,"Et si vous vouliez que vos utilisateurs puissent rechercher des photos pour des lieux particuliers ? Faites entrer les filtres ! Vous pourriez\nconcevoir un endpoint comme celui-ci :"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-shell"},"GET /photos?location={locationId}\n")),(0,r.mdx)("p",null,"Ce \u2009\u201d?\u201d est nouveau\u2009! Le point d\u2019interrogation est un moyen pour l\u2019API de savoir que vous passez un ",(0,r.mdx)("strong",{parentName:"p"},"param\xe8tre"),". Un param\xe8tre est une donn\xe9e\nqui sera manipul\xe9e, utilis\xe9e d\u2019une certaine mani\xe8re par le client, le serveur ou le programme informatique vis\xe9 : ici, l\u2019API. Il vous permet de\ncr\xe9er une requ\xeate qui peut changer selon le terme recherch\xe9. Dans ce cas, vous voulez que les utilisateurs puissent rechercher une location\n(ou un lieu) \xe9gale \xe0 = locationId. Ainsi, vous pouvez \xe9crire tout ID de lieu dans le param\xe8tre de requ\xeate, et vous pourrez voir des photos de\nce lieu. \ud83d\ude4f\ud83c\udf0d"),(0,r.mdx)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,r.mdx)("h5",{parentName:"div"},(0,r.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,r.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"?")),(0,r.mdx)("div",{parentName:"div",className:"admonition-content"},(0,r.mdx)("p",{parentName:"div"},"Attends \u2013 je pensais que ces valeurs \xe9taient uniquement appel\xe9es ",(0,r.mdx)("em",{parentName:"p"},"endpoints")," quand elles contenaient le nom de domaine et l\u2019URI !"))),(0,r.mdx)("p",null,"C\u2019est une bonne remarque. Oui, les URI sont le chemin de la ressource, et un endpoint correspond au nom de domaine plus le chemin de la\nressource."),(0,r.mdx)("h3",{id:"recherchez"},"Recherchez"),(0,r.mdx)("p",null,"La recherche vous permet de faire une requ\xeate sur une liste de ressources correspondant \xe0 votre requ\xeate de recherche. OK, alors admettons que\nvous vouliez avoir un endpoint o\xf9 les utilisateurs peuvent rechercher toutes les photos qui ont un quelconque rapport avec le snowboard \ud83c\udfc2.\nVotre endpoint pourrait \xeatre celui-ci :"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-shell"},"GET /photos?search=snowboard\n")),(0,r.mdx)("p",null,"Si vous avez d\xe9j\xe0 utilis\xe9 la fonctionnalit\xe9 de recherche sur Twitter, vous avez pu constater que leur API de recherche fonctionne de fa\xe7on tr\xe8s\nsimilaire \u2009!"),(0,r.mdx)("figure",null,(0,r.mdx)("img",{src:"https://user.oc-static.com/upload/2021/10/15/16343012047223_image57.png",alt:"L\u2019API de recherche de Twitter \u2009: l'URL, la fonctionnalit\xe9 de recherche et le r\xe9sultat de la page sont encadr\xe9s en vert."}),(0,r.mdx)("figcaption",null,"L\u2019API de recherche de Twitter !")),(0,r.mdx)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,r.mdx)("h5",{parentName:"div"},(0,r.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,r.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"?")),(0,r.mdx)("div",{parentName:"div",className:"admonition-content"},(0,r.mdx)("p",{parentName:"div"},"Quelle est la diff\xe9rence entre le filtrage et la recherche, alors ? \ud83e\udd14"))),(0,r.mdx)("p",null,"C\u2019est une question courante, qui d\xe9pend de la fa\xe7on dont on trouve un \xe9l\xe9ment. Pour filtrer, vous partez d\u2019un \xe9l\xe9ment plus petit et plus\nsp\xe9cifique et vous collectez tous les items qui correspondent \xe0 cette valeur. Par exemple : vous allez chercher toutes les s\xe9ries comiques qui\ncommencent par la lettre C. Dans ce cas, vous filtrez."),(0,r.mdx)("p",null,"La recherche constitue une approche plus large et \xe9largit votre p\xe9rim\xe8tre \xe0 toute chose associ\xe9e \xe0 une certaine valeur."),(0,r.mdx)("h3",{id:"triez"},"Triez"),(0,r.mdx)("p",null,"Disons que vous voulez que vos utilisateurs voient tous leurs followers par ordre alphab\xe9tique ascendant et par nom de famille. Ce qui est\nassez complexe. Vous pouvez cr\xe9er un endpoint pour cela\u2009!"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-shell"},"GET /users/{userId}/followers?sort=lastName&order=asc\n")),(0,r.mdx)("p",null,"Le & est nouveau ici ! Il vous permet d\u2019",(0,r.mdx)("strong",{parentName:"p"},"encha\xeener")," diff\xe9rentes requ\xeates ensemble\u2009! Par exemple, vous pouvez trier les utilisateurs par\nlastName (nom de famille) en ",(0,r.mdx)("strong",{parentName:"p"},"ordre ascendant"),". Vous avez d\xe9j\xe0 vu un r\xe9sultat tri\xe9 quand vous naviguez sur le web. Mais si ! D\u2019habitude, vous\nvoulez voir les publications les plus ",(0,r.mdx)("strong",{parentName:"p"},"r\xe9centes")," sur Twitter ou Instagram \u2013 ce qui constitue en fait un ",(0,r.mdx)("strong",{parentName:"p"},"tri par date")," !"),(0,r.mdx)("p",null,"Vous pouvez encha\xeener tous types de requ\xeates diff\xe9rentes entre elles. Par exemple, si vous voulez voir tous les utilisateurs v\xe9rifi\xe9s avec le\npr\xe9nom (firstName) Jamie, vous pouvez faire la requ\xeate suivante :"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-shell"},"GET /users?verified=true&firstName=Jamie\n")),(0,r.mdx)("p",null,"Si vous voulez voir toutes les photos prises \xe0 New York qui ont \xe9t\xe9 post\xe9es le soir du 31 d\xe9cembre et qui ont plus de 5 000 likes, vous pouvez\nfaire la requ\xeate suivante :"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-shell"},"GET /photos?location=NYC&created\\_at=2018-12-31&likes\\_greater\\_than=5000\n")),(0,r.mdx)("p",null,"Et vous pouvez encore en ajouter ! \u2728"),(0,r.mdx)("p",null,"Pour que ces options fonctionnent, il vous faudra installer cette fonctionnalit\xe9 en utilisant le langage de code que vous avez choisi pour\nl\u2019application, car aucun d\u2019entre eux n\u2019est int\xe9gr\xe9 \xe0 une API lorsque vous la cr\xe9ez. Ici, nous avons juste simplement illustr\xe9 quelques-uns des\nmoyens possibles dont vous pouvez utiliser les requ\xeates avanc\xe9es dans votre API."),(0,r.mdx)("h3",{id:"paginez-vos-r\xe9sultats"},"Paginez vos r\xe9sultats"),(0,r.mdx)("p",null,"InstaPhoto \ud83d\udcf8 a d\xe9coll\xe9 et rencontre un immense succ\xe8s\u2009! \ud83d\ude4f Mais vous avez maintenant des milliers de photos dans votre base de donn\xe9es, ce\nqui a rendu vos endpoints /photos tr\xe8s lents, au grand dam de vos utilisateurs. \ud83d\ude30 Que faire ? Le moyen pour corriger cela se trouve dans ce\nqu\u2019on appelle la ",(0,r.mdx)("strong",{parentName:"p"},(0,r.mdx)("em",{parentName:"strong"},"pagination")),". Cela signifie que vos endpoints ne retournent qu\u2019un ",(0,r.mdx)("strong",{parentName:"p"},"nombre limit\xe9")," d\u2019entr\xe9es par ",(0,r.mdx)("strong",{parentName:"p"},"num\xe9ro de page")," dans\nvotre r\xe9ponse. Vous pouvez d\xe9cider de combien d\u2019items vous voulez sur chaque page, mais habituellement ce chiffre se situe entre 10 et 100."),(0,r.mdx)("p",null,"Pour faire plus simple, /photos renvoie ",(0,r.mdx)("strong",{parentName:"p"},"toutes")," les photos de votre application. Au lieu d\u2019avoir /photos, vous devez donc pr\xe9ciser la page\nque vous voulez obtenir dans la requ\xeate :"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-shell"},"GET /photos?page=23\n")),(0,r.mdx)("p",null,"Ainsi, vous obtiendrez uniquement la ",(0,r.mdx)("strong",{parentName:"p"},"23e")," page de photos qui en contient, disons 100 par exemple, et non la totalit\xe9 d\u2019entre elles. Le temps\nde chargement sera r\xe9duit et votre utilisateur sera ravi ! Pour voir les photos suivantes, on peut imaginer que votre utilisateur clique sur un\nbouton pour charger la suite. Et vous aurez donc :"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-shell"},"GET /photos?page=24\n")),(0,r.mdx)("p",null,"Et ainsi de suite ! \u2728"),(0,r.mdx)("p",null,"De la m\xeame fa\xe7on, lorsque vous effectuez une recherche Google, il n\u2019est pas rare d\u2019obtenir des millions de r\xe9sultats ; du coup, Google ne\nrenvoie qu\u2019une page des r\xe9sultats les plus haut class\xe9s, et vous pouvez parcourir le reste pour en voir plus."),(0,r.mdx)("figure",null,(0,r.mdx)("img",{src:"https://user.oc-static.com/upload/2021/10/15/16343013017578_image40.png",alt:"1 million de r\xe9sultats lorsque l'on cherche Kaamelott sur Google !"}),(0,r.mdx)("figcaption",null,"1 million de r\xe9sultats lorsque l'on cherche Kaamelott sur Google !")),(0,r.mdx)("p",null,"Google a besoin de paginer ses r\xe9sultats pour ne pas surcharger votre UI."),(0,r.mdx)("p",null,"La pagination permet aux utilisateurs de votre API de n\u2019appeler qu\u2019une page de r\xe9sultats \xe0 la fois, pour que votre client ou votre UI ne soit\npas d\xe9bord\xe9 par les r\xe9sultats \u2009!"),(0,r.mdx)("h3",{id:"versionnez"},"Versionnez"),(0,r.mdx)("p",null,"Le dernier outil de design important pour les API est le ",(0,r.mdx)("strong",{parentName:"p"},"versioning (ou")," ",(0,r.mdx)("strong",{parentName:"p"},(0,r.mdx)("em",{parentName:"strong"},"versionnage"),"**"),")",(0,r.mdx)("strong",{parentName:"p"},". En donnant une version \xe0 vos API, vous\npourrez facilement suivre les changements et vous assurer que votre application puisse \xeatre "),"compatible pour les versions ant\xe9rieures**. Cela\nsignifie que vous pouvez continuer \xe0 mettre \xe0 jour votre API, tout en garantissant que les utilisateurs d\xe9pendants d\u2019une version plus ancienne\npuissent continuer \xe0 l\u2019utiliser. Par exemple, si certains de vos clients utilisent d\xe9j\xe0 la version 1 de votre API, vous pouvez publier une\nversion 2 de votre API. Alors, les utilisateurs de la version 1 de l\u2019API peuvent continuer \xe0 l\u2019utiliser jusqu\u2019\xe0 ce qu\u2019ils soient pr\xeats \xe0 passer\n\xe0 la version 2. Les d\xe9veloppeurs peuvent versionner leurs API de deux mani\xe8res :"),(0,r.mdx)("ol",null,(0,r.mdx)("li",{parentName:"ol"},"Ajoutez un champ ",(0,r.mdx)("strong",{parentName:"li"},"version")," dans vos param\xe8tres d\u2019",(0,r.mdx)("strong",{parentName:"li"},"en-t\xeate"),' de requ\xeate : "accept-version": "1.3".'),(0,r.mdx)("li",{parentName:"ol"},"Ajoutez une ",(0,r.mdx)("strong",{parentName:"li"},"version")," \xe0 votre URI : ",(0,r.mdx)("strong",{parentName:"li"},"/v1/"),".")),(0,r.mdx)("p",null,"L\u2019approche la plus courante est d\u2019ajouter un ",(0,r.mdx)("strong",{parentName:"p"},"/v1")," au d\xe9but de votre URI :"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-shell"},"GET /v1/photos\n")),(0,r.mdx)("p",null,"Les \xe9l\xe9ments ci-dessus sont des fonctionnalit\xe9s bas\xe9es sur le design et que vous devez prendre en compte pour le contenu de votre API, puisque\nvous devrez choisir votre propre langage ou framework. Nous aborderons ce sujet dans le dernier chapitre."),(0,r.mdx)("h3",{id:"en-r\xe9sum\xe9-2"},"En r\xe9sum\xe9"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},"Le filtrage, la recherche et le tri sont des moyens d\u2019ajouter de la complexit\xe9 \xe0 vos requ\xeates API."),(0,r.mdx)("li",{parentName:"ul"},"La pagination aide vos clients et utilisateurs API \xe0 \xe9viter d\u2019\xeatre submerg\xe9s par trop de donn\xe9es."),(0,r.mdx)("li",{parentName:"ul"},"Le versionnage vous permet de continuer \xe0 mettre \xe0 jour votre API sans casser le code des personnes qui en d\xe9pendent d\xe9j\xe0.")),(0,r.mdx)("p",null,(0,r.mdx)("em",{parentName:"p"},"Vous venez de faire un sacr\xe9 bout de chemin : vous avez construit votre premi\xe8re API et d\xe9couvert les fonctionnalit\xe9s avanc\xe9es des endpoints.\nMais qu\u2019en est-il si vous souhaitez coder votre propre API ? Quels frameworks existent ? Quels langages utiliser ? Abordons cela rapidement\ndans le prochain et dernier chapitre de ce cours. \ud83c\udf89")),(0,r.mdx)("hr",null),(0,r.mdx)("h2",{id:"choisissez-des-frameworks-pour-construire-votre-api"},"Choisissez des frameworks pour construire votre API"),(0,r.mdx)("p",null,(0,r.mdx)("a",{parentName:"p",href:"https://openclassrooms.com/fr/courses/6573181-adoptez-les-api-rest-pour-vos-projets-web/6825316-choisissez-des-frameworks-pour-construire-votre-api"},"Choisissez des frameworks pour construire votre API - Adoptez les API REST pour vos projets web - OpenClassrooms")),(0,r.mdx)(a.fG,{vimeoId:"390934246",mdxType:"Vimeo"}),(0,r.mdx)("br",null),(0,r.mdx)("p",null,"Tout au long de cette partie, nous avons seulement trait\xe9 la th\xe9orie. Vous avez acquis des connaissances sur la conception d\u2019endpoints, le\nfiltrage, la recherche, le tri, la pagination et le versionnage. Mais comment construire l\u2019une de ces API vous-m\xeame\u2009? \ud83e\udd14"),(0,r.mdx)("h3",{id:"d\xe9couvrez-les-frameworks-les-plus-connus-pour-construire-une-api"},"D\xe9couvrez les frameworks les plus connus pour construire une API"),(0,r.mdx)("p",null,"Le processus de d\xe9veloppement d\u2019une API d\xe9pend du langage ou de l\u2019outil de programmation utilis\xe9. Nous avons vu les meilleures pratiques de\nd\xe9veloppement pour que vous soyez pr\xe9par\xe9 au mieux une fois que vous plongerez dans un langage. Voici quelques outils et frameworks populaires\nutilis\xe9s par les d\xe9veloppeurs :"),(0,r.mdx)("h4",{id:"expressjs-javascript"},"Express.js (JavaScript)"),(0,r.mdx)("figure",null,(0,r.mdx)("img",{src:"https://user.oc-static.com/upload/2021/10/15/16343014535069_image19.jpg",alt:"logo Express avec Node.js"}),(0,r.mdx)("figcaption",null,"Express avec Node.js")),(0,r.mdx)("p",null,(0,r.mdx)("a",{parentName:"p",href:"https://expressjs.com/"},"Express")," utilise Node.js et le JavaScript. C\u2019est un framework minimal et rapide. Il est tr\xe8s flexible et g\xe8re des\napplications compl\xe8tes aussi bien que des API REST. Le plus gros inconv\xe9nient est qu\u2019il n\u2019y a pas de mani\xe8re d\xe9finie de faire les choses, ce\nqui peut \xeatre difficile pour les d\xe9butants."),(0,r.mdx)("h4",{id:"ruby-on-rails-ruby"},"Ruby on Rails (Ruby)"),(0,r.mdx)("figure",null,(0,r.mdx)("img",{src:"https://user.oc-static.com/upload/2021/10/15/16343014745543_image58.png",alt:"Logo Ruby on Rails"}),(0,r.mdx)("figcaption",null,"Ruby on Rails")),(0,r.mdx)("p",null,(0,r.mdx)("a",{parentName:"p",href:"https://rubyonrails.org/"},"Ruby on Rails")," est bas\xe9 sur Ruby. C\u2019est un framework populaire pour de nombreux d\xe9veloppeurs. On le consid\xe8re comme\nun framework magique, car derri\xe8re sa simplicit\xe9 d\u2019utilisation se cache une grande complexit\xe9. Cela aide les d\xe9butants \xe0 commencer dans le\nd\xe9veloppement web plus facilement. De nombreuses librairies externes (appel\xe9es \xab Ruby gems \xbb) sont disponibles, et la communaut\xe9 de d\xe9veloppeurs\nRails est tr\xe8s vaste et met en ligne de tr\xe8s nombreux tutoriels. La courbe d\u2019apprentissage de Rails devient tr\xe8s ardue une fois que vous\nplongez plus profond\xe9ment dans le framework (pour comprendre la magie qui op\xe8re derri\xe8re)."),(0,r.mdx)("h4",{id:"django-python"},"Django (Python)"),(0,r.mdx)("figure",null,(0,r.mdx)("img",{src:"https://user.oc-static.com/upload/2021/10/15/16343015035319_image47.png",alt:"Logo Django"}),(0,r.mdx)("figcaption",null,"Django")),(0,r.mdx)("p",null,(0,r.mdx)("a",{parentName:"p",href:"https://www.djangoproject.com/"},"Django")," est bas\xe9 sur Python. Il est utilis\xe9 par de grands noms comme Google, YouTube et Instagram. Le\n",(0,r.mdx)("a",{parentName:"p",href:"https://www.django-rest-framework.org/"},"framework REST de Django")," est facile \xe0 utiliser lorsque vous construisez vos API REST avec Django. Il\ndemande un effort d\u2019apprentissage aux d\xe9butants, mais poss\xe8de d\u2019excellentes fonctionnalit\xe9s int\xe9gr\xe9es, comme l\u2019authentification et la\nmessagerie."),(0,r.mdx)("div",{className:"admonition admonition-info alert alert--info"},(0,r.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,r.mdx)("h5",{parentName:"div"},(0,r.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,r.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.mdx)("div",{parentName:"div",className:"admonition-content"},(0,r.mdx)("p",{parentName:"div"},"Vous voulez en savoir plus ? N\u2019h\xe9sitez pas \xe0 suivre le cours ",(0,r.mdx)("a",{parentName:"p",href:"https://openclassrooms.com/fr/courses/7192416-mettez-en-place-une-api-avec-django-rest-framework"},"Mettez en place une API avec Django REST framework"),"."))),(0,r.mdx)("h4",{id:"flask-python"},"Flask (Python)"),(0,r.mdx)("figure",null,(0,r.mdx)("img",{src:"https://user.oc-static.com/upload/2021/10/15/16343015194955_image2.png",alt:"Logo Flask"}),(0,r.mdx)("figcaption",null,"Flask")),(0,r.mdx)("p",null,(0,r.mdx)("a",{parentName:"p",href:"http://flask.pocoo.org/"},"Flask")," utilise Python pour le web et le d\xe9veloppement des API REST. C\u2019est un framework minimaliste, facile\nd\u2019apprentissage et d\u2019utilisation. Flask comprend moins de fonctionnalit\xe9s int\xe9gr\xe9es que Django, mais permet aux d\xe9veloppeurs d\u2019avoir davantage\nde choix dans les outils additionnels qu\u2019ils utilisent."),(0,r.mdx)("h4",{id:"spring-java"},"Spring (Java)"),(0,r.mdx)("figure",null,(0,r.mdx)("img",{src:"https://user.oc-static.com/upload/2021/10/15/16343015467408_image50.png",alt:"Logo Spring"}),(0,r.mdx)("figcaption",null,"Spring")),(0,r.mdx)("p",null,(0,r.mdx)("a",{parentName:"p",href:"https://spring.io/projects/spring-boot"},"Spring")," est un framework web qui utilise Java, un langage tr\xe8s populaire. Il est utilis\xe9 par des sites\nweb tels que Wix, TicketMaster et BillGuard. Il poss\xe8de de nombreux outils li\xe9s qui boostent sa performance et vous permettent de mettre\nfacilement votre business \xe0 l\u2019\xe9chelle, mais il peut \xeatre difficile \xe0 prendre en main au d\xe9but \u2013 surtout si vous ne ma\xeetrisez pas Java."),(0,r.mdx)("div",{className:"admonition admonition-info alert alert--info"},(0,r.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,r.mdx)("h5",{parentName:"div"},(0,r.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,r.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.mdx)("div",{parentName:"div",className:"admonition-content"},(0,r.mdx)("p",{parentName:"div"},"Vous voulez en savoir plus ? N\u2019h\xe9sitez pas \xe0 suivre la ",(0,r.mdx)("a",{parentName:"p",href:"https://openclassrooms.com/fr/courses/6900101-creez-une-application-java-avec-spring-boot/7078007-creez-lapi-avec-les-bons-starters"},"partie 3"),"\ndu cours ",(0,r.mdx)("em",{parentName:"p"},"Cr\xe9ez une application Java avec Spring Boot"),"."))),(0,r.mdx)("h4",{id:"aws-api-gateway"},"AWS API Gateway"),(0,r.mdx)("figure",null,(0,r.mdx)("img",{src:"https://user.oc-static.com/upload/2021/10/15/16343015630515_image3.png",alt:"Logo AWS API Gateway"}),(0,r.mdx)("figcaption",null,"AWS API Gateway")),(0,r.mdx)("p",null,(0,r.mdx)("a",{parentName:"p",href:"https://aws.amazon.com/api-gateway/"},"AWS API Gateway")," et ",(0,r.mdx)("a",{parentName:"p",href:"https://aws.amazon.com/lambda/"},"AWS Lambda")," sont des moyens de cr\xe9er et d\u2019utiliser\ndes API REST en utilisant principalement une interface utilisateur (donc moins de code\u2009!). Ils vous permettent d\u2019int\xe9grer facilement votre site\nweb avec tous les services AWS, et vous pouvez ais\xe9ment scaler et g\xe9rer plus de requ\xeates avec leur infrastructure. Vous devez payer par requ\xeate\neffectu\xe9e par utilisateur \xe0 vos serveurs, mais le premier million est gratuit\u2009! (Soyez prudent tout de m\xeame, le nombre de requ\xeates augmente\nrapidement)."),(0,r.mdx)("p",null,"Le choix de l\u2019outil doit avant tout ",(0,r.mdx)("strong",{parentName:"p"},"d\xe9pendre des besoins de votre application"),". Assurez-vous de faire les recherches n\xe9cessaires sur les\nframeworks et les librairies disponibles, pour choisir ce qui correspond \xe0 vos besoins. Une fois votre API construite et d\xe9ploy\xe9e sur le web,\nvous pouvez utiliser Postman comme nous l\u2019avons fait dans l\u2019ensemble de ce cours, pour la tester\u2009!"),(0,r.mdx)("h3",{id:"en-r\xe9sum\xe9-3"},"En r\xe9sum\xe9"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},"Il existe de nombreux outils et frameworks que vous pouvez utiliser pour mettre en pratique ces concepts."),(0,r.mdx)("li",{parentName:"ul"},"Assurez-vous de bien faire vos recherches avant de choisir quel outil API vous convient le mieux.")),(0,r.mdx)("p",null,(0,r.mdx)("em",{parentName:"p"},"Bravo, vous \xeates arriv\xe9 au bout de ce cours. Rendez-vous dans le chapitre suivant pour une rapide conclusion.")),(0,r.mdx)("hr",null),(0,r.mdx)("h2",{id:"r\xe9sum\xe9-du-cours"},"R\xe9sum\xe9 du cours"),(0,r.mdx)("p",null,(0,r.mdx)("a",{parentName:"p",href:"https://openclassrooms.com/fr/courses/6573181-adoptez-les-api-rest-pour-vos-projets-web/6825441-resume-du-cours"},"R\xe9sum\xe9 du cours - Adoptez les API REST pour vos projets web - OpenClassrooms")),(0,r.mdx)(a.fG,{vimeoId:"390934267",mdxType:"Vimeo"}),(0,r.mdx)("br",null),(0,r.mdx)("p",null,"F\xe9licitations\u2009! \ud83d\udc4f Je suis fi\xe8re de vous ! Nous avons vu beaucoup de choses et vous \xeates parvenu \xe0 la fin de ce cours\u2009! Vous avez appris ce\nqu\u2019est une API, \xe0 utiliser une API et enfin \xe0 en concevoir une. \u2728"),(0,r.mdx)("p",null,"Vous avez maintenant toutes les connaissances n\xe9cessaires pour :"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},"identifier la valeur des API REST pour vos projets de code ;"),(0,r.mdx)("li",{parentName:"ul"},"formuler des requ\xeates et envoyer des r\xe9ponses avec une API REST ;"),(0,r.mdx)("li",{parentName:"ul"},"concevoir des endpoints pour les API REST.")),(0,r.mdx)("p",null,"Il ne vous reste plus qu\u2019\xe0 mettre en pratique vos nouvelles comp\xe9tences\u2009; tout d\u2019abord en vous mettant au d\xe9fi de passer le quiz final, puis\nen int\xe9grant des API dans vos propres projets de code\u2009! \ud83d\ude4c"),(0,r.mdx)("p",null,"Avant de vous laisser, voici un ",(0,r.mdx)("a",{parentName:"p",href:"https://s3-eu-west-1.amazonaws.com/course.oc-static.com/courses/6573181/Construisez+vos+projets+web+avec+les+APIs+REST_+le+lexique+.pdf"},"lexique"),"\nreprenant les principales notions abord\xe9es dans ce cours."),(0,r.mdx)("embed",{style:{width:"100%",height:"667px"},src:"https://s3-eu-west-1.amazonaws.com/course.oc-static.com/courses/6573181/Construisez+vos+projets+web+avec+les+APIs+REST_+le+lexique+.pdf"}),(0,r.mdx)("figure",null,(0,r.mdx)("img",{src:"https://user.oc-static.com/upload/2021/10/15/16343017102949_image63.png",alt:"Extrait du r\xe9sum\xe9 du cours"}),(0,r.mdx)("figcaption",null,"Extrait du r\xe9sum\xe9 du cours")),(0,r.mdx)("p",null,"Happy coding !"),(0,r.mdx)("hr",null),(0,r.mdx)("h2",{id:"quiz--concevez-des-api-rest"},"Quiz : Concevez des API REST"),(0,r.mdx)("p",null,(0,r.mdx)("a",{parentName:"p",href:"https://openclassrooms.com/fr/courses/6573181-adoptez-les-api-rest-pour-vos-projets-web/exercises/4279"},"Concevez des API REST - OpenClassrooms")),(0,r.mdx)("h4",{id:"comp\xe9tences-\xe9valu\xe9es"},"Comp\xe9tences \xe9valu\xe9es"),(0,r.mdx)("i",{class:"bi bi-check2-circle"})," Concevoir des API REST",(0,r.mdx)("hr",null),(0,r.mdx)("h4",{id:"description"},"Description"),(0,r.mdx)("p",null,"Vous faites partie des nouveaux contributeurs de l\u2019API Star Wars ",(0,r.mdx)("a",{parentName:"p",href:"https://swapi.dev/"},"SWAPI"),", qui vous a \xe9t\xe9 pr\xe9sent\xe9e dans le quiz de la\npartie 2. Votre objectif : int\xe9grer au sein de l\u2019API des citations de chaque film. Pour y parvenir, vous devez concevoir de nouveaux endpoints.\nCes derniers devront retourner :"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},"toutes les citations ;"),(0,r.mdx)("li",{parentName:"ul"},"les citations des personnages ;"),(0,r.mdx)("li",{parentName:"ul"},"les citations des personnages par film.")),(0,r.mdx)("p",null,"Nous vous conseillons de consulter la ",(0,r.mdx)("a",{parentName:"p",href:"https://swapi.dev/documentation"},"documentation")," de l\u2019API avant de r\xe9aliser ce quiz."),(0,r.mdx)("p",null,"Pr\xeat ? Et c\u2019est parti !"),(0,r.mdx)("hr",null),(0,r.mdx)("h4",{id:"question-1--commencez-par-d\xe9finir-votre-collection-sachant-que-citation-se-dit-quote-en-anglais-comment-allez-vous-la-nommer-"},"Question 1 : Commencez par d\xe9finir votre collection. Sachant que ",(0,r.mdx)("em",{parentName:"h4"},"citation")," se dit \u201cquote\u201d en anglais, comment allez-vous la nommer ?"),(0,r.mdx)("i",{class:"bi bi-circle"})," ApiQuotes",(0,r.mdx)("br",null),(0,r.mdx)("i",{class:"bi bi-record-circle"})," Quotes",(0,r.mdx)("br",null),(0,r.mdx)("i",{class:"bi bi-circle"})," ApiQuote",(0,r.mdx)("br",null),(0,r.mdx)("i",{class:"bi bi-circle"})," Quote",(0,r.mdx)("br",null),(0,r.mdx)("br",null),(0,r.mdx)("p",null,(0,r.mdx)("em",{parentName:"p"},"Selon la nomenclature, les collections sont un ensemble de ressources et sont toujours repr\xe9sent\xe9es au ",(0,r.mdx)("strong",{parentName:"em"},"pluriel"),". La bonne r\xe9ponse est donc\nQuotes."),(0,r.mdx)("br",null),"\n",(0,r.mdx)("em",{parentName:"p"},"Les r\xe9ponses 3 et 4 sont fausses car au singulier."),(0,r.mdx)("br",null),"\n",(0,r.mdx)("em",{parentName:"p"},"Pour ce qui est de la r\xe9ponse 1, nous n\u2019avons pas besoin de pr\xe9ciser le terme API dans notre nom de collection.")),(0,r.mdx)("hr",null),(0,r.mdx)("h4",{id:"question-2--maintenant-que-vous-avez-d\xe9termin\xe9-votre-collection-comment-nommez-vous-votre-ressource-"},"Question 2 : Maintenant que vous avez d\xe9termin\xe9 votre collection, comment nommez-vous votre ressource ?"),(0,r.mdx)("i",{class:"bi bi-circle"})," ApiQuotes",(0,r.mdx)("br",null),(0,r.mdx)("i",{class:"bi bi-circle"})," Quotes",(0,r.mdx)("br",null),(0,r.mdx)("i",{class:"bi bi-circle"})," ApiQuote",(0,r.mdx)("br",null),(0,r.mdx)("i",{class:"bi bi-record-circle"})," Quote",(0,r.mdx)("br",null),(0,r.mdx)("br",null),(0,r.mdx)("p",null,(0,r.mdx)("em",{parentName:"p"},"Selon la nomenclature, les ressources sont toujours au singulier. La bonne r\xe9ponse est donc ",(0,r.mdx)("strong",{parentName:"em"},"Quote"),"."),(0,r.mdx)("br",null),"\n",(0,r.mdx)("em",{parentName:"p"},"Les r\xe9ponses 1 et 2 sont fausses car au pluriel."),(0,r.mdx)("br",null),"\n",(0,r.mdx)("em",{parentName:"p"},"Pour ce qui est de la r\xe9ponse 3, nous n\u2019avons pas besoin de pr\xe9ciser le terme API dans notre nom de ressource.")),(0,r.mdx)("hr",null),(0,r.mdx)("h4",{id:"question-3--le-premier-endpoint-que-vous-devez-cr\xe9er-doit-retourner-la-liste-de-toutes-les-citations-quelle-uri-allez-vous-utiliser-"},"Question 3 : Le premier endpoint que vous devez cr\xe9er doit retourner la liste de toutes les citations. Quelle URI allez-vous utiliser ?"),(0,r.mdx)("i",{class:"bi bi-circle"})," READ /quotes/:quoteId",(0,r.mdx)("br",null),(0,r.mdx)("i",{class:"bi bi-record-circle"})," GET /quotes",(0,r.mdx)("br",null),(0,r.mdx)("i",{class:"bi bi-circle"})," READ /quotes",(0,r.mdx)("br",null),(0,r.mdx)("i",{class:"bi bi-circle"})," GET /quotes/:quoteId",(0,r.mdx)("br",null),(0,r.mdx)("br",null),(0,r.mdx)("p",null,(0,r.mdx)("em",{parentName:"p"},"Pour obtenir cette nouvelle ressource, vous allez utiliser le verbe HTTP \u201cGET\u201d associ\xe9 \xe0 la collection \u201cquotes\u201d. Rappelez-vous :"),(0,r.mdx)("br",null),"\n",(0,r.mdx)("em",{parentName:"p"},"POST permet de cr\xe9er une nouvelle ressource."),(0,r.mdx)("br",null),"\n",(0,r.mdx)("em",{parentName:"p"},"PUT permet de mettre \xe0 jour une ressource."),(0,r.mdx)("br",null),"\n",(0,r.mdx)("em",{parentName:"p"},"DELETE permet de supprimer une ressource."),(0,r.mdx)("br",null),"\n",(0,r.mdx)("em",{parentName:"p"},"Les r\xe9ponses 1 et 3 sont fausses car READ n\u2019est pas un verbe HTTP. La r\xe9ponse 4 retourne une citation : l\u2019ID de la citation ",(0,r.mdx)("strong",{parentName:"em"},"quoteId")," est\npr\xe9cis\xe9e dans l\u2019URI.")),(0,r.mdx)("hr",null),(0,r.mdx)("h4",{id:"question-4--\xe0-pr\xe9sent-vous-devez-obtenir-une-citation-gr\xe2ce-\xe0-son-id-quelle-uri-allez-vous-utiliser-"},"Question 4 : \xc0 pr\xe9sent, vous devez obtenir une citation gr\xe2ce \xe0 son ID, quelle URI allez-vous utiliser ?"),(0,r.mdx)("i",{class:"bi bi-circle"})," PUT /quotes/:id",(0,r.mdx)("br",null),(0,r.mdx)("i",{class:"bi bi-circle"})," POST /quotes/:id",(0,r.mdx)("br",null),(0,r.mdx)("i",{class:"bi bi-record-circle"})," GET /quotes/:quoteId",(0,r.mdx)("br",null),(0,r.mdx)("i",{class:"bi bi-circle"})," GET /quoteId/:quotes",(0,r.mdx)("br",null),(0,r.mdx)("br",null),(0,r.mdx)("p",null,(0,r.mdx)("em",{parentName:"p"},"Pour obtenir une ressource en particulier, vous devez utiliser GET, ainsi qu\u2019un ID : ici ",(0,r.mdx)("strong",{parentName:"em"},"quoteID"),". La bonne r\xe9ponse est la 3."),(0,r.mdx)("br",null),"\n",(0,r.mdx)("em",{parentName:"p"},"Les r\xe9ponses 1 et 2 sont fausses : PUT s\u2019utilise dans le cadre d\u2019une mise \xe0 jour, tandis que POST est utilis\xe9 pour une cr\xe9ation."),(0,r.mdx)("br",null),"\n",(0,r.mdx)("em",{parentName:"p"},"La r\xe9ponse 4 inverse les param\xe8tres : on acc\xe8de d\u2019abord \xe0 la collection (ici quotes) avant d\u2019acc\xe9der \xe0 la ressource (sp\xe9cifi\xe9e ici avec\n",(0,r.mdx)("strong",{parentName:"em"},"quoteId"),").")),(0,r.mdx)("hr",null),(0,r.mdx)("h4",{id:"question-5--vous-voulez-maintenant-que-les-utilisateurs-de-votre-api-puissent-obtenir-toutes-les-citations-dun-personnage-quelle-uri-utilisez-vous-"},"Question 5 : Vous voulez maintenant que les utilisateurs de votre API puissent obtenir toutes les citations d\u2019un personnage. Quelle URI utilisez-vous ?"),(0,r.mdx)("i",{class:"bi bi-circle"})," GET /quotes/:quoteId/characters",(0,r.mdx)("br",null),(0,r.mdx)("i",{class:"bi bi-circle"})," GET /people/:id/",(0,r.mdx)("br",null),(0,r.mdx)("i",{class:"bi bi-circle"})," GET /quotes/:quoteId/characters/:id",(0,r.mdx)("br",null),(0,r.mdx)("i",{class:"bi bi-record-circle"})," GET /people/:id/quotes",(0,r.mdx)("br",null),(0,r.mdx)("br",null),(0,r.mdx)("p",null,(0,r.mdx)("em",{parentName:"p"},"Selon la ",(0,r.mdx)("a",{parentName:"em",href:"https://swapi.dev/documentation#people"},"documentation"),", pour obtenir les informations d\u2019un personnage, vous devez utiliser\nl\u2019endpoint ",(0,r.mdx)("strong",{parentName:"em"},"/people/:id"),". Le nom de votre collection est ",(0,r.mdx)("strong",{parentName:"em"},"quotes"),". La bonne r\xe9ponse est la 4."),(0,r.mdx)("br",null),"\n",(0,r.mdx)("em",{parentName:"p"},"La r\xe9ponse 2 nous retourne les informations d\u2019un personnage mais pas ses citations : elle est donc fausse. Pour que la r\xe9ponse 2 soit valide,\nil lui manque le param\xe8tre ",(0,r.mdx)("strong",{parentName:"em"},"quoteId"),"."),(0,r.mdx)("br",null),"\n",(0,r.mdx)("em",{parentName:"p"},"Les r\xe9ponses 1 et 3 sont fausses car ",(0,r.mdx)("strong",{parentName:"em"},"characters")," n\u2019est pas une collection valide pour cette API : elle n\u2019existe pas.")),(0,r.mdx)("hr",null),(0,r.mdx)("h4",{id:"question-6--parmi-les-propositions-suivantes-laquelle-permet-de-supprimer-une-citation-"},"Question 6 : Parmi les propositions suivantes, laquelle permet de supprimer une citation ?"),(0,r.mdx)("i",{class:"bi bi-circle"})," DELETE /people/:quoteId",(0,r.mdx)("br",null),(0,r.mdx)("i",{class:"bi bi-circle"})," DESTROY /quotes/:quoteId",(0,r.mdx)("br",null),(0,r.mdx)("i",{class:"bi bi-record-circle"})," DELETE /quotes/:quoteId",(0,r.mdx)("br",null),(0,r.mdx)("i",{class:"bi bi-circle"})," DESTROY /people",(0,r.mdx)("br",null),(0,r.mdx)("br",null),(0,r.mdx)("p",null,(0,r.mdx)("em",{parentName:"p"},"Pour supprimer une ressource, vous devez utiliser le verbe DELETE. De ce fait, les r\xe9ponses 2 et 4 sont fausses."),(0,r.mdx)("br",null),"\n",(0,r.mdx)("em",{parentName:"p"},"Ici nous voulons supprimer une ressource ",(0,r.mdx)("strong",{parentName:"em"},"Quote")," qui fait partie de la collection ",(0,r.mdx)("strong",{parentName:"em"},"Quotes"),". Il nous faut donc l\u2019id de la citation. La\nbonne r\xe9ponse est donc : DELETE /quotes/:quoteId."),(0,r.mdx)("br",null),"\n",(0,r.mdx)("em",{parentName:"p"},"La r\xe9ponse 1 serait juste si on voulait supprimer un personnage.")),(0,r.mdx)("hr",null),(0,r.mdx)("h4",{id:"question-7--vous-avez-cr\xe9\xe9-les-endpoints-pour-obtenir-la-liste-de-toutes-les-citations-puis-dune-citation-en-particulier-maintenant-vous-souhaitez-cr\xe9er-un-endpoint-pour-obtenir-toutes-les-citations-dun-film-pr\xe9cis-quelle-uri-utilisez-vous-"},"Question 7 : Vous avez cr\xe9\xe9 les endpoints pour obtenir la liste de toutes les citations, puis d\u2019une citation en particulier. Maintenant, vous souhaitez cr\xe9er un endpoint pour obtenir toutes les citations d\u2019un film pr\xe9cis. Quelle URI utilisez-vous ?"),(0,r.mdx)("i",{class:"bi bi-record-circle"})," GET /films/:id/quotes",(0,r.mdx)("br",null),(0,r.mdx)("i",{class:"bi bi-circle"})," GET /films/:quoteId/quotes",(0,r.mdx)("br",null),(0,r.mdx)("i",{class:"bi bi-circle"})," GET /movies/:id/quotes",(0,r.mdx)("br",null),(0,r.mdx)("i",{class:"bi bi-circle"})," POST /movies/:id/films/:id/quotes",(0,r.mdx)("br",null),(0,r.mdx)("br",null),(0,r.mdx)("p",null,(0,r.mdx)("em",{parentName:"p"},"La ",(0,r.mdx)("a",{parentName:"em",href:"https://swapi.dev/documentation#films"},"documentation")," nous indique que pour obtenir un film, il faut utiliser l\u2019URI suivante :\n",(0,r.mdx)("strong",{parentName:"em"},"films/:id"),". Ici nous voulons r\xe9cup\xe9rer les citations d\u2019un film en particulier. On commence par le film ",(0,r.mdx)("strong",{parentName:"em"},"/films/:id"),", ensuite on r\xe9cup\xe8re\nles citations avec ",(0,r.mdx)("strong",{parentName:"em"},"/quotes"),". On obtient la r\xe9ponse 1 : ",(0,r.mdx)("strong",{parentName:"em"},"/films/:id/quotes"),"."),(0,r.mdx)("br",null),"\n",(0,r.mdx)("em",{parentName:"p"},"La r\xe9ponse 2 utilise l\u2019ID de la citation et non celle du film dont on veut obtenir les citations."),(0,r.mdx)("br",null),"\n",(0,r.mdx)("em",{parentName:"p"},"La r\xe9ponse 3 est fausse : elle utilise la ressource ",(0,r.mdx)("strong",{parentName:"em"},"movies")," et non ",(0,r.mdx)("strong",{parentName:"em"},"films"),"."),(0,r.mdx)("br",null),"\n",(0,r.mdx)("em",{parentName:"p"},"La r\xe9ponse 4 est fausse : POST sert \xe0 cr\xe9er et non obtenir une ressource, de plus elle utilise la ressource ",(0,r.mdx)("strong",{parentName:"em"},"movies")," et non ",(0,r.mdx)("strong",{parentName:"em"},"films"),".")),(0,r.mdx)("hr",null),(0,r.mdx)("h4",{id:"question-8--parmi-les-propositions-suivantes-laquelle-modifierait-la-citation-luke-i-am-your-father-en-no-i-am-your-father-"},"Question 8 : Parmi les propositions suivantes, laquelle modifierait la citation \u201cLuke, I am your father!\u201d en \u201cNo, I am your father.\u201d ?"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-json"},'{\n    "title": "No, I am your father."\n}\n')),(0,r.mdx)("i",{class:"bi bi-circle"})," POST /films/:id/quotes",(0,r.mdx)("br",null),(0,r.mdx)("i",{class:"bi bi-circle"})," POST /quotes/:quoteId/",(0,r.mdx)("br",null),(0,r.mdx)("i",{class:"bi bi-circle"})," PUT /films/:id",(0,r.mdx)("br",null),(0,r.mdx)("i",{class:"bi bi-record-circle"})," PUT /quotes/:quoteId",(0,r.mdx)("br",null),(0,r.mdx)("br",null),(0,r.mdx)("p",null,(0,r.mdx)("em",{parentName:"p"},"Dans cette situation, vous deviez mettre \xe0 jour l\u2019attribut name avec une nouvelle valeur. Vous allez donc utiliser : PUT /quotes/:quoteId."),(0,r.mdx)("br",null),"\n",(0,r.mdx)("em",{parentName:"p"},"Les r\xe9ponses 1 et 2 sont fausses car POST s\u2019utilise pour cr\xe9er une ressource."),(0,r.mdx)("br",null),"\n",(0,r.mdx)("em",{parentName:"p"},"La r\xe9ponse 3 serait juste si vous vouliez mettre \xe0 jour le titre d\u2019un film. Or, dans cette situation, vous voulez mettre \xe0 jour une citation\n",(0,r.mdx)("strong",{parentName:"em"},"quoteId")," qui fait partie de la collection ",(0,r.mdx)("strong",{parentName:"em"},"quotes"),".")),(0,r.mdx)("hr",null),(0,r.mdx)("h4",{id:"question-9--vous-voulez-\xe9toffer-votre-api-et-permettre-aux-utilisateurs-de-passer-plusieurs-param\xe8tres-dans-une-requ\xeate-quel-signe-utilisez-vous-"},"Question 9 : Vous voulez \xe9toffer votre API et permettre aux utilisateurs de passer plusieurs param\xe8tres dans une requ\xeate. Quel signe utilisez-vous ?"),(0,r.mdx)("i",{class:"bi bi-circle"})," $",(0,r.mdx)("br",null),(0,r.mdx)("i",{class:"bi bi-circle"})," &",(0,r.mdx)("br",null),(0,r.mdx)("i",{class:"bi bi-record-circle"})," ?",(0,r.mdx)("br",null),(0,r.mdx)("i",{class:"bi bi-circle"})," :",(0,r.mdx)("br",null),(0,r.mdx)("br",null),(0,r.mdx)("p",null,(0,r.mdx)("em",{parentName:"p"},"Vous devez utiliser le point d\u2019interrogation car c\u2019est un moyen pour l\u2019API de savoir que vous passez un ",(0,r.mdx)("strong",{parentName:"em"},"param\xe8tre"),". Rappelez-vous : un\nparam\xe8tre est une donn\xe9e qui sera manipul\xe9e, utilis\xe9e d\u2019une certaine mani\xe8re, que ce soit par le client, le serveur ou ici votre API !")),(0,r.mdx)("hr",null),(0,r.mdx)("h4",{id:"question-10--pour-cette-question-on-consid\xe8re-quune-ressource-quote-a-pour-attributs-"},"Question 10 : Pour cette question, on consid\xe8re qu\u2019une ressource Quote a pour attributs :"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("strong",{parentName:"li"},(0,r.mdx)("em",{parentName:"strong"},"from")," : le nom du personnage qui prononce la citation ;")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("strong",{parentName:"li"},(0,r.mdx)("em",{parentName:"strong"},"to")," : le nom du personnage \xe0 qui est adress\xe9e la citation ;")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("strong",{parentName:"li"},(0,r.mdx)("em",{parentName:"strong"},"title")," : la citation en question."))),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Vous voulez permettre aux utilisateurs de filtrer les r\xe9ponses et d\u2019obtenir toutes les citations adress\xe9es \xe0 un personnage. Par exemple ici,\ntoutes les citations qui sont adress\xe9es \xe0 Luke. Quelle URI utilisez-vous ?")),(0,r.mdx)("i",{class:"bi bi-circle"})," GET /people/1/quotes?to=Luke",(0,r.mdx)("br",null),(0,r.mdx)("i",{class:"bi bi-circle"})," GET /quotes&to=Luke",(0,r.mdx)("br",null),(0,r.mdx)("i",{class:"bi bi-record-circle"})," GET /quotes?to=Luke",(0,r.mdx)("br",null),(0,r.mdx)("i",{class:"bi bi-circle"})," GET /quotes?from=Luke",(0,r.mdx)("br",null),(0,r.mdx)("br",null),(0,r.mdx)("p",null,(0,r.mdx)("em",{parentName:"p"},"L\u2019attribut sur lequel vous devez effectuer une recherche est ",(0,r.mdx)("strong",{parentName:"em"},"to"),". On obtient en premier toutes les citations gr\xe2ce \xe0 l\u2019URI ",(0,r.mdx)("strong",{parentName:"em"},"/quotes"),",\nsur lequel on filtre les r\xe9ponses gr\xe2ce \xe0 l\u2019attribut ",(0,r.mdx)("strong",{parentName:"em"},"to"),". La bonne r\xe9ponse est donc /quotes?to=Luke"),(0,r.mdx)("br",null),"\n",(0,r.mdx)("em",{parentName:"p"},"La r\xe9ponse 1 est fausse car on obtient toutes les citations prononc\xe9es par Obi-Wan et adress\xe9es \xe0 Luke. Dans notre cas, nous voulons ",(0,r.mdx)("strong",{parentName:"em"},"toutes"),"\nles citations adress\xe9es \xe0 Luke."),(0,r.mdx)("br",null),"\n",(0,r.mdx)("em",{parentName:"p"},"La r\xe9ponse 2 est fausse car le signe ",(0,r.mdx)("strong",{parentName:"em"},"&")," s\u2019utilise pour ajouter des param\xe8tres ; pour que l\u2019API comprenne que nous passons des param\xe8tres il\nfaut en premier lieu ajouter ",(0,r.mdx)("strong",{parentName:"em"},"?")," avant vos param\xe8tres."),(0,r.mdx)("br",null),"\n",(0,r.mdx)("em",{parentName:"p"},"La r\xe9ponse 4 est fausse car elle utilise l\u2019attribut from et non to.")))}c.isMDXComponent=!0}}]);